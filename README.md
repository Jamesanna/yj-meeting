# 羿鈞科技會議室預約系統 (Meeting Hub)

![Version](https://img.shields.io/badge/Version-2.198-orange)
![Security](https://img.shields.io/badge/Auth-Google_Workspace-blue)
![Database](https://img.shields.io/badge/DB-Firebase_Firestore-yellow)

這是一款專為羿鈞科技設計的企業級會議室預約管理系統。系統核心目標在於解決會議室搶用問題，並提供安全、高效且支援行動端的預約體驗。

---

## 🌟 系統亮點 (V2.198)

- **全平台響應**: 針對手機端進行深度優化，後台管理介面全面卡片化，操作流暢不卡頓。
- **身分驗證 2.0**: 採用 Google Workspace 帳號比對機制，並支援 RBAC 權限控管系統（管理員/一般使用者）。
- **內網辨識 (Express Mode)**: 自動偵測辦公室網路環境，縮短預約路徑。
- **雲端同步**: 全面對接 Firebase Firestore，實現跨裝置即時資料同步。
- **環境變數架構**: 關鍵參數全面採用環境變數管理，提升 GitHub 部署安全性。

---

## 📖 一般員工操作指南

### 1. 會議室預約流程
1. **身分登入**: 點擊右上方「登入」按鈕，完成 Google 帳號驗證。
2. **日期選取**: 在月曆中點擊欲預約的工作日（週一至週五）。
3. **確認時段**: 
   - 系統會彈出預約視窗，預設時段為 30 分鐘一組。
   - 可點擊「快速設定」選取：全日、上午或下午。
4. **填寫用途**: 輸入會議主題或目的。
5. **儲存確認**: 提交後系統會即時更新月曆上的標記，並同步顯示於下方的「預約詳情」。

### 2. 快速預約模式 (Express Mode)
- **掃碼預約**: 掃描會議室門口的 QR Code 進入系統。
- **自動偵測**: 若身處辦公室內網，系統將自動跳過日期選取步驟，直接開啟當日預約視窗。

### 3. 來賓 WiFi 連線
- 點擊標題列的 WiFi 圖示，可查看目前對圖外開放的 **Guest SSID** 與 **密碼**。
- 提供連線專用 QR Code，手機掃描後可自動連接。

---

## 🛡️ 管理端維護指南 (Admin Only)

### 1. 權限進入方式
- **方式 A (Google 綁定)**: 被設定為「系統管理員」的角色，登入 Google 後可直接進入。
- **方式 B (傳統帳密)**: 使用 `sysop` 帳號進行維護。
- **建議**: 登入後可勾選「記住此帳號」以便後續快速維護。

### 2. 系統維護核心
- **人員管理 (White List)**: 此區塊為公司授權預約的總清單，管理員亦會在此顯示以便統一維護。
- **系統帳號 (Admins)**: 專注於權限審核、後台專用帳密維護。
- **參數調整**: 動態調整「允許網域」、「WiFi SSID」等核心參數，即時同步至前端。
- **改版紀錄**: 系統內建開發日誌，與 README.md 同步紀錄所有版本修正細節。

---

## 📅 完整版本更新紀錄 (Changelog)

### v2.198 - 登入驗證邏輯修復 (2026-02-09)
- 修復「管理權限帳號」無法通過前台 Google 登入白名單驗證之異常。
- 確保提升至管理權限之同仁，依然保有前台會議室預約之完整權利。

### v2.197 - 權限視圖與維護優化 (2026-02-09)
- 優化人員清單顯示邏輯：管理員帳號現在會同步出現在「員工管理」白名單中，避免設定權限後帳號「位移」感。
- 現在「員工管理」將作為完整的企業白名單總表，而「系統帳號」則專注於權限審核與密碼維護。

### v2.196 - 研發文件同步自動化 (2026-02-09)
- 將後台維護之改版紀錄同步鏡射至專案根目錄之 README.md。
- 確保外部開發文件與系統內部之資訊一致性，便於團隊協作參考。

### v2.195 - 後台管理穩定性修復 (2026-02-09)
- 修復「權限角色」切換後無法正常儲存之異常問題。
- 加入「儲存中」視覺回饋狀態，防止連點導致的資料衝突。
- 強化資料庫操作錯誤攔截 (Error Handling)，確保異常時能即時提示。
- 同步修正手機版介面的人員編輯邏輯漏洞。

### v2.194 - 登入介面交互體驗優化 (2026-02-09)
- 管理員登入視窗支援鍵盤「Enter」鍵觸發，提升操作效率。
- 優化表單提交邏輯，確保與瀏覽器原生行為一致。

### v2.193 - 基於角色的權限控管 (RBAC) (2026-02-09)
- 實現 Google 帳號與管理權限綁定，支援管理員透過 Email 指派後台權限。
- 後台加入「帳號類型」設定，可彈性切換「一般同仁」與「系統管理員」。
- 優化登入流程：管理員透過 Google 登入後將自動開啟管理介面存取權限。

### v2.192 - 連線參數精確調校 (2026-02-09)
- 完成 Firebase API Key 大小寫精確校準，修復 Auth 驗證失效問題。
- 確保生產環境連線配置與 Google Cloud 後台 100% 同步。

### v2.191 - API 金鑰效度校準 (2026-02-09)
- 追蹤並處理 Google Auth 「API-KEY-NOT-VALID」異常。
- 進入 Firebase 專案參數校驗流程，確保生產環境連線配置正確。

### v2.190 - 登入功能徹底修復 (2026-02-09)
- 修復 Firebase Auth 引用遺漏導致的登入行為異常。
- 優化系統啟動載入順序，確保 Google 驗證服務 100% 可用。
- 增加更詳細的錯誤提示引導，協助使用者排除彈窗攔截問題。

### v1.0 - 系統正式啟動 (2025-01-01)
- 會議室預約核心邏輯、Google 登入驗證、基本管理後台完成。

---
*Senior Frontend Engineer - 羿鈞科技專案開發小組*