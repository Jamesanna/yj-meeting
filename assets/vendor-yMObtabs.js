function N0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Bd={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function QS(){if(j_)return wl;j_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var y in o)y!=="key"&&(u[y]=o[y])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:u}}return wl.Fragment=t,wl.jsx=n,wl.jsxs=n,wl}var F_;function KS(){return F_||(F_=1,Bd.exports=QS()),Bd.exports}var QM=KS(),qd={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function XS(){if(G_)return Et;G_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function k(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,Y={};function ot(O,K,nt){this.props=O,this.context=K,this.refs=Y,this.updater=nt||q}ot.prototype.isReactComponent={},ot.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ot.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function it(){}it.prototype=ot.prototype;function Z(O,K,nt){this.props=O,this.context=K,this.refs=Y,this.updater=nt||q}var dt=Z.prototype=new it;dt.constructor=Z,$(dt,ot.prototype),dt.isPureReactComponent=!0;var Rt=Array.isArray;function Mt(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(O,K,nt){var rt=nt.ref;return{$$typeof:r,type:O,key:K,ref:rt!==void 0?rt:null,props:nt}}function V(O,K){return I(O.type,K,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function x(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return K[nt]})}var R=/\/+/g;function Bt(O,K){return typeof O=="object"&&O!==null&&O.key!=null?x(""+O.key):K.toString(36)}function Qt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Mt,Mt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,K,nt,rt,_t){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var Ut=!1;if(O===null)Ut=!0;else switch(bt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(O.$$typeof){case r:case t:Ut=!0;break;case E:return Ut=O._init,F(Ut(O._payload),K,nt,rt,_t)}}if(Ut)return _t=_t(O),Ut=rt===""?"."+Bt(O,0):rt,Rt(_t)?(nt="",Ut!=null&&(nt=Ut.replace(R,"$&/")+"/"),F(_t,K,nt,"",function(ua){return ua})):_t!=null&&(M(_t)&&(_t=V(_t,nt+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+Ut)),K.push(_t)),1;Ut=0;var Ne=rt===""?".":rt+":";if(Rt(O))for(var oe=0;oe<O.length;oe++)rt=O[oe],bt=Ne+Bt(rt,oe),Ut+=F(rt,K,nt,bt,_t);else if(oe=k(O),typeof oe=="function")for(O=oe.call(O),oe=0;!(rt=O.next()).done;)rt=rt.value,bt=Ne+Bt(rt,oe++),Ut+=F(rt,K,nt,bt,_t);else if(bt==="object"){if(typeof O.then=="function")return F(Qt(O),K,nt,rt,_t);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function et(O,K,nt){if(O==null)return O;var rt=[],_t=0;return F(O,rt,"","",function(bt){return K.call(nt,bt,_t++)}),rt}function ct(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Nt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},qt={map:et,forEach:function(O,K,nt){et(O,function(){K.apply(this,arguments)},nt)},count:function(O){var K=0;return et(O,function(){K++}),K},toArray:function(O){return et(O,function(K){return K})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Et.Activity=T,Et.Children=qt,Et.Component=ot,Et.Fragment=n,Et.Profiler=o,Et.PureComponent=Z,Et.StrictMode=a,Et.Suspense=m,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Et.__COMPILER_RUNTIME={__proto__:null,c:function(O){return D.H.useMemoCache(O)}},Et.cache=function(O){return function(){return O.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(O,K,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=$({},O.props),_t=O.key;if(K!=null)for(bt in K.key!==void 0&&(_t=""+K.key),K)!w.call(K,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&K.ref===void 0||(rt[bt]=K[bt]);var bt=arguments.length-2;if(bt===1)rt.children=nt;else if(1<bt){for(var Ut=Array(bt),Ne=0;Ne<bt;Ne++)Ut[Ne]=arguments[Ne+2];rt.children=Ut}return I(O.type,_t,rt)},Et.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Et.createElement=function(O,K,nt){var rt,_t={},bt=null;if(K!=null)for(rt in K.key!==void 0&&(bt=""+K.key),K)w.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(_t[rt]=K[rt]);var Ut=arguments.length-2;if(Ut===1)_t.children=nt;else if(1<Ut){for(var Ne=Array(Ut),oe=0;oe<Ut;oe++)Ne[oe]=arguments[oe+2];_t.children=Ne}if(O&&O.defaultProps)for(rt in Ut=O.defaultProps,Ut)_t[rt]===void 0&&(_t[rt]=Ut[rt]);return I(O,bt,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(O){return{$$typeof:y,render:O}},Et.isValidElement=M,Et.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ct}},Et.memo=function(O,K){return{$$typeof:g,type:O,compare:K===void 0?null:K}},Et.startTransition=function(O){var K=D.T,nt={};D.T=nt;try{var rt=O(),_t=D.S;_t!==null&&_t(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Mt,Nt)}catch(bt){Nt(bt)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),D.T=K}},Et.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Et.use=function(O){return D.H.use(O)},Et.useActionState=function(O,K,nt){return D.H.useActionState(O,K,nt)},Et.useCallback=function(O,K){return D.H.useCallback(O,K)},Et.useContext=function(O){return D.H.useContext(O)},Et.useDebugValue=function(){},Et.useDeferredValue=function(O,K){return D.H.useDeferredValue(O,K)},Et.useEffect=function(O,K){return D.H.useEffect(O,K)},Et.useEffectEvent=function(O){return D.H.useEffectEvent(O)},Et.useId=function(){return D.H.useId()},Et.useImperativeHandle=function(O,K,nt){return D.H.useImperativeHandle(O,K,nt)},Et.useInsertionEffect=function(O,K){return D.H.useInsertionEffect(O,K)},Et.useLayoutEffect=function(O,K){return D.H.useLayoutEffect(O,K)},Et.useMemo=function(O,K){return D.H.useMemo(O,K)},Et.useOptimistic=function(O,K){return D.H.useOptimistic(O,K)},Et.useReducer=function(O,K,nt){return D.H.useReducer(O,K,nt)},Et.useRef=function(O){return D.H.useRef(O)},Et.useState=function(O){return D.H.useState(O)},Et.useSyncExternalStore=function(O,K,nt){return D.H.useSyncExternalStore(O,K,nt)},Et.useTransition=function(){return D.H.useTransition()},Et.version="19.2.4",Et}var Y_;function Mm(){return Y_||(Y_=1,qd.exports=XS()),qd.exports}var Js=Mm();const ke=N0(Js);var Hd={exports:{}},Rl={},jd={exports:{}},Fd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function $S(){return Q_||(Q_=1,(function(r){function t(F,et){var ct=F.length;F.push(et);t:for(;0<ct;){var Nt=ct-1>>>1,qt=F[Nt];if(0<o(qt,et))F[Nt]=et,F[ct]=qt,ct=Nt;else break t}}function n(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var et=F[0],ct=F.pop();if(ct!==et){F[0]=ct;t:for(var Nt=0,qt=F.length,O=qt>>>1;Nt<O;){var K=2*(Nt+1)-1,nt=F[K],rt=K+1,_t=F[rt];if(0>o(nt,ct))rt<qt&&0>o(_t,nt)?(F[Nt]=_t,F[rt]=ct,Nt=rt):(F[Nt]=nt,F[K]=ct,Nt=K);else if(rt<qt&&0>o(_t,ct))F[Nt]=_t,F[rt]=ct,Nt=rt;else break t}}return et}function o(F,et){var ct=F.sortIndex-et.sortIndex;return ct!==0?ct:F.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var m=[],g=[],E=1,T=null,b=3,k=!1,q=!1,$=!1,Y=!1,ot=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function dt(F){for(var et=n(g);et!==null;){if(et.callback===null)a(g);else if(et.startTime<=F)a(g),et.sortIndex=et.expirationTime,t(m,et);else break;et=n(g)}}function Rt(F){if($=!1,dt(F),!q)if(n(m)!==null)q=!0,Mt||(Mt=!0,x());else{var et=n(g);et!==null&&Qt(Rt,et.startTime-F)}}var Mt=!1,D=-1,w=5,I=-1;function V(){return Y?!0:!(r.unstable_now()-I<w)}function M(){if(Y=!1,Mt){var F=r.unstable_now();I=F;var et=!0;try{t:{q=!1,$&&($=!1,it(D),D=-1),k=!0;var ct=b;try{e:{for(dt(F),T=n(m);T!==null&&!(T.expirationTime>F&&V());){var Nt=T.callback;if(typeof Nt=="function"){T.callback=null,b=T.priorityLevel;var qt=Nt(T.expirationTime<=F);if(F=r.unstable_now(),typeof qt=="function"){T.callback=qt,dt(F),et=!0;break e}T===n(m)&&a(m),dt(F)}else a(m);T=n(m)}if(T!==null)et=!0;else{var O=n(g);O!==null&&Qt(Rt,O.startTime-F),et=!1}}break t}finally{T=null,b=ct,k=!1}et=void 0}}finally{et?x():Mt=!1}}}var x;if(typeof Z=="function")x=function(){Z(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Bt=R.port2;R.port1.onmessage=M,x=function(){Bt.postMessage(null)}}else x=function(){ot(M,0)};function Qt(F,et){D=ot(function(){F(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(F){switch(b){case 1:case 2:case 3:var et=3;break;default:et=b}var ct=b;b=et;try{return F()}finally{b=ct}},r.unstable_requestPaint=function(){Y=!0},r.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ct=b;b=F;try{return et()}finally{b=ct}},r.unstable_scheduleCallback=function(F,et,ct){var Nt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Nt+ct:Nt):ct=Nt,F){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ct+qt,F={id:E++,callback:et,priorityLevel:F,startTime:ct,expirationTime:qt,sortIndex:-1},ct>Nt?(F.sortIndex=ct,t(g,F),n(m)===null&&F===n(g)&&($?(it(D),D=-1):$=!0,Qt(Rt,ct-Nt))):(F.sortIndex=qt,t(m,F),q||k||(q=!0,Mt||(Mt=!0,x()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var et=b;return function(){var ct=b;b=et;try{return F.apply(this,arguments)}finally{b=ct}}}})(Fd)),Fd}var K_;function WS(){return K_||(K_=1,jd.exports=$S()),jd.exports}var Gd={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function JS(){if(X_)return $e;X_=1;var r=Mm();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,$e.createPortal=function(m,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,E)},$e.flushSync=function(m){var g=d.T,E=a.p;try{if(d.T=null,a.p=2,m)return m()}finally{d.T=g,a.p=E,a.d.f()}},$e.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},$e.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},$e.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var E=g.as,T=y(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:k}):E==="script"&&a.d.X(m,{crossOrigin:T,integrity:b,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$e.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=y(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},$e.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=y(E,g.crossOrigin);a.d.L(m,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$e.preloadModule=function(m,g){if(typeof m=="string")if(g){var E=y(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},$e.requestFormReset=function(m){a.d.r(m)},$e.unstable_batchedUpdates=function(m,g){return m(g)},$e.useFormState=function(m,g,E){return d.H.useFormState(m,g,E)},$e.useFormStatus=function(){return d.H.useHostTransitionStatus()},$e.version="19.2.4",$e}var $_;function ZS(){if($_)return Gd.exports;$_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Gd.exports=JS(),Gd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function tA(){if(W_)return Rl;W_=1;var r=WS(),t=Mm(),n=ZS();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(a(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(a(188));return i!==e?null:e}for(var s=e,l=i;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return m(h),e;if(f===l)return m(h),i;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var _=!1,S=h.child;S;){if(S===s){_=!0,s=h,l=f;break}if(S===l){_=!0,l=h,s=f;break}S=S.sibling}if(!_){for(S=f.child;S;){if(S===s){_=!0,s=f,l=h;break}if(S===l){_=!0,l=f,s=h;break}S=S.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),it=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Bt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case ot:return"Profiler";case Y:return"StrictMode";case Rt:return"Suspense";case Mt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case Z:return e.displayName||"Context";case it:return(e._context.displayName||"Context")+".Consumer";case dt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:Bt(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return Bt(e(i))}catch{}}return null}var Qt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Nt=[],qt=-1;function O(e){return{current:e}}function K(e){0>qt||(e.current=Nt[qt],Nt[qt]=null,qt--)}function nt(e,i){qt++,Nt[qt]=e.current,e.current=i}var rt=O(null),_t=O(null),bt=O(null),Ut=O(null);function Ne(e,i){switch(nt(bt,i),nt(_t,e),nt(rt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?f_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=f_(i),e=d_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),nt(rt,e)}function oe(){K(rt),K(_t),K(bt)}function ua(e){e.memoizedState!==null&&nt(Ut,e);var i=rt.current,s=d_(i,e.type);i!==s&&(nt(_t,e),nt(rt,s))}function ns(e){_t.current===e&&(K(rt),K(_t)),Ut.current===e&&(K(Ut),Tl._currentValue=ct)}var is,rs;function ai(e){if(is===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);is=i&&i[1]||"",rs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+is+e+rs}var To=!1;function ca(e,i){if(!e||To)return"";To=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(j){var B=j}Reflect.construct(e,[],X)}else{try{X.call()}catch(j){B=j}e.call(X.prototype)}}else{try{throw Error()}catch(j){B=j}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(j){if(j&&B&&typeof j.stack=="string")return[j.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],S=f[1];if(_&&S){var C=_.split(`
`),z=S.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var G=`
`+C[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{To=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ai(s):""}function So(e,i){switch(e.tag){case 26:case 27:case 5:return ai(e.type);case 16:return ai("Lazy");case 13:return e.child!==i&&i!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return ca(e.type,!1);case 11:return ca(e.type.render,!1);case 1:return ca(e.type,!0);case 31:return ai("Activity");default:return""}}function Ao(e){try{var i="",s=null;do i+=So(e,s),s=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ve=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,cr=r.unstable_cancelCallback,qh=r.unstable_shouldYield,ru=r.unstable_requestPaint,en=r.unstable_now,ha=r.unstable_getCurrentPriorityLevel,bo=r.unstable_ImmediatePriority,wo=r.unstable_UserBlockingPriority,hr=r.unstable_NormalPriority,Hh=r.unstable_LowPriority,au=r.unstable_IdlePriority,su=r.log,ou=r.unstable_setDisableYieldValue,Hn=null,qe=null;function Cn(e){if(typeof su=="function"&&ou(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Hn,e)}catch{}}var me=Math.clz32?Math.clz32:uu,lu=Math.log,as=Math.LN2;function uu(e){return e>>>=0,e===0?32:31-(lu(e)/as|0)|0}var si=256,fa=262144,Ee=4194304;function oi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,i,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~f,l!==0?h=oi(l):(_&=S,_!==0?h=oi(_):s||(s=S&~e,s!==0&&(h=oi(s))))):(S=l&~f,S!==0?h=oi(S):_!==0?h=oi(_):s||(s=l&~e,s!==0&&(h=oi(s)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,s=i&-i,f>=s||f===32&&(s&4194048)!==0)?i:h}function jn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function jh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cu(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function ui(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function da(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fh(e,i,s,l,h,f){var _=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var S=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(s=_&~s;0<s;){var G=31-me(s),X=1<<G;S[G]=0,C[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var j=B[G];j!==null&&(j.lane&=-536870913)}s&=~X}l!==0&&ma(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~i))}function ma(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-me(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function Ro(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var l=31-me(s),h=1<<l;h&i|e[l]&i&&(e[l]|=i),s&=~h}}function Co(e,i){var s=i&-i;return s=(s&42)!==0?1:ga(s),(s&(e.suspendedLanes|i))!==0?0:s}function ga(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:x_(e.type))}function Fn(e,i){var s=et.p;try{return et.p=e,i()}finally{et.p=s}}var Gn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Gn,Le="__reactProps$"+Gn,ci="__reactContainer$"+Gn,ss="__reactEvents$"+Gn,Gh="__reactListeners$"+Gn,fu="__reactHandles$"+Gn,du="__reactResources$"+Gn,hi="__reactMarker$"+Gn;function os(e){delete e[Te],delete e[Le],delete e[ss],delete e[Gh],delete e[fu]}function fi(e){var i=e[Te];if(i)return i;for(var s=e.parentNode;s;){if(i=s[ci]||s[Te]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=E_(e);e!==null;){if(s=e[Te])return s;e=E_(e)}return i}e=s,s=e.parentNode}return null}function In(e){if(e=e[Te]||e[ci]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function pn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function di(e){var i=e[du];return i||(i=e[du]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Se(e){e[hi]=!0}var Io=new Set,Do={};function mi(e,i){gi(e,i),gi(e+"Capture",i)}function gi(e,i){for(Do[e]=i,e=0;e<i.length;e++)Io.add(i[e])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Oo={};function mu(e){return ve.call(Oo,e)?!0:ve.call(No,e)?!1:Mo.test(e)?Oo[e]=!0:(No[e]=!0,!1)}function ls(e,i,s){if(mu(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function yn(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function Ae(e,i,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+l)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vo(e,i,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){s=""+_,f.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Kt(e){if(!e._valueTracker){var i=fr(e)?"checked":"value";e._valueTracker=Vo(e,i,""+e[i])}}function pa(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return e&&(l=fr(e)?e.checked?"true":"false":e.value),e=l,e!==s?(i.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ya=/[\n"\\]/g;function sn(e){return e.replace(ya,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function us(e,i,s,l,h,f,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ue(i)):e.value!==""+Ue(i)&&(e.value=""+Ue(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?ko(e,_,Ue(i)):s!=null?ko(e,_,Ue(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Ue(S):e.removeAttribute("name")}function gu(e,i,s,l,h,f,_,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Kt(e);return}s=s!=null?""+Ue(s):"",i=i!=null?""+Ue(i):s,S||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Kt(e)}function ko(e,i,s){i==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function dr(e,i,s,l){if(e=e.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=i.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),i=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function pu(e,i,s){if(i!=null&&(i=""+Ue(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+Ue(s):""}function mr(e,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(Qt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Ue(i),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Kt(e)}function on(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Po(e,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,s):typeof s!="number"||s===0||yu.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function xo(e,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Po(e,h,l)}else for(var f in i)i.hasOwnProperty(f)&&Po(e,f,i[f])}function cs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hs(e){return gr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var Lo=null;function Dn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pr=null,yi=null;function _a(e){var i=In(e);if(i&&(e=i.stateNode)){var s=e[Le]||null;t:switch(e=i.stateNode,i.type){case"input":if(us(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==e&&l.form===e.form){var h=l[Le]||null;if(!h)throw Error(a(90));us(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===e.form&&pa(l)}break t;case"textarea":pu(e,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&dr(e,!!s.multiple,i,!1)}}}var fs=!1;function yr(e,i,s){if(fs)return e(i,s);fs=!0;try{var l=e(i);return l}finally{if(fs=!1,(pr!==null||yi!==null)&&(hc(),pr&&(i=pr,e=yi,yi=pr=null,_a(i),e)))for(i=0;i<e.length;i++)_a(e[i])}}function Qn(e,i){var s=e.stateNode;if(s===null)return null;var l=s[Le]||null;if(l===null)return null;s=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=!1;if(Mn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){va=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{va=!1}var _i=null,Uo=null,Ea=null;function zo(){if(Ea)return Ea;var e,i=Uo,s=i.length,l,h="value"in _i?_i.value:_i.textContent,f=h.length;for(e=0;e<s&&i[e]===h[e];e++);var _=s-e;for(l=1;l<=_&&i[s-l]===h[f-l];l++);return Ea=h.slice(e,1<l?1-l:void 0)}function Ta(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function Kn(){return!1}function He(e){function i(s,l,h,f,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(s=e[S],this[S]=s?s(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ui:Kn,this.isPropagationStopped=Kn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),i}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=He(zi),_r=T({},zi,{view:0,detail:0}),Bo=He(_r),vr,ds,Ei,ms=T({},_r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(vr=e.screenX-Ei.screenX,ds=e.screenY-Ei.screenY):ds=vr=0,Ei=e),vr)},movementY:function(e){return"movementY"in e?e.movementY:ds}}),qo=He(ms),Sa=T({},ms,{dataTransfer:0}),vu=He(Sa),Eu=T({},_r,{relatedTarget:0}),Aa=He(Eu),Ho=T({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=He(Ho),gs=T({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Su=He(gs),Au=T({},zi,{data:0}),Ti=He(Au),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Ru[e])?!!i[e]:!1}function Er(){return Cu}var nn=T({},_r,{key:function(e){if(e.key){var i=bu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ta(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return e.type==="keypress"?Ta(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ta(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iu=He(nn),Du=T({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=He(Du),c=T({},_r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),p=He(c),v=T({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=He(v),L=T({},ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=He(L),tt=T({},zi,{newState:0,oldState:0}),St=He(tt),ge=[9,13,27,32],Ft=Mn&&"CompositionEvent"in window,le=null;Mn&&"documentMode"in document&&(le=document.documentMode);var Nn=Mn&&"TextEvent"in window&&!le,Si=Mn&&(!Ft||le&&8<le&&11>=le),Xn=" ",$n=!1;function ba(e,i){switch(e){case"keyup":return ge.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ps(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function yT(e,i){switch(e){case"compositionend":return ps(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return e=i.data,e===Xn&&$n?null:e;default:return null}}function _T(e,i){if(ys)return e==="compositionend"||!Ft&&ba(e,i)?(e=zo(),Ea=Uo=_i=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Si&&i.locale!=="ko"?null:i.data;default:return null}}var vT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!vT[e.type]:i==="textarea"}function bg(e,i,s,l){pr?yi?yi.push(l):yi=[l]:pr=l,i=_c(i,"onChange"),0<i.length&&(s=new vi("onChange","change",null,s,l),e.push({event:s,listeners:i}))}var jo=null,Fo=null;function ET(e){s_(e,0)}function Mu(e){var i=pn(e);if(pa(i))return e}function wg(e,i){if(e==="change")return i}var Rg=!1;if(Mn){var Yh;if(Mn){var Qh="oninput"in document;if(!Qh){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Qh=typeof Cg.oninput=="function"}Yh=Qh}else Yh=!1;Rg=Yh&&(!document.documentMode||9<document.documentMode)}function Ig(){jo&&(jo.detachEvent("onpropertychange",Dg),Fo=jo=null)}function Dg(e){if(e.propertyName==="value"&&Mu(Fo)){var i=[];bg(i,Fo,e,Dn(e)),yr(ET,i)}}function TT(e,i,s){e==="focusin"?(Ig(),jo=i,Fo=s,jo.attachEvent("onpropertychange",Dg)):e==="focusout"&&Ig()}function ST(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mu(Fo)}function AT(e,i){if(e==="click")return Mu(i)}function bT(e,i){if(e==="input"||e==="change")return Mu(i)}function wT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var _n=typeof Object.is=="function"?Object.is:wT;function Go(e,i){if(_n(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ve.call(i,h)||!_n(e[h],i[h]))return!1}return!0}function Mg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ng(e,i){var s=Mg(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=i&&l>=i)return{node:s,offset:i-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Mg(s)}}function Og(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Og(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Vg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=pi(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=pi(e.document)}return i}function Kh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var RT=Mn&&"documentMode"in document&&11>=document.documentMode,_s=null,Xh=null,Yo=null,$h=!1;function kg(e,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;$h||_s==null||_s!==pi(l)||(l=_s,"selectionStart"in l&&Kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Go(Yo,l)||(Yo=l,l=_c(Xh,"onSelect"),0<l.length&&(i=new vi("onSelect","select",null,i,s),e.push({event:i,listeners:l}),i.target=_s)))}function wa(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var vs={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},Wh={},Pg={};Mn&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Ra(e){if(Wh[e])return Wh[e];if(!vs[e])return e;var i=vs[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in Pg)return Wh[e]=i[s];return e}var xg=Ra("animationend"),Lg=Ra("animationiteration"),Ug=Ra("animationstart"),CT=Ra("transitionrun"),IT=Ra("transitionstart"),DT=Ra("transitioncancel"),zg=Ra("transitionend"),Bg=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function Wn(e,i){Bg.set(e,i),mi(i,[e])}var Nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],Es=0,Zh=0;function Ou(){for(var e=Es,i=Zh=Es=0;i<e;){var s=On[i];On[i++]=null;var l=On[i];On[i++]=null;var h=On[i];On[i++]=null;var f=On[i];if(On[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&qg(s,h,f)}}function Vu(e,i,s,l){On[Es++]=e,On[Es++]=i,On[Es++]=s,On[Es++]=l,Zh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function tf(e,i,s,l){return Vu(e,i,s,l),ku(e)}function Ca(e,i){return Vu(e,null,null,i),ku(e)}function qg(e,i,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-me(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=s|536870912),f):null}function ku(e){if(50<ml)throw ml=0,cd=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ts={};function MT(e,i,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,i,s,l){return new MT(e,i,s,l)}function ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,i){var s=e.alternate;return s===null?(s=vn(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Hg(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Pu(e,i,s,l,h,f){var _=0;if(l=e,typeof e=="function")ef(e)&&(_=1);else if(typeof e=="string")_=PS(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=vn(31,s,i,h),e.elementType=I,e.lanes=f,e;case $:return Ia(s.children,h,f,i);case Y:_=8,h|=24;break;case ot:return e=vn(12,s,i,h|2),e.elementType=ot,e.lanes=f,e;case Rt:return e=vn(13,s,i,h),e.elementType=Rt,e.lanes=f,e;case Mt:return e=vn(19,s,i,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z:_=10;break t;case it:_=9;break t;case dt:_=11;break t;case D:_=14;break t;case w:_=16,l=null;break t}_=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return i=vn(_,s,i,h),i.elementType=e,i.type=l,i.lanes=f,i}function Ia(e,i,s,l){return e=vn(7,e,l,i),e.lanes=s,e}function nf(e,i,s){return e=vn(6,e,null,i),e.lanes=s,e}function jg(e){var i=vn(18,null,null,0);return i.stateNode=e,i}function rf(e,i,s){return i=vn(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Fg=new WeakMap;function Vn(e,i){if(typeof e=="object"&&e!==null){var s=Fg.get(e);return s!==void 0?s:(i={value:e,source:i,stack:Ao(i)},Fg.set(e,i),i)}return{value:e,source:i,stack:Ao(i)}}var Ss=[],As=0,xu=null,Qo=0,kn=[],Pn=0,Tr=null,Ai=1,bi="";function Hi(e,i){Ss[As++]=Qo,Ss[As++]=xu,xu=e,Qo=i}function Gg(e,i,s){kn[Pn++]=Ai,kn[Pn++]=bi,kn[Pn++]=Tr,Tr=e;var l=Ai;e=bi;var h=32-me(l)-1;l&=~(1<<h),s+=1;var f=32-me(i)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ai=1<<32-me(i)+h|s<<h|l,bi=f+e}else Ai=1<<f|s<<h|l,bi=e}function af(e){e.return!==null&&(Hi(e,1),Gg(e,1,0))}function sf(e){for(;e===xu;)xu=Ss[--As],Ss[As]=null,Qo=Ss[--As],Ss[As]=null;for(;e===Tr;)Tr=kn[--Pn],kn[Pn]=null,bi=kn[--Pn],kn[Pn]=null,Ai=kn[--Pn],kn[Pn]=null}function Yg(e,i){kn[Pn++]=Ai,kn[Pn++]=bi,kn[Pn++]=Tr,Ai=i.id,bi=i.overflow,Tr=e}var je=null,ie=null,Lt=!1,Sr=null,xn=!1,of=Error(a(519));function Ar(e){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(Vn(i,e)),of}function Qg(e){var i=e.stateNode,s=e.type,l=e.memoizedProps;switch(i[Te]=e,i[Le]=l,s){case"dialog":It("cancel",i),It("close",i);break;case"iframe":case"object":case"embed":It("load",i);break;case"video":case"audio":for(s=0;s<pl.length;s++)It(pl[s],i);break;case"source":It("error",i);break;case"img":case"image":case"link":It("error",i),It("load",i);break;case"details":It("toggle",i);break;case"input":It("invalid",i),gu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":It("invalid",i);break;case"textarea":It("invalid",i),mr(i,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||c_(i.textContent,s)?(l.popover!=null&&(It("beforetoggle",i),It("toggle",i)),l.onScroll!=null&&It("scroll",i),l.onScrollEnd!=null&&It("scrollend",i),l.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||Ar(e,!0)}function Kg(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:je=je.return}}function bs(e){if(e!==je)return!1;if(!Lt)return Kg(e),Lt=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||wd(e.type,e.memoizedProps)),s=!s),s&&ie&&Ar(e),Kg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=v_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=v_(e)}else i===27?(i=ie,Lr(e.type)?(e=Md,Md=null,ie=e):ie=i):ie=je?Un(e.stateNode.nextSibling):null;return!0}function Da(){ie=je=null,Lt=!1}function lf(){var e=Sr;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),Sr=null),e}function Ko(e){Sr===null?Sr=[e]:Sr.push(e)}var uf=O(null),Ma=null,ji=null;function br(e,i,s){nt(uf,i._currentValue),i._currentValue=s}function Fi(e){e._currentValue=uf.current,K(uf)}function cf(e,i,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===s)break;e=e.return}}function hf(e,i,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var S=f;f=h;for(var C=0;C<i.length;C++)if(S.context===i[C]){f.lanes|=s,S=f.alternate,S!==null&&(S.lanes|=s),cf(f.return,s,e),l||(_=null);break t}f=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,f=_.alternate,f!==null&&(f.lanes|=s),cf(_,s,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ws(e,i,s,l){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var S=h.type;_n(h.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(h===Ut.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Tl):e=[Tl])}h=h.return}e!==null&&hf(i,e,s,l),i.flags|=262144}function Lu(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Na(e){Ma=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Xg(Ma,e)}function Uu(e,i){return Ma===null&&Na(e),Xg(e,i)}function Xg(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},ji===null){if(e===null)throw Error(a(308));ji=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ji=ji.next=i;return s}var NT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},OT=r.unstable_scheduleCallback,VT=r.unstable_NormalPriority,be={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new NT,data:new Map,refCount:0}}function Xo(e){e.refCount--,e.refCount===0&&OT(VT,function(){e.controller.abort()})}var $o=null,df=0,Rs=0,Cs=null;function kT(e,i){if($o===null){var s=$o=[];df=0,Rs=pd(),Cs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return df++,i.then($g,$g),i}function $g(){if(--df===0&&$o!==null){Cs!==null&&(Cs.status="fulfilled");var e=$o;$o=null,Rs=0,Cs=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function PT(e,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Wg=F.S;F.S=function(e,i){ky=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&kT(e,i),Wg!==null&&Wg(e,i)};var Oa=O(null);function mf(){var e=Oa.current;return e!==null?e:ne.pooledCache}function zu(e,i){i===null?nt(Oa,Oa.current):nt(Oa,i.pool)}function Jg(){var e=mf();return e===null?null:{parent:be._currentValue,pool:e}}var Is=Error(a(460)),gf=Error(a(474)),Bu=Error(a(542)),qu={then:function(){}};function Zg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tp(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(Yn,Yn),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,np(e),e;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,np(e),e}throw ka=i,Is}}function Va(e){try{var i=e._init;return i(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ka=s,Is):s}}var ka=null;function ep(){if(ka===null)throw Error(a(459));var e=ka;return ka=null,e}function np(e){if(e===Is||e===Bu)throw Error(a(483))}var Ds=null,Wo=0;function Hu(e){var i=Wo;return Wo+=1,Ds===null&&(Ds=[]),tp(Ds,e,i)}function Jo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function ju(e,i){throw i.$$typeof===b?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function ip(e){function i(P,N){if(e){var U=P.deletions;U===null?(P.deletions=[N],P.flags|=16):U.push(N)}}function s(P,N){if(!e)return null;for(;N!==null;)i(P,N),N=N.sibling;return null}function l(P){for(var N=new Map;P!==null;)P.key!==null?N.set(P.key,P):N.set(P.index,P),P=P.sibling;return N}function h(P,N){return P=qi(P,N),P.index=0,P.sibling=null,P}function f(P,N,U){return P.index=U,e?(U=P.alternate,U!==null?(U=U.index,U<N?(P.flags|=67108866,N):U):(P.flags|=67108866,N)):(P.flags|=1048576,N)}function _(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function S(P,N,U,Q){return N===null||N.tag!==6?(N=nf(U,P.mode,Q),N.return=P,N):(N=h(N,U),N.return=P,N)}function C(P,N,U,Q){var ht=U.type;return ht===$?G(P,N,U.props.children,Q,U.key):N!==null&&(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&Va(ht)===N.type)?(N=h(N,U.props),Jo(N,U),N.return=P,N):(N=Pu(U.type,U.key,U.props,null,P.mode,Q),Jo(N,U),N.return=P,N)}function z(P,N,U,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=rf(U,P.mode,Q),N.return=P,N):(N=h(N,U.children||[]),N.return=P,N)}function G(P,N,U,Q,ht){return N===null||N.tag!==7?(N=Ia(U,P.mode,Q,ht),N.return=P,N):(N=h(N,U),N.return=P,N)}function X(P,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=nf(""+N,P.mode,U),N.return=P,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case k:return U=Pu(N.type,N.key,N.props,null,P.mode,U),Jo(U,N),U.return=P,U;case q:return N=rf(N,P.mode,U),N.return=P,N;case w:return N=Va(N),X(P,N,U)}if(Qt(N)||x(N))return N=Ia(N,P.mode,U,null),N.return=P,N;if(typeof N.then=="function")return X(P,Hu(N),U);if(N.$$typeof===Z)return X(P,Uu(P,N),U);ju(P,N)}return null}function B(P,N,U,Q){var ht=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ht!==null?null:S(P,N,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case k:return U.key===ht?C(P,N,U,Q):null;case q:return U.key===ht?z(P,N,U,Q):null;case w:return U=Va(U),B(P,N,U,Q)}if(Qt(U)||x(U))return ht!==null?null:G(P,N,U,Q,null);if(typeof U.then=="function")return B(P,N,Hu(U),Q);if(U.$$typeof===Z)return B(P,N,Uu(P,U),Q);ju(P,U)}return null}function j(P,N,U,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return P=P.get(U)||null,S(N,P,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case k:return P=P.get(Q.key===null?U:Q.key)||null,C(N,P,Q,ht);case q:return P=P.get(Q.key===null?U:Q.key)||null,z(N,P,Q,ht);case w:return Q=Va(Q),j(P,N,U,Q,ht)}if(Qt(Q)||x(Q))return P=P.get(U)||null,G(N,P,Q,ht,null);if(typeof Q.then=="function")return j(P,N,U,Hu(Q),ht);if(Q.$$typeof===Z)return j(P,N,U,Uu(N,Q),ht);ju(N,Q)}return null}function st(P,N,U,Q){for(var ht=null,Ht=null,ut=N,wt=N=0,Vt=null;ut!==null&&wt<U.length;wt++){ut.index>wt?(Vt=ut,ut=null):Vt=ut.sibling;var jt=B(P,ut,U[wt],Q);if(jt===null){ut===null&&(ut=Vt);break}e&&ut&&jt.alternate===null&&i(P,ut),N=f(jt,N,wt),Ht===null?ht=jt:Ht.sibling=jt,Ht=jt,ut=Vt}if(wt===U.length)return s(P,ut),Lt&&Hi(P,wt),ht;if(ut===null){for(;wt<U.length;wt++)ut=X(P,U[wt],Q),ut!==null&&(N=f(ut,N,wt),Ht===null?ht=ut:Ht.sibling=ut,Ht=ut);return Lt&&Hi(P,wt),ht}for(ut=l(ut);wt<U.length;wt++)Vt=j(ut,P,wt,U[wt],Q),Vt!==null&&(e&&Vt.alternate!==null&&ut.delete(Vt.key===null?wt:Vt.key),N=f(Vt,N,wt),Ht===null?ht=Vt:Ht.sibling=Vt,Ht=Vt);return e&&ut.forEach(function(Hr){return i(P,Hr)}),Lt&&Hi(P,wt),ht}function mt(P,N,U,Q){if(U==null)throw Error(a(151));for(var ht=null,Ht=null,ut=N,wt=N=0,Vt=null,jt=U.next();ut!==null&&!jt.done;wt++,jt=U.next()){ut.index>wt?(Vt=ut,ut=null):Vt=ut.sibling;var Hr=B(P,ut,jt.value,Q);if(Hr===null){ut===null&&(ut=Vt);break}e&&ut&&Hr.alternate===null&&i(P,ut),N=f(Hr,N,wt),Ht===null?ht=Hr:Ht.sibling=Hr,Ht=Hr,ut=Vt}if(jt.done)return s(P,ut),Lt&&Hi(P,wt),ht;if(ut===null){for(;!jt.done;wt++,jt=U.next())jt=X(P,jt.value,Q),jt!==null&&(N=f(jt,N,wt),Ht===null?ht=jt:Ht.sibling=jt,Ht=jt);return Lt&&Hi(P,wt),ht}for(ut=l(ut);!jt.done;wt++,jt=U.next())jt=j(ut,P,wt,jt.value,Q),jt!==null&&(e&&jt.alternate!==null&&ut.delete(jt.key===null?wt:jt.key),N=f(jt,N,wt),Ht===null?ht=jt:Ht.sibling=jt,Ht=jt);return e&&ut.forEach(function(YS){return i(P,YS)}),Lt&&Hi(P,wt),ht}function ee(P,N,U,Q){if(typeof U=="object"&&U!==null&&U.type===$&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case k:t:{for(var ht=U.key;N!==null;){if(N.key===ht){if(ht=U.type,ht===$){if(N.tag===7){s(P,N.sibling),Q=h(N,U.props.children),Q.return=P,P=Q;break t}}else if(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&Va(ht)===N.type){s(P,N.sibling),Q=h(N,U.props),Jo(Q,U),Q.return=P,P=Q;break t}s(P,N);break}else i(P,N);N=N.sibling}U.type===$?(Q=Ia(U.props.children,P.mode,Q,U.key),Q.return=P,P=Q):(Q=Pu(U.type,U.key,U.props,null,P.mode,Q),Jo(Q,U),Q.return=P,P=Q)}return _(P);case q:t:{for(ht=U.key;N!==null;){if(N.key===ht)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){s(P,N.sibling),Q=h(N,U.children||[]),Q.return=P,P=Q;break t}else{s(P,N);break}else i(P,N);N=N.sibling}Q=rf(U,P.mode,Q),Q.return=P,P=Q}return _(P);case w:return U=Va(U),ee(P,N,U,Q)}if(Qt(U))return st(P,N,U,Q);if(x(U)){if(ht=x(U),typeof ht!="function")throw Error(a(150));return U=ht.call(U),mt(P,N,U,Q)}if(typeof U.then=="function")return ee(P,N,Hu(U),Q);if(U.$$typeof===Z)return ee(P,N,Uu(P,U),Q);ju(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(s(P,N.sibling),Q=h(N,U),Q.return=P,P=Q):(s(P,N),Q=nf(U,P.mode,Q),Q.return=P,P=Q),_(P)):s(P,N)}return function(P,N,U,Q){try{Wo=0;var ht=ee(P,N,U,Q);return Ds=null,ht}catch(ut){if(ut===Is||ut===Bu)throw ut;var Ht=vn(29,ut,null,P.mode);return Ht.lanes=Q,Ht.return=P,Ht}finally{}}}var Pa=ip(!0),rp=ip(!1),wr=!1;function pf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cr(e,i,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ku(e),qg(e,null,s),i}return Vu(e,l,i,s),ku(e)}function Zo(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,Ro(e,s)}}function _f(e,i){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,s=s.next}while(s!==null);f===null?h=f=i:f=f.next=i}else h=f=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var vf=!1;function tl(){if(vf){var e=Cs;if(e!==null)throw e}}function el(e,i,s,l){vf=!1;var h=e.updateQueue;wr=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var C=S,z=C.next;C.next=null,_===null?f=z:_.next=z,_=C;var G=e.alternate;G!==null&&(G=G.updateQueue,S=G.lastBaseUpdate,S!==_&&(S===null?G.firstBaseUpdate=z:S.next=z,G.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;_=0,G=z=C=null,S=f;do{var B=S.lane&-536870913,j=B!==S.lane;if(j?(Ot&B)===B:(l&B)===B){B!==0&&B===Rs&&(vf=!0),G!==null&&(G=G.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var st=e,mt=S;B=i;var ee=s;switch(mt.tag){case 1:if(st=mt.payload,typeof st=="function"){X=st.call(ee,X,B);break t}X=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=mt.payload,B=typeof st=="function"?st.call(ee,X,B):st,B==null)break t;X=T({},X,B);break t;case 2:wr=!0}}B=S.callback,B!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[B]:j.push(B))}else j={lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},G===null?(z=G=j,C=X):G=G.next=j,_|=B;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;j=S,S=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);G===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Or|=_,e.lanes=_,e.memoizedState=X}}function ap(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function sp(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)ap(s[e],i)}var Ms=O(null),Fu=O(0);function op(e,i){e=Zi,nt(Fu,e),nt(Ms,i),Zi=e|i.baseLanes}function Ef(){nt(Fu,Zi),nt(Ms,Ms.current)}function Tf(){Zi=Fu.current,K(Ms),K(Fu)}var En=O(null),Ln=null;function Ir(e){var i=e.alternate;nt(pe,pe.current&1),nt(En,e),Ln===null&&(i===null||Ms.current!==null||i.memoizedState!==null)&&(Ln=e)}function Sf(e){nt(pe,pe.current),nt(En,e),Ln===null&&(Ln=e)}function lp(e){e.tag===22?(nt(pe,pe.current),nt(En,e),Ln===null&&(Ln=e)):Dr()}function Dr(){nt(pe,pe.current),nt(En,En.current)}function Tn(e){K(En),Ln===e&&(Ln=null),K(pe)}var pe=O(0);function Gu(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Id(s)||Dd(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Gi=0,At=null,Zt=null,we=null,Yu=!1,Ns=!1,xa=!1,Qu=0,nl=0,Os=null,xT=0;function he(){throw Error(a(321))}function Af(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!_n(e[s],i[s]))return!1;return!0}function bf(e,i,s,l,h,f){return Gi=f,At=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?Gp:zf,xa=!1,f=s(l,h),xa=!1,Ns&&(f=cp(i,s,l,h)),up(e),f}function up(e){F.H=al;var i=Zt!==null&&Zt.next!==null;if(Gi=0,we=Zt=At=null,Yu=!1,nl=0,Os=null,i)throw Error(a(300));e===null||Re||(e=e.dependencies,e!==null&&Lu(e)&&(Re=!0))}function cp(e,i,s,l){At=e;var h=0;do{if(Ns&&(Os=null),nl=0,Ns=!1,25<=h)throw Error(a(301));if(h+=1,we=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Yp,f=i(s,l)}while(Ns);return f}function LT(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?il(i):i,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(At.flags|=1024),i}function wf(){var e=Qu!==0;return Qu=0,e}function Rf(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function Cf(e){if(Yu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Yu=!1}Gi=0,we=Zt=At=null,Ns=!1,nl=Qu=0,Os=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?At.memoizedState=we=e:we=we.next=e,we}function ye(){if(Zt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var i=we===null?At.memoizedState:we.next;if(i!==null)we=i,Zt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},we===null?At.memoizedState=we=e:we=we.next=e}return we}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(e){var i=nl;return nl+=1,Os===null&&(Os=[]),e=tp(Os,e,i),i=At,(we===null?i.memoizedState:we.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?Gp:zf),e}function Xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return il(e);if(e.$$typeof===Z)return Fe(e)}throw Error(a(438,String(e)))}function If(e){var i=null,s=At.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Ku(),At.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),l=0;l<e;l++)s[l]=V;return i.index++,s}function Yi(e,i){return typeof i=="function"?i(e):i}function $u(e){var i=ye();return Df(i,Zt,e)}function Df(e,i,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var S=_=null,C=null,z=i,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ot&X)===X:(Gi&X)===X){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Rs&&(G=!0);else if((Gi&B)===B){z=z.next,B===Rs&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(S=C=X,_=f):C=C.next=X,At.lanes|=B,Or|=B;X=z.action,xa&&s(f,X),f=z.hasEagerState?z.eagerState:s(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(S=C=B,_=f):C=C.next=B,At.lanes|=X,Or|=X;z=z.next}while(z!==null&&z!==i);if(C===null?_=f:C.next=S,!_n(f,e.memoizedState)&&(Re=!0,G&&(s=Cs,s!==null)))throw s;e.memoizedState=f,e.baseState=_,e.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Mf(e){var i=ye(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=i.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);_n(f,i.memoizedState)||(Re=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),s.lastRenderedState=f}return[f,l]}function hp(e,i,s){var l=At,h=ye(),f=Lt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=i();var _=!_n((Zt||h).memoizedState,s);if(_&&(h.memoizedState=s,Re=!0),h=h.queue,Vf(mp.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,Vs(9,{destroy:void 0},dp.bind(null,l,h,s,i),null),ne===null)throw Error(a(349));f||(Gi&127)!==0||fp(l,i,s)}return s}function fp(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=At.updateQueue,i===null?(i=Ku(),At.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function dp(e,i,s,l){i.value=s,i.getSnapshot=l,gp(i)&&pp(e)}function mp(e,i,s){return s(function(){gp(i)&&pp(e)})}function gp(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!_n(e,s)}catch{return!0}}function pp(e){var i=Ca(e,2);i!==null&&fn(i,e,2)}function Nf(e){var i=rn();if(typeof e=="function"){var s=e;if(e=s(),xa){Cn(!0);try{s()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},i}function yp(e,i,s,l){return e.baseState=s,Df(e,Zt,typeof l=="function"?l:Yi)}function UT(e,i,s,l,h){if(Zu(e))throw Error(a(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};F.T!==null?s(!0):f.isTransition=!1,l(f),s=i.pending,s===null?(f.next=i.pending=f,_p(i,f)):(f.next=s.next,i.pending=s.next=f)}}function _p(e,i){var s=i.action,l=i.payload,h=e.state;if(i.isTransition){var f=F.T,_={};F.T=_;try{var S=s(h,l),C=F.S;C!==null&&C(_,S),vp(e,i,S)}catch(z){Of(e,i,z)}finally{f!==null&&_.types!==null&&(f.types=_.types),F.T=f}}else try{f=s(h,l),vp(e,i,f)}catch(z){Of(e,i,z)}}function vp(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ep(e,i,l)},function(l){return Of(e,i,l)}):Ep(e,i,s)}function Ep(e,i,s){i.status="fulfilled",i.value=s,Tp(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,_p(e,s)))}function Of(e,i,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Tp(i),i=i.next;while(i!==l)}e.action=null}function Tp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Sp(e,i){return i}function Ap(e,i){if(Lt){var s=ne.formState;if(s!==null){t:{var l=At;if(Lt){if(ie){e:{for(var h=ie,f=xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Un(h.nextSibling),l=h.data==="F!";break t}}Ar(l)}l=!1}l&&(i=s[0])}}return s=rn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sp,lastRenderedState:i},s.queue=l,s=Hp.bind(null,At,l),l.dispatch=s,l=Nf(!1),f=Uf.bind(null,At,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,s=UT.bind(null,At,h,f,s),h.dispatch=s,l.memoizedState=e,[i,s,!1]}function bp(e){var i=ye();return wp(i,Zt,e)}function wp(e,i,s){if(i=Df(e,i,Sp)[0],e=$u(Yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=il(i)}catch(_){throw _===Is?Bu:_}else l=i;i=ye();var h=i.queue,f=h.dispatch;return s!==i.memoizedState&&(At.flags|=2048,Vs(9,{destroy:void 0},zT.bind(null,h,s),null)),[l,f,e]}function zT(e,i){e.action=i}function Rp(e){var i=ye(),s=Zt;if(s!==null)return wp(i,s,e);ye(),i=i.memoizedState,s=ye();var l=s.queue.dispatch;return s.memoizedState=e,[i,l,!1]}function Vs(e,i,s,l){return e={tag:e,create:s,deps:l,inst:i,next:null},i=At.updateQueue,i===null&&(i=Ku(),At.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,i.lastEffect=e),e}function Cp(){return ye().memoizedState}function Wu(e,i,s,l){var h=rn();At.flags|=e,h.memoizedState=Vs(1|i,{destroy:void 0},s,l===void 0?null:l)}function Ju(e,i,s,l){var h=ye();l=l===void 0?null:l;var f=h.memoizedState.inst;Zt!==null&&l!==null&&Af(l,Zt.memoizedState.deps)?h.memoizedState=Vs(i,f,s,l):(At.flags|=e,h.memoizedState=Vs(1|i,f,s,l))}function Ip(e,i){Wu(8390656,8,e,i)}function Vf(e,i){Ju(2048,8,e,i)}function BT(e){At.flags|=4;var i=At.updateQueue;if(i===null)i=Ku(),At.updateQueue=i,i.events=[e];else{var s=i.events;s===null?i.events=[e]:s.push(e)}}function Dp(e){var i=ye().memoizedState;return BT({ref:i,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Mp(e,i){return Ju(4,2,e,i)}function Np(e,i){return Ju(4,4,e,i)}function Op(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Vp(e,i,s){s=s!=null?s.concat([e]):null,Ju(4,4,Op.bind(null,i,e),s)}function kf(){}function kp(e,i){var s=ye();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Af(i,l[1])?l[0]:(s.memoizedState=[e,i],e)}function Pp(e,i){var s=ye();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Af(i,l[1]))return l[0];if(l=e(),xa){Cn(!0);try{e()}finally{Cn(!1)}}return s.memoizedState=[l,i],l}function Pf(e,i,s){return s===void 0||(Gi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=i:(e.memoizedState=s,e=xy(),At.lanes|=e,Or|=e,s)}function xp(e,i,s,l){return _n(s,i)?s:Ms.current!==null?(e=Pf(e,s,l),_n(e,i)||(Re=!0),e):(Gi&42)===0||(Gi&1073741824)!==0&&(Ot&261930)===0?(Re=!0,e.memoizedState=s):(e=xy(),At.lanes|=e,Or|=e,i)}function Lp(e,i,s,l,h){var f=et.p;et.p=f!==0&&8>f?f:8;var _=F.T,S={};F.T=S,Uf(e,!1,i,s);try{var C=h(),z=F.S;if(z!==null&&z(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=PT(C,l);rl(e,i,G,bn(e))}else rl(e,i,l,bn(e))}catch(X){rl(e,i,{then:function(){},status:"rejected",reason:X},bn())}finally{et.p=f,_!==null&&S.types!==null&&(_.types=S.types),F.T=_}}function qT(){}function xf(e,i,s,l){if(e.tag!==5)throw Error(a(476));var h=Up(e).queue;Lp(e,h,i,ct,s===null?qT:function(){return zp(e),s(l)})}function Up(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ct},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function zp(e){var i=Up(e);i.next===null&&(i=e.alternate.memoizedState),rl(e,i.next.queue,{},bn())}function Lf(){return Fe(Tl)}function Bp(){return ye().memoizedState}function qp(){return ye().memoizedState}function HT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=bn();e=Rr(s);var l=Cr(i,e,s);l!==null&&(fn(l,i,s),Zo(l,i,s)),i={cache:ff()},e.payload=i;return}i=i.return}}function jT(e,i,s){var l=bn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Zu(e)?jp(i,s):(s=tf(e,i,s,l),s!==null&&(fn(s,e,l),Fp(s,i,l)))}function Hp(e,i,s){var l=bn();rl(e,i,s,l)}function rl(e,i,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Zu(e))jp(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,S=f(_,s);if(h.hasEagerState=!0,h.eagerState=S,_n(S,_))return Vu(e,i,h,0),ne===null&&Ou(),!1}catch{}finally{}if(s=tf(e,i,h,l),s!==null)return fn(s,e,l),Fp(s,i,l),!0}return!1}function Uf(e,i,s,l){if(l={lane:2,revertLane:pd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zu(e)){if(i)throw Error(a(479))}else i=tf(e,s,l,2),i!==null&&fn(i,e,2)}function Zu(e){var i=e.alternate;return e===At||i!==null&&i===At}function jp(e,i){Ns=Yu=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Fp(e,i,s){if((s&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,Ro(e,s)}}var al={readContext:Fe,use:Xu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};al.useEffectEvent=he;var Gp={readContext:Fe,use:Xu,useCallback:function(e,i){return rn().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:Ip,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,Wu(4194308,4,Op.bind(null,i,e),s)},useLayoutEffect:function(e,i){return Wu(4194308,4,e,i)},useInsertionEffect:function(e,i){Wu(4,2,e,i)},useMemo:function(e,i){var s=rn();i=i===void 0?null:i;var l=e();if(xa){Cn(!0);try{e()}finally{Cn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(e,i,s){var l=rn();if(s!==void 0){var h=s(i);if(xa){Cn(!0);try{s(i)}finally{Cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=jT.bind(null,At,e),[l.memoizedState,e]},useRef:function(e){var i=rn();return e={current:e},i.memoizedState=e},useState:function(e){e=Nf(e);var i=e.queue,s=Hp.bind(null,At,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:kf,useDeferredValue:function(e,i){var s=rn();return Pf(s,e,i)},useTransition:function(){var e=Nf(!1);return e=Lp.bind(null,At,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var l=At,h=rn();if(Lt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),ne===null)throw Error(a(349));(Ot&127)!==0||fp(l,i,s)}h.memoizedState=s;var f={value:s,getSnapshot:i};return h.queue=f,Ip(mp.bind(null,l,f,e),[e]),l.flags|=2048,Vs(9,{destroy:void 0},dp.bind(null,l,f,s,i),null),s},useId:function(){var e=rn(),i=ne.identifierPrefix;if(Lt){var s=bi,l=Ai;s=(l&~(1<<32-me(l)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Qu++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=xT++,i="_"+i+"r_"+s.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Lf,useFormState:Ap,useActionState:Ap,useOptimistic:function(e){var i=rn();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Uf.bind(null,At,!0,s),s.dispatch=i,[e,i]},useMemoCache:If,useCacheRefresh:function(){return rn().memoizedState=HT.bind(null,At)},useEffectEvent:function(e){var i=rn(),s={impl:e};return i.memoizedState=s,function(){if((Gt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},zf={readContext:Fe,use:Xu,useCallback:kp,useContext:Fe,useEffect:Vf,useImperativeHandle:Vp,useInsertionEffect:Mp,useLayoutEffect:Np,useMemo:Pp,useReducer:$u,useRef:Cp,useState:function(){return $u(Yi)},useDebugValue:kf,useDeferredValue:function(e,i){var s=ye();return xp(s,Zt.memoizedState,e,i)},useTransition:function(){var e=$u(Yi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:il(e),i]},useSyncExternalStore:hp,useId:Bp,useHostTransitionStatus:Lf,useFormState:bp,useActionState:bp,useOptimistic:function(e,i){var s=ye();return yp(s,Zt,e,i)},useMemoCache:If,useCacheRefresh:qp};zf.useEffectEvent=Dp;var Yp={readContext:Fe,use:Xu,useCallback:kp,useContext:Fe,useEffect:Vf,useImperativeHandle:Vp,useInsertionEffect:Mp,useLayoutEffect:Np,useMemo:Pp,useReducer:Mf,useRef:Cp,useState:function(){return Mf(Yi)},useDebugValue:kf,useDeferredValue:function(e,i){var s=ye();return Zt===null?Pf(s,e,i):xp(s,Zt.memoizedState,e,i)},useTransition:function(){var e=Mf(Yi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:il(e),i]},useSyncExternalStore:hp,useId:Bp,useHostTransitionStatus:Lf,useFormState:Rp,useActionState:Rp,useOptimistic:function(e,i){var s=ye();return Zt!==null?yp(s,Zt,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:If,useCacheRefresh:qp};Yp.useEffectEvent=Dp;function Bf(e,i,s,l){i=e.memoizedState,s=s(l,i),s=s==null?i:T({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var qf={enqueueSetState:function(e,i,s){e=e._reactInternals;var l=bn(),h=Rr(l);h.payload=i,s!=null&&(h.callback=s),i=Cr(e,h,l),i!==null&&(fn(i,e,l),Zo(i,e,l))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var l=bn(),h=Rr(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Cr(e,h,l),i!==null&&(fn(i,e,l),Zo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=bn(),l=Rr(s);l.tag=2,i!=null&&(l.callback=i),i=Cr(e,l,s),i!==null&&(fn(i,e,s),Zo(i,e,s))}};function Qp(e,i,s,l,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,_):i.prototype&&i.prototype.isPureReactComponent?!Go(s,l)||!Go(h,f):!0}function Kp(e,i,s,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==e&&qf.enqueueReplaceState(i,i.state,null)}function La(e,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(e=e.defaultProps){s===i&&(s=T({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Xp(e){Nu(e)}function $p(e){console.error(e)}function Wp(e){Nu(e)}function tc(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Jp(e,i,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hf(e,i,s){return s=Rr(s),s.tag=3,s.payload={element:null},s.callback=function(){tc(e,i)},s}function Zp(e){return e=Rr(e),e.tag=3,e}function ty(e,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Jp(i,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Jp(i,s,l),typeof h!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function FT(e,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&ws(i,s,h,!0),s=En.current,s!==null){switch(s.tag){case 31:case 13:return Ln===null?fc():s.alternate===null&&fe===0&&(fe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===qu?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),dd(e,l,h)),!1;case 22:return s.flags|=65536,l===qu?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),dd(e,l,h)),!1}throw Error(a(435,s.tag))}return dd(e,l,h),fc(),!1}if(Lt)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==of&&(e=Error(a(422),{cause:l}),Ko(Vn(e,s)))):(l!==of&&(i=Error(a(423),{cause:l}),Ko(Vn(i,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Vn(l,s),h=Hf(e.stateNode,l,h),_f(e,h),fe!==4&&(fe=2)),!1;var f=Error(a(520),{cause:l});if(f=Vn(f,s),dl===null?dl=[f]:dl.push(f),fe!==4&&(fe=2),i===null)return!0;l=Vn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Hf(s.stateNode,l,e),_f(s,e),!1;case 1:if(i=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vr===null||!Vr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Zp(h),ty(h,e,s,l),_f(s,h),!1}s=s.return}while(s!==null);return!1}var jf=Error(a(461)),Re=!1;function Ge(e,i,s,l){i.child=e===null?rp(i,null,s,l):Pa(i,e.child,s,l)}function ey(e,i,s,l,h){s=s.render;var f=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Na(i),l=bf(e,i,s,_,f,h),S=wf(),e!==null&&!Re?(Rf(e,i,h),Qi(e,i,h)):(Lt&&S&&af(i),i.flags|=1,Ge(e,i,l,h),i.child)}function ny(e,i,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!ef(f)&&f.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=f,iy(e,i,f,l,h)):(e=Pu(s.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Wf(e,h)){var _=f.memoizedProps;if(s=s.compare,s=s!==null?s:Go,s(_,l)&&e.ref===i.ref)return Qi(e,i,h)}return i.flags|=1,e=qi(f,l),e.ref=i.ref,e.return=i,i.child=e}function iy(e,i,s,l,h){if(e!==null){var f=e.memoizedProps;if(Go(f,l)&&e.ref===i.ref)if(Re=!1,i.pendingProps=l=f,Wf(e,h))(e.flags&131072)!==0&&(Re=!0);else return i.lanes=e.lanes,Qi(e,i,h)}return Ff(e,i,s,l,h)}function ry(e,i,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,i.child=null;return ay(e,i,f,s,l)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&zu(i,f!==null?f.cachePool:null),f!==null?op(i,f):Ef(),lp(i);else return l=i.lanes=536870912,ay(e,i,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(zu(i,f.cachePool),op(i,f),Dr(),i.memoizedState=null):(e!==null&&zu(i,null),Ef(),Dr());return Ge(e,i,h,s),i.child}function sl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function ay(e,i,s,l,h){var f=mf();return f=f===null?null:{parent:be._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},e!==null&&zu(i,null),Ef(),lp(i),e!==null&&ws(e,i,l,!0),i.childLanes=h,null}function ec(e,i){return i=ic({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function sy(e,i,s){return Pa(i,e.child,null,s),e=ec(i,i.pendingProps),e.flags|=2,Tn(i),i.memoizedState=null,e}function GT(e,i,s){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Lt){if(l.mode==="hidden")return e=ec(i,l),i.lanes=536870912,sl(null,e);if(Sf(i),(e=ie)?(e=__(e,xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Tr!==null?{id:Ai,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},s=jg(e),s.return=i,i.child=s,je=i,ie=null)):e=null,e===null)throw Ar(i);return i.lanes=536870912,null}return ec(i,l)}var f=e.memoizedState;if(f!==null){var _=f.dehydrated;if(Sf(i),h)if(i.flags&256)i.flags&=-257,i=sy(e,i,s);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(a(558));else if(Re||ws(e,i,s,!1),h=(s&e.childLanes)!==0,Re||h){if(l=ne,l!==null&&(_=Co(l,s),_!==0&&_!==f.retryLane))throw f.retryLane=_,Ca(e,_),fn(l,e,_),jf;fc(),i=sy(e,i,s)}else e=f.treeContext,ie=Un(_.nextSibling),je=i,Lt=!0,Sr=null,xn=!1,e!==null&&Yg(i,e),i=ec(i,l),i.flags|=4096;return i}return e=qi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function nc(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function Ff(e,i,s,l,h){return Na(i),s=bf(e,i,s,l,void 0,h),l=wf(),e!==null&&!Re?(Rf(e,i,h),Qi(e,i,h)):(Lt&&l&&af(i),i.flags|=1,Ge(e,i,s,h),i.child)}function oy(e,i,s,l,h,f){return Na(i),i.updateQueue=null,s=cp(i,l,s,h),up(e),l=wf(),e!==null&&!Re?(Rf(e,i,f),Qi(e,i,f)):(Lt&&l&&af(i),i.flags|=1,Ge(e,i,s,f),i.child)}function ly(e,i,s,l,h){if(Na(i),i.stateNode===null){var f=Ts,_=s.contextType;typeof _=="object"&&_!==null&&(f=Fe(_)),f=new s(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=qf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},pf(i),_=s.contextType,f.context=typeof _=="object"&&_!==null?Fe(_):Ts,f.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Bf(i,s,_,l),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&qf.enqueueReplaceState(f,f.state,null),el(i,l,f,h),tl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){f=i.stateNode;var S=i.memoizedProps,C=La(s,S);f.props=C;var z=f.context,G=s.contextType;_=Ts,typeof G=="object"&&G!==null&&(_=Fe(G));var X=s.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||z!==_)&&Kp(i,f,l,_),wr=!1;var B=i.memoizedState;f.state=B,el(i,l,f,h),tl(),z=i.memoizedState,S||B!==z||wr?(typeof X=="function"&&(Bf(i,s,X,l),z=i.memoizedState),(C=wr||Qp(i,s,C,l,B,z,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),f.props=l,f.state=z,f.context=_,l=C):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,yf(e,i),_=i.memoizedProps,G=La(s,_),f.props=G,X=i.pendingProps,B=f.context,z=s.contextType,C=Ts,typeof z=="object"&&z!==null&&(C=Fe(z)),S=s.getDerivedStateFromProps,(z=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==X||B!==C)&&Kp(i,f,l,C),wr=!1,B=i.memoizedState,f.state=B,el(i,l,f,h),tl();var j=i.memoizedState;_!==X||B!==j||wr||e!==null&&e.dependencies!==null&&Lu(e.dependencies)?(typeof S=="function"&&(Bf(i,s,S,l),j=i.memoizedState),(G=wr||Qp(i,s,G,l,B,j,C)||e!==null&&e.dependencies!==null&&Lu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,C)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=j),f.props=l,f.state=j,f.context=C,l=G):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return f=l,nc(e,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&l?(i.child=Pa(i,e.child,null,h),i.child=Pa(i,null,s,h)):Ge(e,i,s,h),i.memoizedState=f.state,e=i.child):e=Qi(e,i,h),e}function uy(e,i,s,l){return Da(),i.flags|=256,Ge(e,i,s,l),i.child}var Gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(e){return{baseLanes:e,cachePool:Jg()}}function Qf(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=An),e}function cy(e,i,s){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Lt){if(h?Ir(i):Dr(),(e=ie)?(e=__(e,xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Tr!==null?{id:Ai,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},s=jg(e),s.return=i,i.child=s,je=i,ie=null)):e=null,e===null)throw Ar(i);return Dd(e)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Dr(),h=i.mode,S=ic({mode:"hidden",children:S},h),l=Ia(l,h,s,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Yf(s),l.childLanes=Qf(e,_,s),i.memoizedState=Gf,sl(null,l)):(Ir(i),Kf(i,S))}var C=e.memoizedState;if(C!==null&&(S=C.dehydrated,S!==null)){if(f)i.flags&256?(Ir(i),i.flags&=-257,i=Xf(e,i,s)):i.memoizedState!==null?(Dr(),i.child=e.child,i.flags|=128,i=null):(Dr(),S=l.fallback,h=i.mode,l=ic({mode:"visible",children:l.children},h),S=Ia(S,h,s,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Pa(i,e.child,null,s),l=i.child,l.memoizedState=Yf(s),l.childLanes=Qf(e,_,s),i.memoizedState=Gf,i=sl(null,l));else if(Ir(i),Dd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(a(419)),l.stack="",l.digest=_,Ko({value:l,source:null,stack:null}),i=Xf(e,i,s)}else if(Re||ws(e,i,s,!1),_=(s&e.childLanes)!==0,Re||_){if(_=ne,_!==null&&(l=Co(_,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,Ca(e,l),fn(_,e,l),jf;Id(S)||fc(),i=Xf(e,i,s)}else Id(S)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,ie=Un(S.nextSibling),je=i,Lt=!0,Sr=null,xn=!1,e!==null&&Yg(i,e),i=Kf(i,l.children),i.flags|=4096);return i}return h?(Dr(),S=l.fallback,h=i.mode,C=e.child,z=C.sibling,l=qi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?S=qi(z,S):(S=Ia(S,h,s,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,sl(null,l),l=i.child,S=e.child.memoizedState,S===null?S=Yf(s):(h=S.cachePool,h!==null?(C=be._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Jg(),S={baseLanes:S.baseLanes|s,cachePool:h}),l.memoizedState=S,l.childLanes=Qf(e,_,s),i.memoizedState=Gf,sl(e.child,l)):(Ir(i),s=e.child,e=s.sibling,s=qi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=s,i.memoizedState=null,s)}function Kf(e,i){return i=ic({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ic(e,i){return e=vn(22,e,null,i),e.lanes=0,e}function Xf(e,i,s){return Pa(i,e.child,null,s),e=Kf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function hy(e,i,s){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),cf(e.return,i,s)}function $f(e,i,s,l,h,f){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=s,_.tailMode=h,_.treeForkCount=f)}function fy(e,i,s){var l=i.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var _=pe.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,nt(pe,_),Ge(e,i,l,s),l=Lt?Qo:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hy(e,s,i);else if(e.tag===19)hy(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)e=s.alternate,e!==null&&Gu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),$f(i,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Gu(e)===null){i.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}$f(i,!0,s,null,f,l);break;case"together":$f(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Qi(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),Or|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(ws(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,s=qi(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=qi(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function Wf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Lu(e)))}function YT(e,i,s){switch(i.tag){case 3:Ne(i,i.stateNode.containerInfo),br(i,be,e.memoizedState.cache),Da();break;case 27:case 5:ua(i);break;case 4:Ne(i,i.stateNode.containerInfo);break;case 10:br(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Sf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ir(i),i.flags|=128,null):(s&i.child.childLanes)!==0?cy(e,i,s):(Ir(i),e=Qi(e,i,s),e!==null?e.sibling:null);Ir(i);break;case 19:var h=(e.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(ws(e,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return fy(e,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(pe,pe.current),l)break;return null;case 22:return i.lanes=0,ry(e,i,s,i.pendingProps);case 24:br(i,be,e.memoizedState.cache)}return Qi(e,i,s)}function dy(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)Re=!0;else{if(!Wf(e,s)&&(i.flags&128)===0)return Re=!1,YT(e,i,s);Re=(e.flags&131072)!==0}else Re=!1,Lt&&(i.flags&1048576)!==0&&Gg(i,Qo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Va(i.elementType),i.type=e,typeof e=="function")ef(e)?(l=La(e,l),i.tag=1,i=ly(null,i,e,l,s)):(i.tag=0,i=Ff(null,i,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===dt){i.tag=11,i=ey(null,i,e,l,s);break t}else if(h===D){i.tag=14,i=ny(null,i,e,l,s);break t}}throw i=Bt(e)||e,Error(a(306,i,""))}}return i;case 0:return Ff(e,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=La(l,i.pendingProps),ly(e,i,l,h,s);case 3:t:{if(Ne(i,i.stateNode.containerInfo),e===null)throw Error(a(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,yf(e,i),el(i,l,null,s);var _=i.memoizedState;if(l=_.cache,br(i,be,l),l!==f.cache&&hf(i,[be],s,!0),tl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=uy(e,i,l,s);break t}else if(l!==h){h=Vn(Error(a(424)),i),Ko(h),i=uy(e,i,l,s);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=Un(e.firstChild),je=i,Lt=!0,Sr=null,xn=!0,s=rp(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Da(),l===h){i=Qi(e,i,s);break t}Ge(e,i,l,s)}i=i.child}return i;case 26:return nc(e,i),e===null?(s=b_(i.type,null,i.pendingProps,null))?i.memoizedState=s:Lt||(s=i.type,e=i.pendingProps,l=vc(bt.current).createElement(s),l[Te]=i,l[Le]=e,Ye(l,s,e),Se(l),i.stateNode=l):i.memoizedState=b_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ua(i),e===null&&Lt&&(l=i.stateNode=T_(i.type,i.pendingProps,bt.current),je=i,xn=!0,h=ie,Lr(i.type)?(Md=h,ie=Un(l.firstChild)):ie=h),Ge(e,i,i.pendingProps.children,s),nc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Lt&&((h=l=ie)&&(l=SS(l,i.type,i.pendingProps,xn),l!==null?(i.stateNode=l,je=i,ie=Un(l.firstChild),xn=!1,h=!0):h=!1),h||Ar(i)),ua(i),h=i.type,f=i.pendingProps,_=e!==null?e.memoizedProps:null,l=f.children,wd(h,f)?l=null:_!==null&&wd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=bf(e,i,LT,null,null,s),Tl._currentValue=h),nc(e,i),Ge(e,i,l,s),i.child;case 6:return e===null&&Lt&&((e=s=ie)&&(s=AS(s,i.pendingProps,xn),s!==null?(i.stateNode=s,je=i,ie=null,e=!0):e=!1),e||Ar(i)),null;case 13:return cy(e,i,s);case 4:return Ne(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Pa(i,null,l,s):Ge(e,i,l,s),i.child;case 11:return ey(e,i,i.type,i.pendingProps,s);case 7:return Ge(e,i,i.pendingProps,s),i.child;case 8:return Ge(e,i,i.pendingProps.children,s),i.child;case 12:return Ge(e,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,br(i,i.type,l.value),Ge(e,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Na(i),h=Fe(h),l=l(h),i.flags|=1,Ge(e,i,l,s),i.child;case 14:return ny(e,i,i.type,i.pendingProps,s);case 15:return iy(e,i,i.type,i.pendingProps,s);case 19:return fy(e,i,s);case 31:return GT(e,i,s);case 22:return ry(e,i,s,i.pendingProps);case 24:return Na(i),l=Fe(be),e===null?(h=mf(),h===null&&(h=ne,f=ff(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),i.memoizedState={parent:l,cache:h},pf(i),br(i,be,h)):((e.lanes&s)!==0&&(yf(e,i),el(i,null,null,s),tl()),h=e.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),br(i,be,l)):(l=f.cache,br(i,be,l),l!==h.cache&&hf(i,[be],s,!0))),Ge(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Ki(e){e.flags|=4}function Jf(e,i,s,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(By())e.flags|=8192;else throw ka=qu,gf}else e.flags&=-16777217}function my(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!D_(i))if(By())e.flags|=8192;else throw ka=qu,gf}function rc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?cu():536870912,e.lanes|=i,Ls|=i)}function ol(e,i){if(!Lt)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(i)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,i}function QT(e,i,s){var l=i.pendingProps;switch(sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return s=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Fi(be),oe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(bs(i)?Ki(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lf())),re(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?(Ki(i),f!==null?(re(i),my(i,f)):(re(i),Jf(i,h,null,l,s))):f?f!==e.memoizedState?(Ki(i),re(i),my(i,f)):(re(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ki(i),re(i),Jf(i,h,e,l,s)),null;case 27:if(ns(i),s=bt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return re(i),null}e=rt.current,bs(i)?Qg(i):(e=T_(h,l,s),i.stateNode=e,Ki(i))}return re(i),null;case 5:if(ns(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return re(i),null}if(f=rt.current,bs(i))Qg(i);else{var _=vc(bt.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}f[Te]=i,f[Le]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;t:switch(Ye(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ki(i)}}return re(i),Jf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,s),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ki(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(e=bt.current,bs(i)){if(e=i.stateNode,s=i.memoizedProps,l=null,h=je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||c_(e.nodeValue,s)),e||Ar(i,!0)}else e=vc(e).createTextNode(l),e[Te]=i,i.stateNode=e}return re(i),null;case 31:if(s=i.memoizedState,e===null||e.memoizedState!==null){if(l=bs(i),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Te]=i}else Da(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),e=!1}else s=lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return re(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=bs(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Te]=i}else Da(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=s,i):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(i.child.flags|=8192),rc(i,i.updateQueue),re(i),null);case 4:return oe(),e===null&&Ed(i.stateNode.containerInfo),re(i),null;case 10:return Fi(i.type),re(i),null;case 19:if(K(pe),l=i.memoizedState,l===null)return re(i),null;if(h=(i.flags&128)!==0,f=l.rendering,f===null)if(h)ol(l,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Gu(e),f!==null){for(i.flags|=128,ol(l,!1),e=f.updateQueue,i.updateQueue=e,rc(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)Hg(s,e),s=s.sibling;return nt(pe,pe.current&1|2),Lt&&Hi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&en()>uc&&(i.flags|=128,h=!0,ol(l,!1),i.lanes=4194304)}else{if(!h)if(e=Gu(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,rc(i,e),ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Lt)return re(i),null}else 2*en()-l.renderingStartTime>uc&&s!==536870912&&(i.flags|=128,h=!0,ol(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(e=l.last,e!==null?e.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=en(),e.sibling=null,s=pe.current,nt(pe,h?s&1|2:s&1),Lt&&Hi(i,l.treeForkCount),e):(re(i),null);case 22:case 23:return Tn(i),Tf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),s=i.updateQueue,s!==null&&rc(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),e!==null&&K(Oa),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Fi(be),re(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function KT(e,i){switch(sf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Fi(be),oe(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ns(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(a(340));Da()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Tn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Da()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return K(pe),null;case 4:return oe(),null;case 10:return Fi(i.type),null;case 22:case 23:return Tn(i),Tf(),e!==null&&K(Oa),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Fi(be),null;case 25:return null;default:return null}}function gy(e,i){switch(sf(i),i.tag){case 3:Fi(be),oe();break;case 26:case 27:case 5:ns(i);break;case 4:oe();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:K(pe);break;case 10:Fi(i.type);break;case 22:case 23:Tn(i),Tf(),e!==null&&K(Oa);break;case 24:Fi(be)}}function ll(e,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,_=s.inst;l=f(),_.destroy=l}s=s.next}while(s!==h)}}catch(S){$t(i,i.return,S)}}function Mr(e,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var C=s,z=S;try{z()}catch(G){$t(h,C,G)}}}l=l.next}while(l!==f)}}catch(G){$t(i,i.return,G)}}function py(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{sp(i,s)}catch(l){$t(e,e.return,l)}}}function yy(e,i,s){s.props=La(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){$t(e,i,l)}}function ul(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){$t(e,i,h)}}function wi(e,i){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$t(e,i,h)}else s.current=null}function _y(e){var i=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){$t(e,e.return,h)}}function Zf(e,i,s){try{var l=e.stateNode;pS(l,e.type,s,i),l[Le]=i}catch(h){$t(e,e.return,h)}}function vy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Lr(e.type)||e.tag===4}function td(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||vy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Lr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ed(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Yn));else if(l!==4&&(l===27&&Lr(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(ed(e,i,s),e=e.sibling;e!==null;)ed(e,i,s),e=e.sibling}function ac(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(l!==4&&(l===27&&Lr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(ac(e,i,s),e=e.sibling;e!==null;)ac(e,i,s),e=e.sibling}function Ey(e){var i=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ye(i,l,s),i[Te]=e,i[Le]=s}catch(f){$t(e,e.return,f)}}var Xi=!1,Ce=!1,nd=!1,Ty=typeof WeakSet=="function"?WeakSet:Set,ze=null;function XT(e,i){if(e=e.containerInfo,Ad=Rc,e=Vg(e),Kh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var _=0,S=-1,C=-1,z=0,G=0,X=e,B=null;e:for(;;){for(var j;X!==s||h!==0&&X.nodeType!==3||(S=_+h),X!==f||l!==0&&X.nodeType!==3||(C=_+l),X.nodeType===3&&(_+=X.nodeValue.length),(j=X.firstChild)!==null;)B=X,X=j;for(;;){if(X===e)break e;if(B===s&&++z===h&&(S=_),B===f&&++G===l&&(C=_),(j=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=j}s=S===-1||C===-1?null:{start:S,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(bd={focusedElem:e,selectionRange:s},Rc=!1,ze=i;ze!==null;)if(i=ze,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ze=e;else for(;ze!==null;){switch(i=ze,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=i,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var st=La(s.type,h);e=l.getSnapshotBeforeUpdate(st,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(mt){$t(s,s.return,mt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)Cd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,ze=e;break}ze=i.return}}function Sy(e,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Wi(e,s),l&4&&ll(5,s);break;case 1:if(Wi(e,s),l&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(_){$t(s,s.return,_)}else{var h=La(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(s,s.return,_)}}l&64&&py(s),l&512&&ul(s,s.return);break;case 3:if(Wi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{sp(e,i)}catch(_){$t(s,s.return,_)}}break;case 27:i===null&&l&4&&Ey(s);case 26:case 5:Wi(e,s),i===null&&l&4&&_y(s),l&512&&ul(s,s.return);break;case 12:Wi(e,s);break;case 31:Wi(e,s),l&4&&wy(e,s);break;case 13:Wi(e,s),l&4&&Ry(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=rS.bind(null,s),bS(e,s))));break;case 22:if(l=s.memoizedState!==null||Xi,!l){i=i!==null&&i.memoizedState!==null||Ce,h=Xi;var f=Ce;Xi=l,(Ce=i)&&!f?Ji(e,s,(s.subtreeFlags&8772)!==0):Wi(e,s),Xi=h,Ce=f}break;case 30:break;default:Wi(e,s)}}function Ay(e){var i=e.alternate;i!==null&&(e.alternate=null,Ay(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&os(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,ln=!1;function $i(e,i,s){for(s=s.child;s!==null;)by(e,i,s),s=s.sibling}function by(e,i,s){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Hn,s)}catch{}switch(s.tag){case 26:Ce||wi(s,i),$i(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ce||wi(s,i);var l=ue,h=ln;Lr(s.type)&&(ue=s.stateNode,ln=!1),$i(e,i,s),_l(s.stateNode),ue=l,ln=h;break;case 5:Ce||wi(s,i);case 6:if(l=ue,h=ln,ue=null,$i(e,i,s),ue=l,ln=h,ue!==null)if(ln)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(s.stateNode)}catch(f){$t(s,i,f)}else try{ue.removeChild(s.stateNode)}catch(f){$t(s,i,f)}break;case 18:ue!==null&&(ln?(e=ue,p_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Gs(e)):p_(ue,s.stateNode));break;case 4:l=ue,h=ln,ue=s.stateNode.containerInfo,ln=!0,$i(e,i,s),ue=l,ln=h;break;case 0:case 11:case 14:case 15:Mr(2,s,i),Ce||Mr(4,s,i),$i(e,i,s);break;case 1:Ce||(wi(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&yy(s,i,l)),$i(e,i,s);break;case 21:$i(e,i,s);break;case 22:Ce=(l=Ce)||s.memoizedState!==null,$i(e,i,s),Ce=l;break;default:$i(e,i,s)}}function wy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Gs(e)}catch(s){$t(i,i.return,s)}}}function Ry(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gs(e)}catch(s){$t(i,i.return,s)}}function $T(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Ty),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Ty),i;default:throw Error(a(435,e.tag))}}function sc(e,i){var s=$T(e);i.forEach(function(l){if(!s.has(l)){s.add(l);var h=aS.bind(null,e,l);l.then(h,h)}})}function un(e,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,_=i,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(Lr(S.type)){ue=S.stateNode,ln=!1;break t}break;case 5:ue=S.stateNode,ln=!1;break t;case 3:case 4:ue=S.stateNode.containerInfo,ln=!0;break t}S=S.return}if(ue===null)throw Error(a(160));by(f,_,h),ue=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Cy(i,e),i=i.sibling}var Jn=null;function Cy(e,i){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(i,e),cn(e),l&4&&(Mr(3,e,e.return),ll(3,e),Mr(5,e,e.return));break;case 1:un(i,e),cn(e),l&512&&(Ce||s===null||wi(s,s.return)),l&64&&Xi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Jn;if(un(i,e),cn(e),l&512&&(Ce||s===null||wi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ye(f,l,s),f[Te]=e,Se(f),l=f;break t;case"link":var _=C_("link","href",h).get(l+(s.href||""));if(_){for(var S=0;S<_.length;S++)if(f=_[S],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(S,1);break e}}f=h.createElement(l),Ye(f,l,s),h.head.appendChild(f);break;case"meta":if(_=C_("meta","content",h).get(l+(s.content||""))){for(S=0;S<_.length;S++)if(f=_[S],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(S,1);break e}}f=h.createElement(l),Ye(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Te]=e,Se(f),l=f}e.stateNode=l}else I_(h,e.type,e.stateNode);else e.stateNode=R_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?I_(h,e.type,e.stateNode):R_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Zf(e,e.memoizedProps,s.memoizedProps)}break;case 27:un(i,e),cn(e),l&512&&(Ce||s===null||wi(s,s.return)),s!==null&&l&4&&Zf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(un(i,e),cn(e),l&512&&(Ce||s===null||wi(s,s.return)),e.flags&32){h=e.stateNode;try{on(h,"")}catch(st){$t(e,e.return,st)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Zf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(nd=!0);break;case 6:if(un(i,e),cn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(st){$t(e,e.return,st)}}break;case 3:if(Sc=null,h=Jn,Jn=Ec(i.containerInfo),un(i,e),Jn=h,cn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Gs(i.containerInfo)}catch(st){$t(e,e.return,st)}nd&&(nd=!1,Iy(e));break;case 4:l=Jn,Jn=Ec(e.stateNode.containerInfo),un(i,e),cn(e),Jn=l;break;case 12:un(i,e),cn(e);break;case 31:un(i,e),cn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sc(e,l)));break;case 13:un(i,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(lc=en()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sc(e,l)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=Xi,G=Ce;if(Xi=z||h,Ce=G||C,un(i,e),Ce=G,Xi=z,cn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||C||Xi||Ce||Ua(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){C=s=i;try{if(f=C.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;S.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(st){$t(C,C.return,st)}}}else if(i.tag===6){if(s===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(st){$t(C,C.return,st)}}}else if(i.tag===18){if(s===null){C=i;try{var j=C.stateNode;h?y_(j,!0):y_(C.stateNode,!1)}catch(st){$t(C,C.return,st)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,sc(e,s))));break;case 19:un(i,e),cn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sc(e,l)));break;case 30:break;case 21:break;default:un(i,e),cn(e)}}function cn(e){var i=e.flags;if(i&2){try{for(var s,l=e.return;l!==null;){if(vy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=td(e);ac(e,f,h);break;case 5:var _=s.stateNode;s.flags&32&&(on(_,""),s.flags&=-33);var S=td(e);ac(e,S,_);break;case 3:case 4:var C=s.stateNode.containerInfo,z=td(e);ed(e,z,C);break;default:throw Error(a(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Iy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Iy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Wi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Sy(e,i.alternate,i),i=i.sibling}function Ua(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),Ua(i);break;case 1:wi(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&yy(i,i.return,s),Ua(i);break;case 27:_l(i.stateNode);case 26:case 5:wi(i,i.return),Ua(i);break;case 22:i.memoizedState===null&&Ua(i);break;case 30:Ua(i);break;default:Ua(i)}e=e.sibling}}function Ji(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(h,f,s),ll(4,f);break;case 1:if(Ji(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var S=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ap(C[h],S)}catch(z){$t(l,l.return,z)}}s&&_&64&&py(f),ul(f,f.return);break;case 27:Ey(f);case 26:case 5:Ji(h,f,s),s&&l===null&&_&4&&_y(f),ul(f,f.return);break;case 12:Ji(h,f,s);break;case 31:Ji(h,f,s),s&&_&4&&wy(h,f);break;case 13:Ji(h,f,s),s&&_&4&&Ry(h,f);break;case 22:f.memoizedState===null&&Ji(h,f,s),ul(f,f.return);break;case 30:break;default:Ji(h,f,s)}i=i.sibling}}function id(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Xo(s))}function rd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Xo(e))}function Zn(e,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Dy(e,i,s,l),i=i.sibling}function Dy(e,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(e,i,s,l),h&2048&&ll(9,i);break;case 1:Zn(e,i,s,l);break;case 3:Zn(e,i,s,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Xo(e)));break;case 12:if(h&2048){Zn(e,i,s,l),e=i.stateNode;try{var f=i.memoizedProps,_=f.id,S=f.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){$t(i,i.return,C)}}else Zn(e,i,s,l);break;case 31:Zn(e,i,s,l);break;case 13:Zn(e,i,s,l);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?Zn(e,i,s,l):cl(e,i):f._visibility&2?Zn(e,i,s,l):(f._visibility|=2,ks(e,i,s,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&id(_,i);break;case 24:Zn(e,i,s,l),h&2048&&rd(i.alternate,i);break;default:Zn(e,i,s,l)}}function ks(e,i,s,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,_=i,S=s,C=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:ks(f,_,S,C,h),ll(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?ks(f,_,S,C,h):cl(f,_):(G._visibility|=2,ks(f,_,S,C,h)),h&&z&2048&&id(_.alternate,_);break;case 24:ks(f,_,S,C,h),h&&z&2048&&rd(_.alternate,_);break;default:ks(f,_,S,C,h)}i=i.sibling}}function cl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,l=i,h=l.flags;switch(l.tag){case 22:cl(s,l),h&2048&&id(l.alternate,l);break;case 24:cl(s,l),h&2048&&rd(l.alternate,l);break;default:cl(s,l)}i=i.sibling}}var hl=8192;function Ps(e,i,s){if(e.subtreeFlags&hl)for(e=e.child;e!==null;)My(e,i,s),e=e.sibling}function My(e,i,s){switch(e.tag){case 26:Ps(e,i,s),e.flags&hl&&e.memoizedState!==null&&xS(s,Jn,e.memoizedState,e.memoizedProps);break;case 5:Ps(e,i,s);break;case 3:case 4:var l=Jn;Jn=Ec(e.stateNode.containerInfo),Ps(e,i,s),Jn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=hl,hl=16777216,Ps(e,i,s),hl=l):Ps(e,i,s));break;default:Ps(e,i,s)}}function Ny(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function fl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];ze=l,Vy(l,e)}Ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Oy(e),e=e.sibling}function Oy(e){switch(e.tag){case 0:case 11:case 15:fl(e),e.flags&2048&&Mr(9,e,e.return);break;case 3:fl(e);break;case 12:fl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,oc(e)):fl(e);break;default:fl(e)}}function oc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];ze=l,Vy(l,e)}Ny(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),oc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,oc(i));break;default:oc(i)}e=e.sibling}}function Vy(e,i){for(;ze!==null;){var s=ze;switch(s.tag){case 0:case 11:case 15:Mr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ze=l;else t:for(s=e;ze!==null;){l=ze;var h=l.sibling,f=l.return;if(Ay(l),l===s){ze=null;break t}if(h!==null){h.return=f,ze=h;break t}ze=f}}}var WT={getCacheForType:function(e){var i=Fe(be),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s},cacheSignal:function(){return Fe(be).controller.signal}},JT=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ne=null,Ct=null,Ot=0,Xt=0,Sn=null,Nr=!1,xs=!1,ad=!1,Zi=0,fe=0,Or=0,za=0,sd=0,An=0,Ls=0,dl=null,hn=null,od=!1,lc=0,ky=0,uc=1/0,cc=null,Vr=null,Ve=0,kr=null,Us=null,tr=0,ld=0,ud=null,Py=null,ml=0,cd=null;function bn(){return(Gt&2)!==0&&Ot!==0?Ot&-Ot:F.T!==null?pd():hu()}function xy(){if(An===0)if((Ot&536870912)===0||Lt){var e=fa;fa<<=1,(fa&3932160)===0&&(fa=262144),An=e}else An=536870912;return e=En.current,e!==null&&(e.flags|=32),An}function fn(e,i,s){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(zs(e,0),Pr(e,Ot,An,!1)),da(e,s),((Gt&2)===0||e!==ne)&&(e===ne&&((Gt&2)===0&&(za|=s),fe===4&&Pr(e,Ot,An,!1)),Ri(e))}function Ly(e,i,s){if((Gt&6)!==0)throw Error(a(327));var l=!s&&(i&127)===0&&(i&e.expiredLanes)===0||jn(e,i),h=l?eS(e,i):fd(e,i,!0),f=l;do{if(h===0){xs&&!l&&Pr(e,i,0,!1);break}else{if(s=e.current.alternate,f&&!ZT(s)){h=fd(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var S=e;h=dl;var C=S.current.memoizedState.isDehydrated;if(C&&(zs(S,_).flags|=256),_=fd(S,_,!1),_!==2){if(ad&&!C){S.errorRecoveryDisabledLanes|=f,za|=f,h=4;break t}f=hn,hn=h,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){zs(e,0),Pr(e,i,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Pr(l,i,An,!Nr);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=lc+300-en(),10<h)){if(Pr(l,i,An,!Nr),li(l,0,!0)!==0)break t;tr=i,l.timeoutHandle=m_(Uy.bind(null,l,s,hn,cc,od,i,An,za,Ls,Nr,f,"Throttled",-0,0),h);break t}Uy(l,s,hn,cc,od,i,An,za,Ls,Nr,f,null,-0,0)}}break}while(!0);Ri(e)}function Uy(e,i,s,l,h,f,_,S,C,z,G,X,B,j){if(e.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},My(i,f,X);var st=(f&62914560)===f?lc-en():(f&4194048)===f?ky-en():0;if(st=LS(X,st),st!==null){tr=f,e.cancelPendingCommit=st(Yy.bind(null,e,i,f,s,l,h,_,S,C,G,X,null,B,j)),Pr(e,f,_,!z);return}}Yy(e,i,f,s,l,h,_,S,C)}function ZT(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Pr(e,i,s,l){i&=~sd,i&=~za,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var f=31-me(h),_=1<<f;l[f]=-1,h&=~_}s!==0&&ma(e,s,i)}function hc(){return(Gt&6)===0?(gl(0),!1):!0}function hd(){if(Ct!==null){if(Xt===0)var e=Ct.return;else e=Ct,ji=Ma=null,Cf(e),Ds=null,Wo=0,e=Ct;for(;e!==null;)gy(e.alternate,e),e=e.return;Ct=null}}function zs(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,vS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),tr=0,hd(),ne=e,Ct=s=qi(e.current,null),Ot=i,Xt=0,Sn=null,Nr=!1,xs=jn(e,i),ad=!1,Ls=An=sd=za=Or=fe=0,hn=dl=null,od=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-me(l),f=1<<h;i|=e[h],l&=~f}return Zi=i,Ou(),s}function zy(e,i){At=null,F.H=al,i===Is||i===Bu?(i=ep(),Xt=3):i===gf?(i=ep(),Xt=4):Xt=i===jf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Ct===null&&(fe=1,tc(e,Vn(i,e.current)))}function By(){var e=En.current;return e===null?!0:(Ot&4194048)===Ot?Ln===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Ln:!1}function qy(){var e=F.H;return F.H=al,e===null?al:e}function Hy(){var e=F.A;return F.A=WT,e}function fc(){fe=4,Nr||(Ot&4194048)!==Ot&&En.current!==null||(xs=!0),(Or&134217727)===0&&(za&134217727)===0||ne===null||Pr(ne,Ot,An,!1)}function fd(e,i,s){var l=Gt;Gt|=2;var h=qy(),f=Hy();(ne!==e||Ot!==i)&&(cc=null,zs(e,i)),i=!1;var _=fe;t:do try{if(Xt!==0&&Ct!==null){var S=Ct,C=Sn;switch(Xt){case 8:hd(),_=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var z=Xt;if(Xt=0,Sn=null,Bs(e,S,C,z),s&&xs){_=0;break t}break;default:z=Xt,Xt=0,Sn=null,Bs(e,S,C,z)}}tS(),_=fe;break}catch(G){zy(e,G)}while(!0);return i&&e.shellSuspendCounter++,ji=Ma=null,Gt=l,F.H=h,F.A=f,Ct===null&&(ne=null,Ot=0,Ou()),_}function tS(){for(;Ct!==null;)jy(Ct)}function eS(e,i){var s=Gt;Gt|=2;var l=qy(),h=Hy();ne!==e||Ot!==i?(cc=null,uc=en()+500,zs(e,i)):xs=jn(e,i);t:do try{if(Xt!==0&&Ct!==null){i=Ct;var f=Sn;e:switch(Xt){case 1:Xt=0,Sn=null,Bs(e,i,f,1);break;case 2:case 9:if(Zg(f)){Xt=0,Sn=null,Fy(i);break}i=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),Ri(e)},f.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Zg(f)?(Xt=0,Sn=null,Fy(i)):(Xt=0,Sn=null,Bs(e,i,f,7));break;case 5:var _=null;switch(Ct.tag){case 26:_=Ct.memoizedState;case 5:case 27:var S=Ct;if(_?D_(_):S.stateNode.complete){Xt=0,Sn=null;var C=S.sibling;if(C!==null)Ct=C;else{var z=S.return;z!==null?(Ct=z,dc(z)):Ct=null}break e}}Xt=0,Sn=null,Bs(e,i,f,5);break;case 6:Xt=0,Sn=null,Bs(e,i,f,6);break;case 8:hd(),fe=6;break t;default:throw Error(a(462))}}nS();break}catch(G){zy(e,G)}while(!0);return ji=Ma=null,F.H=l,F.A=h,Gt=s,Ct!==null?0:(ne=null,Ot=0,Ou(),fe)}function nS(){for(;Ct!==null&&!qh();)jy(Ct)}function jy(e){var i=dy(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,i===null?dc(e):Ct=i}function Fy(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=oy(s,i,i.pendingProps,i.type,void 0,Ot);break;case 11:i=oy(s,i,i.pendingProps,i.type.render,i.ref,Ot);break;case 5:Cf(i);default:gy(s,i),i=Ct=Hg(i,Zi),i=dy(s,i,Zi)}e.memoizedProps=e.pendingProps,i===null?dc(e):Ct=i}function Bs(e,i,s,l){ji=Ma=null,Cf(i),Ds=null,Wo=0;var h=i.return;try{if(FT(e,h,i,s,Ot)){fe=1,tc(e,Vn(s,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;fe=1,tc(e,Vn(s,e.current)),Ct=null;return}i.flags&32768?(Lt||l===1?e=!0:xs||(Ot&536870912)!==0?e=!1:(Nr=e=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gy(i,e)):dc(i)}function dc(e){var i=e;do{if((i.flags&32768)!==0){Gy(i,Nr);return}e=i.return;var s=QT(i.alternate,i,Zi);if(s!==null){Ct=s;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=e}while(i!==null);fe===0&&(fe=5)}function Gy(e,i){do{var s=KT(e.alternate,e);if(s!==null){s.flags&=32767,Ct=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=s}while(e!==null);fe=6,Ct=null}function Yy(e,i,s,l,h,f,_,S,C){e.cancelPendingCommit=null;do mc();while(Ve!==0);if((Gt&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(f=i.lanes|i.childLanes,f|=Zh,Fh(e,s,f,_,S,C),e===ne&&(Ct=ne=null,Ot=0),Us=i,kr=e,tr=s,ld=f,ud=h,Py=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,sS(hr,function(){return Wy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=et.p,et.p=2,_=Gt,Gt|=4;try{XT(e,i,s)}finally{Gt=_,et.p=h,F.T=l}}Ve=1,Qy(),Ky(),Xy()}}function Qy(){if(Ve===1){Ve=0;var e=kr,i=Us,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var l=et.p;et.p=2;var h=Gt;Gt|=4;try{Cy(i,e);var f=bd,_=Vg(e.containerInfo),S=f.focusedElem,C=f.selectionRange;if(_!==S&&S&&S.ownerDocument&&Og(S.ownerDocument.documentElement,S)){if(C!==null&&Kh(S)){var z=C.start,G=C.end;if(G===void 0&&(G=z),"selectionStart"in S)S.selectionStart=z,S.selectionEnd=Math.min(G,S.value.length);else{var X=S.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var j=B.getSelection(),st=S.textContent.length,mt=Math.min(C.start,st),ee=C.end===void 0?mt:Math.min(C.end,st);!j.extend&&mt>ee&&(_=ee,ee=mt,mt=_);var P=Ng(S,mt),N=Ng(S,ee);if(P&&N&&(j.rangeCount!==1||j.anchorNode!==P.node||j.anchorOffset!==P.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var U=X.createRange();U.setStart(P.node,P.offset),j.removeAllRanges(),mt>ee?(j.addRange(U),j.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),j.addRange(U))}}}}for(X=[],j=S;j=j.parentNode;)j.nodeType===1&&X.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<X.length;S++){var Q=X[S];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Rc=!!Ad,bd=Ad=null}finally{Gt=h,et.p=l,F.T=s}}e.current=i,Ve=2}}function Ky(){if(Ve===2){Ve=0;var e=kr,i=Us,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var l=et.p;et.p=2;var h=Gt;Gt|=4;try{Sy(e,i.alternate,i)}finally{Gt=h,et.p=l,F.T=s}}Ve=3}}function Xy(){if(Ve===4||Ve===3){Ve=0,ru();var e=kr,i=Us,s=tr,l=Py;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ve=5:(Ve=0,Us=kr=null,$y(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Vr=null),Li(s),i=i.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=et.p,et.p=2,F.T=null;try{for(var f=e.onRecoverableError,_=0;_<l.length;_++){var S=l[_];f(S.value,{componentStack:S.stack})}}finally{F.T=i,et.p=h}}(tr&3)!==0&&mc(),Ri(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===cd?ml++:(ml=0,cd=e):ml=0,gl(0)}}function $y(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Xo(i)))}function mc(){return Qy(),Ky(),Xy(),Wy()}function Wy(){if(Ve!==5)return!1;var e=kr,i=ld;ld=0;var s=Li(tr),l=F.T,h=et.p;try{et.p=32>s?32:s,F.T=null,s=ud,ud=null;var f=kr,_=tr;if(Ve=0,Us=kr=null,tr=0,(Gt&6)!==0)throw Error(a(331));var S=Gt;if(Gt|=4,Oy(f.current),Dy(f,f.current,_,s),Gt=S,gl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Hn,f)}catch{}return!0}finally{et.p=h,F.T=l,$y(e,i)}}function Jy(e,i,s){i=Vn(s,i),i=Hf(e.stateNode,i,2),e=Cr(e,i,2),e!==null&&(da(e,2),Ri(e))}function $t(e,i,s){if(e.tag===3)Jy(e,e,s);else for(;i!==null;){if(i.tag===3){Jy(i,e,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vr===null||!Vr.has(l))){e=Vn(s,e),s=Zp(2),l=Cr(i,s,2),l!==null&&(ty(s,l,i,e),da(l,2),Ri(l));break}}i=i.return}}function dd(e,i,s){var l=e.pingCache;if(l===null){l=e.pingCache=new JT;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(ad=!0,h.add(s),e=iS.bind(null,e,i,s),i.then(e,e))}function iS(e,i,s){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ne===e&&(Ot&s)===s&&(fe===4||fe===3&&(Ot&62914560)===Ot&&300>en()-lc?(Gt&2)===0&&zs(e,0):sd|=s,Ls===Ot&&(Ls=0)),Ri(e)}function Zy(e,i){i===0&&(i=cu()),e=Ca(e,i),e!==null&&(da(e,i),Ri(e))}function rS(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Zy(e,s)}function aS(e,i){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Zy(e,s)}function sS(e,i){return Oe(e,i)}var gc=null,qs=null,md=!1,pc=!1,gd=!1,xr=0;function Ri(e){e!==qs&&e.next===null&&(qs===null?gc=qs=e:qs=qs.next=e),pc=!0,md||(md=!0,lS())}function gl(e,i){if(!gd&&pc){gd=!0;do for(var s=!1,l=gc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-me(42|e)+1)-1,f&=h&~(_&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,i_(l,f))}else f=Ot,f=li(l,l===ne?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||jn(l,f)||(s=!0,i_(l,f));l=l.next}while(s);gd=!1}}function oS(){t_()}function t_(){pc=md=!1;var e=0;xr!==0&&_S()&&(e=xr);for(var i=en(),s=null,l=gc;l!==null;){var h=l.next,f=e_(l,i);f===0?(l.next=null,s===null?gc=h:s.next=h,h===null&&(qs=s)):(s=l,(e!==0||(f&3)!==0)&&(pc=!0)),l=h}Ve!==0&&Ve!==5||gl(e),xr!==0&&(xr=0)}function e_(e,i){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-me(f),S=1<<_,C=h[_];C===-1?((S&s)===0||(S&l)!==0)&&(h[_]=jh(S,i)):C<=i&&(e.expiredLanes|=S),f&=~S}if(i=ne,s=Ot,s=li(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&cr(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||jn(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(l!==null&&cr(l),Li(s)){case 2:case 8:s=wo;break;case 32:s=hr;break;case 268435456:s=au;break;default:s=hr}return l=n_.bind(null,e),s=Oe(s,l),e.callbackPriority=i,e.callbackNode=s,i}return l!==null&&l!==null&&cr(l),e.callbackPriority=2,e.callbackNode=null,2}function n_(e,i){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(mc()&&e.callbackNode!==s)return null;var l=Ot;return l=li(e,e===ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ly(e,l,i),e_(e,en()),e.callbackNode!=null&&e.callbackNode===s?n_.bind(null,e):null)}function i_(e,i){if(mc())return null;Ly(e,i,!0)}function lS(){ES(function(){(Gt&6)!==0?Oe(bo,oS):t_()})}function pd(){if(xr===0){var e=Rs;e===0&&(e=si,si<<=1,(si&261888)===0&&(si=256)),xr=e}return xr}function r_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:hs(""+e)}function a_(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function uS(e,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var f=r_((h[Le]||null).action),_=l.submitter;_&&(i=(i=_[Le]||null)?r_(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var S=new vi("action","action",null,l,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xr!==0){var C=_?a_(h,_):new FormData(h);xf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(S.preventDefault(),C=_?a_(h,_):new FormData(h),xf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var yd=0;yd<Jh.length;yd++){var _d=Jh[yd],cS=_d.toLowerCase(),hS=_d[0].toUpperCase()+_d.slice(1);Wn(cS,"on"+hS)}Wn(xg,"onAnimationEnd"),Wn(Lg,"onAnimationIteration"),Wn(Ug,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(CT,"onTransitionRun"),Wn(IT,"onTransitionStart"),Wn(DT,"onTransitionCancel"),Wn(zg,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function s_(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],C=S.instance,z=S.currentTarget;if(S=S.listener,C!==f&&h.isPropagationStopped())break t;f=S,h.currentTarget=z;try{f(h)}catch(G){Nu(G)}h.currentTarget=null,f=C}else for(_=0;_<l.length;_++){if(S=l[_],C=S.instance,z=S.currentTarget,S=S.listener,C!==f&&h.isPropagationStopped())break t;f=S,h.currentTarget=z;try{f(h)}catch(G){Nu(G)}h.currentTarget=null,f=C}}}}function It(e,i){var s=i[ss];s===void 0&&(s=i[ss]=new Set);var l=e+"__bubble";s.has(l)||(o_(i,e,2,!1),s.add(l))}function vd(e,i,s){var l=0;i&&(l|=4),o_(s,e,l,i)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Ed(e){if(!e[yc]){e[yc]=!0,Io.forEach(function(s){s!=="selectionchange"&&(fS.has(s)||vd(s,!1,e),vd(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[yc]||(i[yc]=!0,vd("selectionchange",!1,i))}}function o_(e,i,s,l){switch(x_(i)){case 2:var h=BS;break;case 8:h=qS;break;default:h=Pd}s=h.bind(null,i,s,e),h=void 0,!va||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,s,{capture:!0,passive:h}):e.addEventListener(i,s,!0):h!==void 0?e.addEventListener(i,s,{passive:h}):e.addEventListener(i,s,!1)}function Td(e,i,s,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=fi(S),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=f=_;continue t}S=S.parentNode}}l=l.return}yr(function(){var z=f,G=Dn(s),X=[];t:{var B=Bg.get(e);if(B!==void 0){var j=vi,st=e;switch(e){case"keypress":if(Ta(s)===0)break t;case"keydown":case"keyup":j=Iu;break;case"focusin":st="focus",j=Aa;break;case"focusout":st="blur",j=Aa;break;case"beforeblur":case"afterblur":j=Aa;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=p;break;case xg:case Lg:case Ug:j=Tu;break;case zg:j=A;break;case"scroll":case"scrollend":j=Bo;break;case"wheel":j=H;break;case"copy":case"cut":case"paste":j=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Bi;break;case"toggle":case"beforetoggle":j=St}var mt=(i&4)!==0,ee=!mt&&(e==="scroll"||e==="scrollend"),P=mt?B!==null?B+"Capture":null:B;mt=[];for(var N=z,U;N!==null;){var Q=N;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||P===null||(Q=Qn(N,P),Q!=null&&mt.push(yl(N,Q,U))),ee)break;N=N.return}0<mt.length&&(B=new j(B,st,null,s,G),X.push({event:B,listeners:mt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",B&&s!==Lo&&(st=s.relatedTarget||s.fromElement)&&(fi(st)||st[ci]))break t;if((j||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,j?(st=s.relatedTarget||s.toElement,j=z,st=st?fi(st):null,st!==null&&(ee=u(st),mt=st.tag,st!==ee||mt!==5&&mt!==27&&mt!==6)&&(st=null)):(j=null,st=z),j!==st)){if(mt=qo,Q="onMouseLeave",P="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Bi,Q="onPointerLeave",P="onPointerEnter",N="pointer"),ee=j==null?B:pn(j),U=st==null?B:pn(st),B=new mt(Q,N+"leave",j,s,G),B.target=ee,B.relatedTarget=U,Q=null,fi(G)===z&&(mt=new mt(P,N+"enter",st,s,G),mt.target=U,mt.relatedTarget=ee,Q=mt),ee=Q,j&&st)e:{for(mt=dS,P=j,N=st,U=0,Q=P;Q;Q=mt(Q))U++;Q=0;for(var ht=N;ht;ht=mt(ht))Q++;for(;0<U-Q;)P=mt(P),U--;for(;0<Q-U;)N=mt(N),Q--;for(;U--;){if(P===N||N!==null&&P===N.alternate){mt=P;break e}P=mt(P),N=mt(N)}mt=null}else mt=null;j!==null&&l_(X,B,j,mt,!1),st!==null&&ee!==null&&l_(X,ee,st,mt,!0)}}t:{if(B=z?pn(z):window,j=B.nodeName&&B.nodeName.toLowerCase(),j==="select"||j==="input"&&B.type==="file")var Ht=wg;else if(Ag(B))if(Rg)Ht=bT;else{Ht=ST;var ut=TT}else j=B.nodeName,!j||j.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&cs(z.elementType)&&(Ht=wg):Ht=AT;if(Ht&&(Ht=Ht(e,z))){bg(X,Ht,s,G);break t}ut&&ut(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&ko(B,"number",B.value)}switch(ut=z?pn(z):window,e){case"focusin":(Ag(ut)||ut.contentEditable==="true")&&(_s=ut,Xh=z,Yo=null);break;case"focusout":Yo=Xh=_s=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,kg(X,s,G);break;case"selectionchange":if(RT)break;case"keydown":case"keyup":kg(X,s,G)}var wt;if(Ft)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else ys?ba(e,s)&&(Vt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Vt="onCompositionStart");Vt&&(Si&&s.locale!=="ko"&&(ys||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ys&&(wt=zo()):(_i=G,Uo="value"in _i?_i.value:_i.textContent,ys=!0)),ut=_c(z,Vt),0<ut.length&&(Vt=new Ti(Vt,e,null,s,G),X.push({event:Vt,listeners:ut}),wt?Vt.data=wt:(wt=ps(s),wt!==null&&(Vt.data=wt)))),(wt=Nn?yT(e,s):_T(e,s))&&(Vt=_c(z,"onBeforeInput"),0<Vt.length&&(ut=new Ti("onBeforeInput","beforeinput",null,s,G),X.push({event:ut,listeners:Vt}),ut.data=wt)),uS(X,e,z,s,G)}s_(X,i)})}function yl(e,i,s){return{instance:e,listener:i,currentTarget:s}}function _c(e,i){for(var s=i+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(e,s),h!=null&&l.unshift(yl(e,h,f)),h=Qn(e,i),h!=null&&l.push(yl(e,h,f))),e.tag===3)return l;e=e.return}return[]}function dS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function l_(e,i,s,l,h){for(var f=i._reactName,_=[];s!==null&&s!==l;){var S=s,C=S.alternate,z=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||z===null||(C=z,h?(z=Qn(s,f),z!=null&&_.unshift(yl(s,z,C))):h||(z=Qn(s,f),z!=null&&_.push(yl(s,z,C)))),s=s.return}_.length!==0&&e.push({event:i,listeners:_})}var mS=/\r\n?/g,gS=/\u0000|\uFFFD/g;function u_(e){return(typeof e=="string"?e:""+e).replace(mS,`
`).replace(gS,"")}function c_(e,i){return i=u_(i),u_(e)===i}function te(e,i,s,l,h,f){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(e,""+l);break;case"className":yn(e,"class",l);break;case"tabIndex":yn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,s,l);break;case"style":xo(e,l,f);break;case"data":if(i!=="object"){yn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=hs(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(i!=="input"&&te(e,i,"name",h.name,h,null),te(e,i,"formEncType",h.formEncType,h,null),te(e,i,"formMethod",h.formMethod,h,null),te(e,i,"formTarget",h.formTarget,h,null)):(te(e,i,"encType",h.encType,h,null),te(e,i,"method",h.method,h,null),te(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=hs(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Yn);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=hs(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":It("beforetoggle",e),It("toggle",e),ls(e,"popover",l);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ls(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=_u.get(s)||s,ls(e,s,l))}}function Sd(e,i,s,l,h,f){switch(s){case"style":xo(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?on(e,l):(typeof l=="number"||typeof l=="bigint")&&on(e,""+l);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Do.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),f=e[Le]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ls(e,s,l)}}}function Ye(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var _=s[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:te(e,i,f,_,s,null)}}h&&te(e,i,"srcSet",s.srcSet,s,null),l&&te(e,i,"src",s.src,s,null);return;case"input":It("invalid",e);var S=f=_=h=null,C=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":_=G;break;case"checked":C=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,i));break;default:te(e,i,l,G,s,null)}}gu(e,f,S,C,z,_,h,!1);return;case"select":It("invalid",e),l=_=f=null;for(h in s)if(s.hasOwnProperty(h)&&(S=s[h],S!=null))switch(h){case"value":f=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:te(e,i,h,S,s,null)}i=f,s=_,e.multiple=!!l,i!=null?dr(e,!!l,i,!1):s!=null&&dr(e,!!l,s,!0);return;case"textarea":It("invalid",e),f=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(S=s[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:te(e,i,_,S,s,null)}mr(e,l,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(e,i,C,l,s,null)}return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(l=0;l<pl.length;l++)It(pl[l],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:te(e,i,z,l,s,null)}return;default:if(cs(i)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&Sd(e,i,G,l,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(l=s[S],l!=null&&te(e,i,S,l,s,null))}function pS(e,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,S=null,C=null,z=null,G=null;for(j in s){var X=s[j];if(s.hasOwnProperty(j)&&X!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(j)||te(e,i,j,null,l,X)}}for(var B in l){var j=l[B];if(X=s[B],l.hasOwnProperty(B)&&(j!=null||X!=null))switch(B){case"type":f=j;break;case"name":h=j;break;case"checked":z=j;break;case"defaultChecked":G=j;break;case"value":_=j;break;case"defaultValue":S=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,i));break;default:j!==X&&te(e,i,B,j,l,X)}}us(e,_,S,C,z,G,f,h);return;case"select":j=_=S=B=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":j=C;default:l.hasOwnProperty(f)||te(e,i,f,null,l,C)}for(h in l)if(f=l[h],C=s[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":S=f;break;case"multiple":_=f;default:f!==C&&te(e,i,h,f,l,C)}i=S,s=_,l=j,B!=null?dr(e,!!s,B,!1):!!l!=!!s&&(i!=null?dr(e,!!s,i,!0):dr(e,!!s,s?[]:"",!1));return;case"textarea":j=B=null;for(S in s)if(h=s[S],s.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:te(e,i,S,null,l,h)}for(_ in l)if(h=l[_],f=s[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":B=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&te(e,i,_,h,l,f)}pu(e,B,j);return;case"option":for(var st in s)if(B=s[st],s.hasOwnProperty(st)&&B!=null&&!l.hasOwnProperty(st))switch(st){case"selected":e.selected=!1;break;default:te(e,i,st,null,l,B)}for(C in l)if(B=l[C],j=s[C],l.hasOwnProperty(C)&&B!==j&&(B!=null||j!=null))switch(C){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:te(e,i,C,B,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in s)B=s[mt],s.hasOwnProperty(mt)&&B!=null&&!l.hasOwnProperty(mt)&&te(e,i,mt,null,l,B);for(z in l)if(B=l[z],j=s[z],l.hasOwnProperty(z)&&B!==j&&(B!=null||j!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,i));break;default:te(e,i,z,B,l,j)}return;default:if(cs(i)){for(var ee in s)B=s[ee],s.hasOwnProperty(ee)&&B!==void 0&&!l.hasOwnProperty(ee)&&Sd(e,i,ee,void 0,l,B);for(G in l)B=l[G],j=s[G],!l.hasOwnProperty(G)||B===j||B===void 0&&j===void 0||Sd(e,i,G,B,l,j);return}}for(var P in s)B=s[P],s.hasOwnProperty(P)&&B!=null&&!l.hasOwnProperty(P)&&te(e,i,P,null,l,B);for(X in l)B=l[X],j=s[X],!l.hasOwnProperty(X)||B===j||B==null&&j==null||te(e,i,X,B,l,j)}function h_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,_=h.initiatorType,S=h.duration;if(f&&S&&h_(_)){for(_=0,S=h.responseEnd,l+=1;l<s.length;l++){var C=s[l],z=C.startTime;if(z>S)break;var G=C.transferSize,X=C.initiatorType;G&&h_(X)&&(C=C.responseEnd,_+=G*(C<S?1:(S-z)/(C-z)))}if(--l,i+=8*(f+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ad=null,bd=null;function vc(e){return e.nodeType===9?e:e.ownerDocument}function f_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function wd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rd=null;function _S(){var e=window.event;return e&&e.type==="popstate"?e===Rd?!1:(Rd=e,!0):(Rd=null,!1)}var m_=typeof setTimeout=="function"?setTimeout:void 0,vS=typeof clearTimeout=="function"?clearTimeout:void 0,g_=typeof Promise=="function"?Promise:void 0,ES=typeof queueMicrotask=="function"?queueMicrotask:typeof g_<"u"?function(e){return g_.resolve(null).then(e).catch(TS)}:m_;function TS(e){setTimeout(function(){throw e})}function Lr(e){return e==="head"}function p_(e,i){var s=i,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Gs(i);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")_l(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,_l(s);for(var f=s.firstChild;f;){var _=f.nextSibling,S=f.nodeName;f[hi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=_}}else s==="body"&&_l(e.ownerDocument.body);s=h}while(s);Gs(i)}function y_(e,i){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function Cd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Cd(s),os(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function SS(e,i,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[hi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function AS(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Un(e.nextSibling),e===null))return null;return e}function __(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Un(e.nextSibling),e===null))return null;return e}function Id(e){return e.data==="$?"||e.data==="$~"}function Dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function bS(e,i){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||s.readyState!=="loading")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Un(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Md=null;function v_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(i===0)return Un(e.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}e=e.nextSibling}return null}function E_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return e;i--}else s!=="/$"&&s!=="/&"||i++}e=e.previousSibling}return null}function T_(e,i,s){switch(i=vc(s),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function _l(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);os(e)}var zn=new Map,S_=new Set;function Ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var er=et.d;et.d={f:wS,r:RS,D:CS,C:IS,L:DS,m:MS,X:OS,S:NS,M:VS};function wS(){var e=er.f(),i=hc();return e||i}function RS(e){var i=In(e);i!==null&&i.tag===5&&i.type==="form"?zp(i):er.r(e)}var Hs=typeof document>"u"?null:document;function A_(e,i,s){var l=Hs;if(l&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),S_.has(h)||(S_.add(h),e={rel:e,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ye(i,"link",e),Se(i),l.head.appendChild(i)))}}function CS(e){er.D(e),A_("dns-prefetch",e,null)}function IS(e,i){er.C(e,i),A_("preconnect",e,i)}function DS(e,i,s){er.L(e,i,s);var l=Hs;if(l&&e&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+sn(s.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(i){case"style":f=js(e);break;case"script":f=Fs(e)}zn.has(f)||(e=T({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),zn.set(f,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(vl(f))||i==="script"&&l.querySelector(El(f))||(i=l.createElement("link"),Ye(i,"link",e),Se(i),l.head.appendChild(i)))}}function MS(e,i){er.m(e,i);var s=Hs;if(s&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fs(e)}if(!zn.has(f)&&(e=T({rel:"modulepreload",href:e},i),zn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(El(f)))return}l=s.createElement("link"),Ye(l,"link",e),Se(l),s.head.appendChild(l)}}}function NS(e,i,s){er.S(e,i,s);var l=Hs;if(l&&e){var h=di(l).hoistableStyles,f=js(e);i=i||"default";var _=h.get(f);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(vl(f)))S.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},s),(s=zn.get(f))&&Nd(e,s);var C=_=l.createElement("link");Se(C),Ye(C,"link",e),C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Tc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(f,_)}}}function OS(e,i){er.X(e,i);var s=Hs;if(s&&e){var l=di(s).hoistableScripts,h=Fs(e),f=l.get(h);f||(f=s.querySelector(El(h)),f||(e=T({src:e,async:!0},i),(i=zn.get(h))&&Od(e,i),f=s.createElement("script"),Se(f),Ye(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function VS(e,i){er.M(e,i);var s=Hs;if(s&&e){var l=di(s).hoistableScripts,h=Fs(e),f=l.get(h);f||(f=s.querySelector(El(h)),f||(e=T({src:e,async:!0,type:"module"},i),(i=zn.get(h))&&Od(e,i),f=s.createElement("script"),Se(f),Ye(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function b_(e,i,s,l){var h=(h=bt.current)?Ec(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=js(s.href),s=di(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=js(s.href);var f=di(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(vl(e)))&&!f._p&&(_.instance=f,_.state.loading=5),zn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zn.set(e,s),f||kS(h,e,s,_.state))),i&&l===null)throw Error(a(528,""));return _}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fs(s),s=di(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function js(e){return'href="'+sn(e)+'"'}function vl(e){return'link[rel="stylesheet"]['+e+"]"}function w_(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function kS(e,i,s,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ye(i,"link",s),Se(i),e.head.appendChild(i))}function Fs(e){return'[src="'+sn(e)+'"]'}function El(e){return"script[async]"+e}function R_(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+sn(s.href)+'"]');if(l)return i.instance=l,Se(l),l;var h=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Se(l),Ye(l,"style",h),Tc(l,s.precedence,e),i.instance=l;case"stylesheet":h=js(s.href);var f=e.querySelector(vl(h));if(f)return i.state.loading|=4,i.instance=f,Se(f),f;l=w_(s),(h=zn.get(h))&&Nd(l,h),f=(e.ownerDocument||e).createElement("link"),Se(f);var _=f;return _._p=new Promise(function(S,C){_.onload=S,_.onerror=C}),Ye(f,"link",l),i.state.loading|=4,Tc(f,s.precedence,e),i.instance=f;case"script":return f=Fs(s.src),(h=e.querySelector(El(f)))?(i.instance=h,Se(h),h):(l=s,(h=zn.get(f))&&(l=T({},s),Od(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),Ye(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Tc(l,s.precedence,e));return i.instance}function Tc(e,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)f=S;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function Nd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Od(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Sc=null;function C_(e,i,s){if(Sc===null){var l=new Map,h=Sc=new Map;h.set(s,l)}else h=Sc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[hi]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=e+_;var S=l.get(_);S?S.push(f):l.set(_,[f])}}return l}function I_(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function PS(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function D_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function xS(e,i,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=js(l.href),f=i.querySelector(vl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Ac.bind(e),i.then(e,e)),s.state.loading|=4,s.instance=f,Se(f);return}f=i.ownerDocument||i,l=w_(l),(h=zn.get(h))&&Nd(l,h),f=f.createElement("link"),Se(f);var _=f;_._p=new Promise(function(S,C){_.onload=S,_.onerror=C}),Ye(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Ac.bind(e),i.addEventListener("load",s),i.addEventListener("error",s))}}var Vd=0;function LS(e,i){return e.stylesheets&&e.count===0&&wc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&Vd===0&&(Vd=62500*yS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Vd?50:800)+i);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bc=null;function wc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bc=new Map,i.forEach(US,e),bc=null,Ac.call(e))}function US(e,i){if(!(i.state.loading&4)){var s=bc.get(e);if(s)var l=s.get(null);else{s=new Map,bc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),f=s.get(_)||l,f===l&&s.set(null,h),s.set(_,h),this.count++,l=Ac.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Tl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function zS(e,i,s,l,h,f,_,S,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function M_(e,i,s,l,h,f,_,S,C,z,G,X){return e=new zS(e,i,s,_,C,z,G,X,S),i=1,f===!0&&(i|=24),f=vn(3,null,null,i),e.current=f,f.stateNode=e,i=ff(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:i},pf(f),e}function N_(e){return e?(e=Ts,e):Ts}function O_(e,i,s,l,h,f){h=N_(h),l.context===null?l.context=h:l.pendingContext=h,l=Rr(i),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Cr(e,l,i),s!==null&&(fn(s,e,i),Zo(s,e,i))}function V_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function kd(e,i){V_(e,i),(e=e.alternate)&&V_(e,i)}function k_(e){if(e.tag===13||e.tag===31){var i=Ca(e,67108864);i!==null&&fn(i,e,67108864),kd(e,67108864)}}function P_(e){if(e.tag===13||e.tag===31){var i=bn();i=ga(i);var s=Ca(e,i);s!==null&&fn(s,e,i),kd(e,i)}}var Rc=!0;function BS(e,i,s,l){var h=F.T;F.T=null;var f=et.p;try{et.p=2,Pd(e,i,s,l)}finally{et.p=f,F.T=h}}function qS(e,i,s,l){var h=F.T;F.T=null;var f=et.p;try{et.p=8,Pd(e,i,s,l)}finally{et.p=f,F.T=h}}function Pd(e,i,s,l){if(Rc){var h=xd(l);if(h===null)Td(e,i,l,Cc,s),L_(e,l);else if(jS(h,e,i,s,l))l.stopPropagation();else if(L_(e,l),i&4&&-1<HS.indexOf(e)){for(;h!==null;){var f=In(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=oi(f.pendingLanes);if(_!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var C=1<<31-me(_);S.entanglements[1]|=C,_&=~C}Ri(f),(Gt&6)===0&&(uc=en()+500,gl(0))}}break;case 31:case 13:S=Ca(f,2),S!==null&&fn(S,f,2),hc(),kd(f,2)}if(f=xd(l),f===null&&Td(e,i,l,Cc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else Td(e,i,l,null,s)}}function xd(e){return e=Dn(e),Ld(e)}var Cc=null;function Ld(e){if(Cc=null,e=fi(e),e!==null){var i=u(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=d(i),e!==null)return e;e=null}else if(s===31){if(e=y(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Cc=e,null}function x_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ha()){case bo:return 2;case wo:return 8;case hr:case Hh:return 32;case au:return 268435456;default:return 32}default:return 32}}var Ud=!1,Ur=null,zr=null,Br=null,Sl=new Map,Al=new Map,qr=[],HS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L_(e,i){switch(e){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Sl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(i.pointerId)}}function bl(e,i,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=In(i),i!==null&&k_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function jS(e,i,s,l,h){switch(i){case"focusin":return Ur=bl(Ur,e,i,s,l,h),!0;case"dragenter":return zr=bl(zr,e,i,s,l,h),!0;case"mouseover":return Br=bl(Br,e,i,s,l,h),!0;case"pointerover":var f=h.pointerId;return Sl.set(f,bl(Sl.get(f)||null,e,i,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Al.set(f,bl(Al.get(f)||null,e,i,s,l,h)),!0}return!1}function U_(e){var i=fi(e.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=d(s),i!==null){e.blockedOn=i,Fn(e.priority,function(){P_(s)});return}}else if(i===31){if(i=y(s),i!==null){e.blockedOn=i,Fn(e.priority,function(){P_(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ic(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=xd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Lo=l,s.target.dispatchEvent(l),Lo=null}else return i=In(s),i!==null&&k_(i),e.blockedOn=s,!1;i.shift()}return!0}function z_(e,i,s){Ic(e)&&s.delete(i)}function FS(){Ud=!1,Ur!==null&&Ic(Ur)&&(Ur=null),zr!==null&&Ic(zr)&&(zr=null),Br!==null&&Ic(Br)&&(Br=null),Sl.forEach(z_),Al.forEach(z_)}function Dc(e,i){e.blockedOn===i&&(e.blockedOn=null,Ud||(Ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,FS)))}var Mc=null;function B_(e){Mc!==e&&(Mc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mc===e&&(Mc=null);for(var i=0;i<e.length;i+=3){var s=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Ld(l||s)===null)continue;break}var f=In(s);f!==null&&(e.splice(i,3),i-=3,xf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Gs(e){function i(C){return Dc(C,e)}Ur!==null&&Dc(Ur,e),zr!==null&&Dc(zr,e),Br!==null&&Dc(Br,e),Sl.forEach(i),Al.forEach(i);for(var s=0;s<qr.length;s++){var l=qr[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<qr.length&&(s=qr[0],s.blockedOn===null);)U_(s),s.blockedOn===null&&qr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],_=h[Le]||null;if(typeof f=="function")_||B_(s);else if(_){var S=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Le]||null)S=_.formAction;else if(Ld(h)!==null)continue}else S=_.action;typeof S=="function"?s[l+1]=S:(s.splice(l,3),l-=3),B_(s)}}}function q_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function zd(e){this._internalRoot=e}Nc.prototype.render=zd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=bn();O_(s,l,e,i,null,null)},Nc.prototype.unmount=zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;O_(e.current,2,null,e,null,null),hc(),i[ci]=null}};function Nc(e){this._internalRoot=e}Nc.prototype.unstable_scheduleHydration=function(e){if(e){var i=hu();e={blockedOn:null,target:e,priority:i};for(var s=0;s<qr.length&&i!==0&&i<qr[s].priority;s++);qr.splice(s,0,e),s===0&&U_(e)}};var H_=t.version;if(H_!=="19.2.4")throw Error(a(527,H_,"19.2.4"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var GS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{Hn=Oc.inject(GS),qe=Oc}catch{}}return Rl.createRoot=function(e,i){if(!o(e))throw Error(a(299));var s=!1,l="",h=Xp,f=$p,_=Wp;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=M_(e,1,!1,null,null,s,l,null,h,f,_,q_),e[ci]=i.current,Ed(e),new zd(i)},Rl.hydrateRoot=function(e,i,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=Xp,_=$p,S=Wp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),i=M_(e,1,!0,i,s??null,l,h,C,f,_,S,q_),i.context=N_(null),s=i.current,l=bn(),l=ga(l),h=Rr(l),h.callback=null,Cr(s,h,l),s=l,i.current.lanes=s,da(i,s),Ri(i),e[ci]=i.current,Ed(e),new Nc(i)},Rl.version="19.2.4",Rl}var J_;function eA(){if(J_)return Hd.exports;J_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Hd.exports=tA(),Hd.exports}var nA=eA();const KM=N0(nA),iA=()=>{};var Z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=function(r){const t=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},rA=function(r){const t=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],d=r[n++],y=r[n++],m=((o&7)<<18|(u&63)<<12|(d&63)<<6|y&63)-65536;t[a++]=String.fromCharCode(55296+(m>>10)),t[a++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],d=r[n++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return t.join("")},V0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],d=o+1<r.length,y=d?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,E=u>>2,T=(u&3)<<4|y>>4;let b=(y&15)<<2|g>>6,k=g&63;m||(k=64,d||(b=64)),a.push(n[E],n[T],n[b],n[k])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(O0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):rA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],y=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||y==null||g==null||T==null)throw new aA;const b=u<<2|y>>4;if(a.push(b),g!==64){const k=y<<4&240|g>>2;if(a.push(k),T!==64){const q=g<<6&192|T;a.push(q)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class aA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sA=function(r){const t=O0(r);return V0.encodeByteArray(t,!0)},Xc=function(r){return sA(r).replace(/\./g,"")},k0=function(r){try{return V0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=()=>oA().__FIREBASE_DEFAULTS__,uA=()=>{if(typeof process>"u"||typeof Z_>"u")return;const r=Z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&k0(r[1]);return t&&JSON.parse(t)},_h=()=>{try{return iA()||lA()||uA()||cA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},P0=r=>{var t,n;return(n=(t=_h())==null?void 0:t.emulatorHosts)==null?void 0:n[r]},hA=r=>{const t=P0(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},x0=()=>{var r;return(r=_h())==null?void 0:r.config},L0=r=>{var t;return(t=_h())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function U0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Xc(JSON.stringify(n)),Xc(JSON.stringify(d)),""].join(".")}const Ol={};function mA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ol))Ol[t]?r.emulator.push(t):r.prod.push(t);return r}function gA(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let tv=!1;function z0(r,t){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||Ol[r]===t||Ol[r]||tv)return;Ol[r]=t;function n(b){return`__firebase__banner__${b}`}const a="__firebase__banner",u=mA().prod.length>0;function d(){const b=document.getElementById(a);b&&b.remove()}function y(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,k){b.setAttribute("width","24"),b.setAttribute("id",k),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{tv=!0,d()},b}function E(b,k){b.setAttribute("id",k),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=gA(a),k=n("text"),q=document.getElementById(k)||document.createElement("span"),$=n("learnmore"),Y=document.getElementById($)||document.createElement("a"),ot=n("preprendIcon"),it=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Z=b.element;y(Z),E(Y,$);const dt=g();m(it,ot),Z.append(it,q,Y,dt),document.body.appendChild(Z)}u?(q.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function yA(){var t;const r=(t=_h())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _A(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function EA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TA(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function SA(){return!yA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AA(){try{return typeof indexedDB=="object"}catch{return!1}}function bA(){return new Promise((r,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="FirebaseError";class ur extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=wA,Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],d=u?RA(u,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new ur(o,y,a)}}function RA(r,t){return r.replace(CA,(n,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const CA=/\{\$([^}]+)}/g;function IA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ya(r,t){if(r===t)return!0;const n=Object.keys(r),a=Object.keys(t);for(const o of n){if(!a.includes(o))return!1;const u=r[o],d=t[o];if(ev(u)&&ev(d)){if(!Ya(u,d))return!1}else if(u!==d)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function ev(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(r){const t=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function DA(r,t){const n=new MA(r,t);return n.subscribe.bind(n)}class MA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,a){let o;if(t===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");NA(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:a},o.next===void 0&&(o.next=Yd),o.error===void 0&&(o.error=Yd),o.complete===void 0&&(o.complete=Yd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NA(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Yd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(r){return r&&r._delegate?r._delegate:r}class Qa{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new fA;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kA(t))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=Ba){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ba){return this.instances.has(t)}getOptions(t=Ba){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(u);a===y&&d.resolve(o)}return o}onInit(t,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&t(u,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:VA(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ba){return this.component?this.component.multipleInstances?t:Ba:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VA(r){return r===Ba?void 0:r}function kA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new OA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const xA={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},LA=kt.INFO,UA={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},zA=(r,t,...n)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=UA[t];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Nm{constructor(t){this.name=t,this._logLevel=LA,this._logHandler=zA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?xA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const BA=(r,t)=>t.some(n=>r instanceof n);let nv,iv;function qA(){return nv||(nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HA(){return iv||(iv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B0=new WeakMap,rm=new WeakMap,q0=new WeakMap,Qd=new WeakMap,Om=new WeakMap;function jA(r){const t=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n($r(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&B0.set(n,r)}).catch(()=>{}),Om.set(t,r),t}function FA(r){if(rm.has(r))return;const t=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});rm.set(r,t)}let am={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return rm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||q0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function GA(r){am=r(am)}function YA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=r.call(Kd(this),t,...n);return q0.set(a,t.sort?t.sort():[t]),$r(a)}:HA().includes(r)?function(...t){return r.apply(Kd(this),t),$r(B0.get(this))}:function(...t){return $r(r.apply(Kd(this),t))}}function QA(r){return typeof r=="function"?YA(r):(r instanceof IDBTransaction&&FA(r),BA(r,qA())?new Proxy(r,am):r)}function $r(r){if(r instanceof IDBRequest)return jA(r);if(Qd.has(r))return Qd.get(r);const t=QA(r);return t!==r&&(Qd.set(r,t),Om.set(t,r)),t}const Kd=r=>Om.get(r);function KA(r,t,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const d=indexedDB.open(r,t),y=$r(d);return a&&d.addEventListener("upgradeneeded",m=>{a($r(d.result),m.oldVersion,m.newVersion,$r(d.transaction),m)}),n&&d.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),y.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),y}const XA=["get","getKey","getAll","getAllKeys","count"],$A=["put","add","delete","clear"],Xd=new Map;function rv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Xd.get(t))return Xd.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,o=$A.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||XA.includes(n)))return;const u=async function(d,...y){const m=this.transaction(d,o?"readwrite":"readonly");let g=m.store;return a&&(g=g.index(y.shift())),(await Promise.all([g[n](...y),o&&m.done]))[0]};return Xd.set(t,u),u}GA(r=>({...r,get:(t,n,a)=>rv(t,n)||r.get(t,n,a),has:(t,n)=>!!rv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JA(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function JA(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const sm="@firebase/app",av="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new Nm("@firebase/app"),ZA="@firebase/app-compat",t2="@firebase/analytics-compat",e2="@firebase/analytics",n2="@firebase/app-check-compat",i2="@firebase/app-check",r2="@firebase/auth",a2="@firebase/auth-compat",s2="@firebase/database",o2="@firebase/data-connect",l2="@firebase/database-compat",u2="@firebase/functions",c2="@firebase/functions-compat",h2="@firebase/installations",f2="@firebase/installations-compat",d2="@firebase/messaging",m2="@firebase/messaging-compat",g2="@firebase/performance",p2="@firebase/performance-compat",y2="@firebase/remote-config",_2="@firebase/remote-config-compat",v2="@firebase/storage",E2="@firebase/storage-compat",T2="@firebase/firestore",S2="@firebase/ai",A2="@firebase/firestore-compat",b2="firebase",w2="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="[DEFAULT]",R2={[sm]:"fire-core",[ZA]:"fire-core-compat",[e2]:"fire-analytics",[t2]:"fire-analytics-compat",[i2]:"fire-app-check",[n2]:"fire-app-check-compat",[r2]:"fire-auth",[a2]:"fire-auth-compat",[s2]:"fire-rtdb",[o2]:"fire-data-connect",[l2]:"fire-rtdb-compat",[u2]:"fire-fn",[c2]:"fire-fn-compat",[h2]:"fire-iid",[f2]:"fire-iid-compat",[d2]:"fire-fcm",[m2]:"fire-fcm-compat",[g2]:"fire-perf",[p2]:"fire-perf-compat",[y2]:"fire-rc",[_2]:"fire-rc-compat",[v2]:"fire-gcs",[E2]:"fire-gcs-compat",[T2]:"fire-fst",[A2]:"fire-fst-compat",[S2]:"fire-vertex","fire-js":"fire-js",[b2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,C2=new Map,lm=new Map;function sv(r,t){try{r.container.addComponent(t)}catch(n){ar.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function so(r){const t=r.name;if(lm.has(t))return ar.debug(`There were multiple attempts to register component ${t}.`),!1;lm.set(t,r);for(const n of $c.values())sv(n,r);for(const n of C2.values())sv(n,r);return!0}function Vm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function ti(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new Kl("app","Firebase",I2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t,n,a){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Qa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=w2;function M2(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const a={name:om,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Wr.create("bad-app-name",{appName:String(o)});if(n||(n=x0()),!n)throw Wr.create("no-options");const u=$c.get(o);if(u){if(Ya(n,u.options)&&Ya(a,u.config))return u;throw Wr.create("duplicate-app",{appName:o})}const d=new PA(o);for(const m of lm.values())d.addComponent(m);const y=new D2(n,a,d);return $c.set(o,y),y}function H0(r=om){const t=$c.get(r);if(!t&&r===om&&x0())return M2();if(!t)throw Wr.create("no-app",{appName:r});return t}function Jr(r,t,n){let a=R2[r]??r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ar.warn(d.join(" "));return}so(new Qa(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="firebase-heartbeat-database",O2=1,Ul="firebase-heartbeat-store";let $d=null;function j0(){return $d||($d=KA(N2,O2,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ul)}catch(n){console.warn(n)}}}}).catch(r=>{throw Wr.create("idb-open",{originalErrorMessage:r.message})})),$d}async function V2(r){try{const n=(await j0()).transaction(Ul),a=await n.objectStore(Ul).get(F0(r));return await n.done,a}catch(t){if(t instanceof ur)ar.warn(t.message);else{const n=Wr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ar.warn(n.message)}}}async function ov(r,t){try{const a=(await j0()).transaction(Ul,"readwrite");await a.objectStore(Ul).put(t,F0(r)),await a.done}catch(n){if(n instanceof ur)ar.warn(n.message);else{const a=Wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ar.warn(a.message)}}}function F0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=1024,P2=30;class x2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new U2(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=lv();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>P2){const d=z2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ar.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=lv(),{heartbeatsToSend:a,unsentEntries:o}=L2(this._heartbeatsCache.heartbeats),u=Xc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ar.warn(n),""}}}function lv(){return new Date().toISOString().substring(0,10)}function L2(r,t=k2){const n=[];let a=r.slice();for(const o of r){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),uv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),uv(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class U2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AA()?bA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await V2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return ov(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return ov(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function uv(r){return Xc(JSON.stringify({version:2,heartbeats:r})).length}function z2(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(r){so(new Qa("platform-logger",t=>new WA(t),"PRIVATE")),so(new Qa("heartbeat",t=>new x2(t),"PRIVATE")),Jr(sm,av,r),Jr(sm,av,"esm2020"),Jr("fire-js","")}B2("");var q2="firebase",H2="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(q2,H2,"app");var cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zr,G0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,w){function I(){}I.prototype=w.prototype,D.F=w.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(V,M,x){for(var R=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)R[Bt-2]=arguments[Bt];return w.prototype[M].apply(V,R)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)V[M]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(M=0;M<16;++M)V[M]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=D.g[0],I=D.g[1],M=D.g[2];let x=D.g[3],R;R=w+(x^I&(M^x))+V[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=x+(M^w&(I^M))+V[1]+3905402710&4294967295,x=w+(R<<12&4294967295|R>>>20),R=M+(I^x&(w^I))+V[2]+606105819&4294967295,M=x+(R<<17&4294967295|R>>>15),R=I+(w^M&(x^w))+V[3]+3250441966&4294967295,I=M+(R<<22&4294967295|R>>>10),R=w+(x^I&(M^x))+V[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=x+(M^w&(I^M))+V[5]+1200080426&4294967295,x=w+(R<<12&4294967295|R>>>20),R=M+(I^x&(w^I))+V[6]+2821735955&4294967295,M=x+(R<<17&4294967295|R>>>15),R=I+(w^M&(x^w))+V[7]+4249261313&4294967295,I=M+(R<<22&4294967295|R>>>10),R=w+(x^I&(M^x))+V[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=x+(M^w&(I^M))+V[9]+2336552879&4294967295,x=w+(R<<12&4294967295|R>>>20),R=M+(I^x&(w^I))+V[10]+4294925233&4294967295,M=x+(R<<17&4294967295|R>>>15),R=I+(w^M&(x^w))+V[11]+2304563134&4294967295,I=M+(R<<22&4294967295|R>>>10),R=w+(x^I&(M^x))+V[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=x+(M^w&(I^M))+V[13]+4254626195&4294967295,x=w+(R<<12&4294967295|R>>>20),R=M+(I^x&(w^I))+V[14]+2792965006&4294967295,M=x+(R<<17&4294967295|R>>>15),R=I+(w^M&(x^w))+V[15]+1236535329&4294967295,I=M+(R<<22&4294967295|R>>>10),R=w+(M^x&(I^M))+V[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=x+(I^M&(w^I))+V[6]+3225465664&4294967295,x=w+(R<<9&4294967295|R>>>23),R=M+(w^I&(x^w))+V[11]+643717713&4294967295,M=x+(R<<14&4294967295|R>>>18),R=I+(x^w&(M^x))+V[0]+3921069994&4294967295,I=M+(R<<20&4294967295|R>>>12),R=w+(M^x&(I^M))+V[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=x+(I^M&(w^I))+V[10]+38016083&4294967295,x=w+(R<<9&4294967295|R>>>23),R=M+(w^I&(x^w))+V[15]+3634488961&4294967295,M=x+(R<<14&4294967295|R>>>18),R=I+(x^w&(M^x))+V[4]+3889429448&4294967295,I=M+(R<<20&4294967295|R>>>12),R=w+(M^x&(I^M))+V[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=x+(I^M&(w^I))+V[14]+3275163606&4294967295,x=w+(R<<9&4294967295|R>>>23),R=M+(w^I&(x^w))+V[3]+4107603335&4294967295,M=x+(R<<14&4294967295|R>>>18),R=I+(x^w&(M^x))+V[8]+1163531501&4294967295,I=M+(R<<20&4294967295|R>>>12),R=w+(M^x&(I^M))+V[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=x+(I^M&(w^I))+V[2]+4243563512&4294967295,x=w+(R<<9&4294967295|R>>>23),R=M+(w^I&(x^w))+V[7]+1735328473&4294967295,M=x+(R<<14&4294967295|R>>>18),R=I+(x^w&(M^x))+V[12]+2368359562&4294967295,I=M+(R<<20&4294967295|R>>>12),R=w+(I^M^x)+V[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=x+(w^I^M)+V[8]+2272392833&4294967295,x=w+(R<<11&4294967295|R>>>21),R=M+(x^w^I)+V[11]+1839030562&4294967295,M=x+(R<<16&4294967295|R>>>16),R=I+(M^x^w)+V[14]+4259657740&4294967295,I=M+(R<<23&4294967295|R>>>9),R=w+(I^M^x)+V[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=x+(w^I^M)+V[4]+1272893353&4294967295,x=w+(R<<11&4294967295|R>>>21),R=M+(x^w^I)+V[7]+4139469664&4294967295,M=x+(R<<16&4294967295|R>>>16),R=I+(M^x^w)+V[10]+3200236656&4294967295,I=M+(R<<23&4294967295|R>>>9),R=w+(I^M^x)+V[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=x+(w^I^M)+V[0]+3936430074&4294967295,x=w+(R<<11&4294967295|R>>>21),R=M+(x^w^I)+V[3]+3572445317&4294967295,M=x+(R<<16&4294967295|R>>>16),R=I+(M^x^w)+V[6]+76029189&4294967295,I=M+(R<<23&4294967295|R>>>9),R=w+(I^M^x)+V[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=x+(w^I^M)+V[12]+3873151461&4294967295,x=w+(R<<11&4294967295|R>>>21),R=M+(x^w^I)+V[15]+530742520&4294967295,M=x+(R<<16&4294967295|R>>>16),R=I+(M^x^w)+V[2]+3299628645&4294967295,I=M+(R<<23&4294967295|R>>>9),R=w+(M^(I|~x))+V[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=x+(I^(w|~M))+V[7]+1126891415&4294967295,x=w+(R<<10&4294967295|R>>>22),R=M+(w^(x|~I))+V[14]+2878612391&4294967295,M=x+(R<<15&4294967295|R>>>17),R=I+(x^(M|~w))+V[5]+4237533241&4294967295,I=M+(R<<21&4294967295|R>>>11),R=w+(M^(I|~x))+V[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=x+(I^(w|~M))+V[3]+2399980690&4294967295,x=w+(R<<10&4294967295|R>>>22),R=M+(w^(x|~I))+V[10]+4293915773&4294967295,M=x+(R<<15&4294967295|R>>>17),R=I+(x^(M|~w))+V[1]+2240044497&4294967295,I=M+(R<<21&4294967295|R>>>11),R=w+(M^(I|~x))+V[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=x+(I^(w|~M))+V[15]+4264355552&4294967295,x=w+(R<<10&4294967295|R>>>22),R=M+(w^(x|~I))+V[6]+2734768916&4294967295,M=x+(R<<15&4294967295|R>>>17),R=I+(x^(M|~w))+V[13]+1309151649&4294967295,I=M+(R<<21&4294967295|R>>>11),R=w+(M^(I|~x))+V[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=x+(I^(w|~M))+V[11]+3174756917&4294967295,x=w+(R<<10&4294967295|R>>>22),R=M+(w^(x|~I))+V[2]+718787259&4294967295,M=x+(R<<15&4294967295|R>>>17),R=I+(x^(M|~w))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+x&4294967295}a.prototype.v=function(D,w){w===void 0&&(w=D.length);const I=w-this.blockSize,V=this.C;let M=this.h,x=0;for(;x<w;){if(M==0)for(;x<=I;)o(this,D,x),x+=this.blockSize;if(typeof D=="string"){for(;x<w;)if(V[M++]=D.charCodeAt(x++),M==this.blockSize){o(this,V),M=0;break}}else for(;x<w;)if(V[M++]=D[x++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=w},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)D[w++]=this.g[I]>>>V&255;return D};function u(D,w){var I=y;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=w(D)}function d(D,w){this.h=w;const I=[];let V=!0;for(let M=D.length-1;M>=0;M--){const x=D[M]|0;V&&x==w||(I[M]=x,V=!1)}this.g=I}var y={};function m(D){return-128<=D&&D<128?u(D,function(w){return new d([w|0],w<0?-1:0)}):new d([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(D<0)return Y(g(-D));const w=[];let I=1;for(let V=0;D>=I;V++)w[V]=D/I|0,I*=4294967296;return new d(w,0)}function E(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return Y(E(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(w,8));let V=T;for(let x=0;x<D.length;x+=8){var M=Math.min(8,D.length-x);const R=parseInt(D.substring(x,x+M),w);M<8?(M=g(Math.pow(w,M)),V=V.j(M).add(g(R))):(V=V.j(I),V=V.add(g(R)))}return V}var T=m(0),b=m(1),k=m(16777216);r=d.prototype,r.m=function(){if($(this))return-Y(this).m();let D=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);D+=(V>=0?V:4294967296+V)*w,w*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(q(this))return"0";if($(this))return"-"+Y(this).toString(D);const w=g(Math.pow(D,6));var I=this;let V="";for(;;){const M=dt(I,w).g;I=ot(I,M.j(w));let x=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=M,q(I))return x+V;for(;x.length<6;)x="0"+x;V=x+V}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function q(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function $(D){return D.h==-1}r.l=function(D){return D=ot(this,D),$(D)?-1:q(D)?0:1};function Y(D){const w=D.g.length,I=[];for(let V=0;V<w;V++)I[V]=~D.g[V];return new d(I,~D.h).add(b)}r.abs=function(){return $(this)?Y(this):this},r.add=function(D){const w=Math.max(this.g.length,D.g.length),I=[];let V=0;for(let M=0;M<=w;M++){let x=V+(this.i(M)&65535)+(D.i(M)&65535),R=(x>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);V=R>>>16,x&=65535,R&=65535,I[M]=R<<16|x}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ot(D,w){return D.add(Y(w))}r.j=function(D){if(q(this)||q(D))return T;if($(this))return $(D)?Y(this).j(Y(D)):Y(Y(this).j(D));if($(D))return Y(this.j(Y(D)));if(this.l(k)<0&&D.l(k)<0)return g(this.m()*D.m());const w=this.g.length+D.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<D.g.length;M++){const x=this.i(V)>>>16,R=this.i(V)&65535,Bt=D.i(M)>>>16,Qt=D.i(M)&65535;I[2*V+2*M]+=R*Qt,it(I,2*V+2*M),I[2*V+2*M+1]+=x*Qt,it(I,2*V+2*M+1),I[2*V+2*M+1]+=R*Bt,it(I,2*V+2*M+1),I[2*V+2*M+2]+=x*Bt,it(I,2*V+2*M+2)}for(D=0;D<w;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=w;D<2*w;D++)I[D]=0;return new d(I,0)};function it(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function Z(D,w){this.g=D,this.h=w}function dt(D,w){if(q(w))throw Error("division by zero");if(q(D))return new Z(T,T);if($(D))return w=dt(Y(D),w),new Z(Y(w.g),Y(w.h));if($(w))return w=dt(D,Y(w)),new Z(Y(w.g),w.h);if(D.g.length>30){if($(D)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var I=b,V=w;V.l(D)<=0;)I=Rt(I),V=Rt(V);var M=Mt(I,1),x=Mt(V,1);for(V=Mt(V,2),I=Mt(I,2);!q(V);){var R=x.add(V);R.l(D)<=0&&(M=M.add(I),x=R),V=Mt(V,1),I=Mt(I,1)}return w=ot(D,M.j(w)),new Z(M,w)}for(M=T;D.l(w)>=0;){for(I=Math.max(1,Math.floor(D.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),x=g(I),R=x.j(w);$(R)||R.l(D)>0;)I-=V,x=g(I),R=x.j(w);q(x)&&(x=b),M=M.add(x),D=ot(D,R)}return new Z(M,D)}r.B=function(D){return dt(this,D).h},r.and=function(D){const w=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&D.i(V);return new d(I,this.h&D.h)},r.or=function(D){const w=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|D.i(V);return new d(I,this.h|D.h)},r.xor=function(D){const w=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^D.i(V);return new d(I,this.h^D.h)};function Rt(D){const w=D.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=D.i(V)<<1|D.i(V-1)>>>31;return new d(I,D.h)}function Mt(D,w){const I=w>>5;w%=32;const V=D.g.length-I,M=[];for(let x=0;x<V;x++)M[x]=w>0?D.i(x+I)>>>w|D.i(x+I+1)<<32-w:D.i(x+I);return new d(M,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,G0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=E,Zr=d}).apply(typeof cv<"u"?cv:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y0,Il,Q0,zc,um,K0,X0,$0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(c,p){if(p)t:{var v=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in v))break t;v=v[L]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&v.push([A,p[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function m(c,p,v){return c.call.apply(c.bind,arguments)}function g(c,p,v){return g=m,g.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,L,H){for(var tt=Array(arguments.length-2),St=2;St<arguments.length;St++)tt[St-2]=arguments[St];return p.prototype[L].apply(A,tt)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const p=c.length;if(p>0){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function q(c,p){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const H=L.length||0;c.length=v+H;for(let tt=0;tt<H;tt++)c[v+tt]=L[tt]}else c.push(L)}}class ${constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Y(c){d.setTimeout(()=>{throw c},0)}function ot(){var c=D;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class it{constructor(){this.h=this.g=null}add(p,v){const A=Z.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Z=new $(()=>new dt,c=>c.reset());class dt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Rt,Mt=!1,D=new it,w=()=>{const c=Promise.resolve(void 0);Rt=()=>{c.then(I)}};function I(){for(var c;c=ot();){try{c.h.call(c.g)}catch(v){Y(v)}var p=Z;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Mt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,p),d.removeEventListener("test",v,p)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function Bt(c,p){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}T(Bt,M),Bt.prototype.init=function(c,p){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Bt.Z.h.call(this)},Bt.prototype.h=function(){Bt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Qt="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(c,p,v,A,L){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=L,this.key=++F,this.da=this.fa=!1}function ct(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Nt(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function qt(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function O(c){const p={};for(const v in c)p[v]=c[v];return p}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(c,p){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)c[v]=A[v];for(let H=0;H<K.length;H++)v=K[H],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function rt(c){this.src=c,this.g={},this.h=0}rt.prototype.add=function(c,p,v,A,L){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const tt=bt(c,p,A,L);return tt>-1?(p=c[tt],v||(p.fa=!1)):(p=new et(p,this.src,H,!!A,L),p.fa=v,c.push(p)),p};function _t(c,p){const v=p.type;if(v in c.g){var A=c.g[v],L=Array.prototype.indexOf.call(A,p,void 0),H;(H=L>=0)&&Array.prototype.splice.call(A,L,1),H&&(ct(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function bt(c,p,v,A){for(let L=0;L<c.length;++L){const H=c[L];if(!H.da&&H.listener==p&&H.capture==!!v&&H.ha==A)return L}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ne={};function oe(c,p,v,A,L){if(Array.isArray(p)){for(let H=0;H<p.length;H++)oe(c,p[H],v,A,L);return null}return v=Ao(v),c&&c[Qt]?c.J(p,v,y(A)?!!A.capture:!1,L):ua(c,p,v,!1,A,L)}function ua(c,p,v,A,L,H){if(!p)throw Error("Invalid event type");const tt=y(L)?!!L.capture:!!L;let St=ca(c);if(St||(c[Ut]=St=new rt(c)),v=St.add(p,v,A,tt,H),v.proxy)return v;if(A=ns(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)x||(L=tt),L===void 0&&(L=!1),c.addEventListener(p.toString(),A,L);else if(c.attachEvent)c.attachEvent(ai(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ns(){function c(v){return p.call(c.src,c.listener,v)}const p=To;return c}function is(c,p,v,A,L){if(Array.isArray(p))for(var H=0;H<p.length;H++)is(c,p[H],v,A,L);else A=y(A)?!!A.capture:!!A,v=Ao(v),c&&c[Qt]?(c=c.i,H=String(p).toString(),H in c.g&&(p=c.g[H],v=bt(p,v,A,L),v>-1&&(ct(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[H],c.h--)))):c&&(c=ca(c))&&(p=c.g[p.toString()],c=-1,p&&(c=bt(p,v,A,L)),(v=c>-1?p[c]:null)&&rs(v))}function rs(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Qt])_t(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(ai(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=ca(p))?(_t(v,c),v.h==0&&(v.src=null,p[Ut]=null)):ct(c)}}}function ai(c){return c in Ne?Ne[c]:Ne[c]="on"+c}function To(c,p){if(c.da)c=!0;else{p=new Bt(p,this);const v=c.listener,A=c.ha||c.src;c.fa&&rs(c),c=v.call(A,p)}return c}function ca(c){return c=c[Ut],c instanceof rt?c:null}var So="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ao(c){return typeof c=="function"?c:(c[So]||(c[So]=function(p){return c.handleEvent(p)}),c[So])}function ve(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}T(ve,V),ve.prototype[Qt]=!0,ve.prototype.removeEventListener=function(c,p,v,A){is(this,c,p,v,A)};function Oe(c,p){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new M(p,c);else if(p instanceof M)p.target=p.target||c;else{var L=p;p=new M(A,c),nt(p,L)}L=!0;let H,tt;if(v)for(tt=v.length-1;tt>=0;tt--)H=p.g=v[tt],L=cr(H,A,!0,p)&&L;if(H=p.g=c,L=cr(H,A,!0,p)&&L,L=cr(H,A,!1,p)&&L,v)for(tt=0;tt<v.length;tt++)H=p.g=v[tt],L=cr(H,A,!1,p)&&L}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let A=0;A<v.length;A++)ct(v[A]);delete c.g[p],c.h--}}this.G=null},ve.prototype.J=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},ve.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function cr(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let H=0;H<p.length;++H){const tt=p[H];if(tt&&!tt.da&&tt.capture==v){const St=tt.listener,ge=tt.ha||tt.src;tt.fa&&_t(c.i,tt),L=St.call(ge,A)!==!1&&L}}return L&&!A.defaultPrevented}function qh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:d.setTimeout(c,p||0)}function ru(c){c.g=qh(()=>{c.g=null,c.i&&(c.i=!1,ru(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class en extends V{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ru(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ha(c){V.call(this),this.h=c,this.g={}}T(ha,V);var bo=[];function wo(c){Nt(c.g,function(p,v){this.g.hasOwnProperty(v)&&rs(p)},c),c.g={}}ha.prototype.N=function(){ha.Z.N.call(this),wo(this)},ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hr=d.JSON.stringify,Hh=d.JSON.parse,au=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function su(){}function ou(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){M.call(this,"d")}T(qe,M);function Cn(){M.call(this,"c")}T(Cn,M);var me={},lu=null;function as(){return lu=lu||new ve}me.Ia="serverreachability";function uu(c){M.call(this,me.Ia,c)}T(uu,M);function si(c){const p=as();Oe(p,new uu(p))}me.STAT_EVENT="statevent";function fa(c,p){M.call(this,me.STAT_EVENT,c),this.stat=p}T(fa,M);function Ee(c){const p=as();Oe(p,new fa(p,c))}me.Ja="timingevent";function oi(c,p){M.call(this,me.Ja,c),this.size=p}T(oi,M);function li(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},p)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function jh(c,p,v,A,L,H){c.info(function(){if(c.g)if(H){var tt="",St=H.split("&");for(let Ft=0;Ft<St.length;Ft++){var ge=St[Ft].split("=");if(ge.length>1){const le=ge[0];ge=ge[1];const Nn=le.split("_");tt=Nn.length>=2&&Nn[1]=="type"?tt+(le+"="+ge+"&"):tt+(le+"=redacted&")}}}else tt=null;else tt=H;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+p+`
`+v+`
`+tt})}function cu(c,p,v,A,L,H,tt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+p+`
`+v+`
`+H+" "+tt})}function ui(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Fh(c,v)+(A?" "+A:"")})}function da(c,p){c.info(function(){return"TIMEOUT: "+p})}jn.prototype.info=function(){};function Fh(c,p){if(!c.g)return p;if(!p)return null;try{const H=JSON.parse(p);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<A.length;tt++)A[tt]=""}}}}return hr(H)}catch{return p}}var ma={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ro={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Co;function ga(){}T(ga,su),ga.prototype.g=function(){return new XMLHttpRequest},Co=new ga;function Li(c){return encodeURIComponent(String(c))}function hu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Fn(c,p,v,A){this.j=c,this.i=p,this.l=v,this.S=A||1,this.V=new ha(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Te={},Le={};function ci(c,p,v){c.M=1,c.A=pa(Ae(p)),c.u=v,c.R=!0,ss(c,null)}function ss(c,p){c.F=Date.now(),hi(c),c.B=Ae(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),cs(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Gn,c.g=Ru(c.j,v?p:null,!c.u),c.P>0&&(c.O=new en(g(c.Y,c,c.g),c.P)),p=c.V,v=c.g,A=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(bo[0]=L.toString()),L=bo);for(let H=0;H<L.length;H++){const tt=oe(v,L[H],A||p.handleEvent,!1,p.h||p);if(!tt)break;p.g[tt.key]=tt}p=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),si(),jh(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Kn(c)==3?p.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)t:{const St=Kn(this.g),ge=this.g.ya(),Ft=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||St!=4||ge==7||(ge==8||Ft<=0?si(3):si(2)),fi(this);var p=this.g.ca();this.X=p;var v=Gh(this);if(this.o=p==200,cu(this.i,this.v,this.B,this.l,this.S,St,p),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var H=A;break e}}H=null}if(c=H)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,Ee(12),pn(this),In(this);break t}}if(this.R){c=!0;let le;for(;!this.K&&this.C<v.length;)if(le=du(this,v),le==Le){St==4&&(this.m=4,Ee(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Te){this.m=4,Ee(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,le,null),di(this,le);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,Ee(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),In(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ho(tt),tt.P=!0,Ee(11))}}else ui(this.i,this.l,v,null),di(this,v);St==4&&pn(this),this.o&&!this.K&&(St==4?Su(this.j,this):(this.o=!1,hi(this)))}else zi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),pn(this),In(this)}}}catch{}finally{}};function Gh(c){if(!fu(c))return c.g.la();const p=He(c.g);if(p==="")return"";let v="";const A=p.length,L=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),In(c),"";c.h.i=new d.TextDecoder}for(let H=0;H<A;H++)c.h.h=!0,v+=c.h.i.decode(p[H],{stream:!(L&&H==A-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function fu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function du(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?Le:(v=Number(p.substring(v,A)),isNaN(v)?Te:(A+=1,A+v>p.length?Le:(p=p.slice(A,A+v),c.C=A+v,p)))}Fn.prototype.cancel=function(){this.K=!0,pn(this)};function hi(c){c.T=Date.now()+c.H,os(c,c.H)}function os(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(g(c.aa,c),p)}function fi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(da(this.i,this.B),this.M!=2&&(si(),Ee(17)),pn(this),this.m=2,In(this)):os(this,this.T-c)};function In(c){c.j.I==0||c.K||Su(c.j,c)}function pn(c){fi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,wo(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function di(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||gi(v.h,c))){if(!c.L&&gi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)gs(v),vr(v);else break t;Aa(v),Ee(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(g(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&gs(v),!R(p))for(L=v.Ba.g.parse(p),p=0;p<L.length;p++){let Ft=L[p];const le=Ft[0];if(!(le<=v.K))if(v.K=le,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const Nn=Ft[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const Si=Ft[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const Xn=Ft[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const $n=c.g;if($n){const ba=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ba){var H=A.h;H.g||ba.indexOf("spdy")==-1&&ba.indexOf("quic")==-1&&ba.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Mo(H,H.h),H.h=null))}if(A.G){const ps=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;ps&&(A.wa=ps,Kt(A.J,A.G,ps))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var tt=c;if(A.na=wu(A,A.L?A.ba:null,A.W),tt.L){No(A.h,tt);var St=tt,ge=A.O;ge&&(St.H=ge),St.D&&(fi(St),hi(St)),A.g=tt}else Eu(A);v.i.length>0&&Ei(v)}else Ft[0]!="stop"&&Ft[0]!="close"||Ti(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Ti(v,7):Bo(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}si(4)}catch{}}var Se=class{constructor(c,p){this.g=c,this.map=p}};function Io(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Do(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function gi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Mo(c,p){c.g?c.g.add(p):c.h=p}function No(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Io.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return k(c.i)}var mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ls(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let L,H=null;A>=0?(L=c[v].substring(0,A),H=c[v].substring(A+1)):L=c[v],p(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof yn?(this.l=c.l,Ue(this,c.j),this.o=c.o,this.g=c.g,fr(this,c.u),this.h=c.h,Vo(this,_u(c.i)),this.m=c.m):c&&(p=String(c).match(mu))?(this.l=!1,Ue(this,p[1]||"",!0),this.o=pi(p[2]||""),this.g=pi(p[3]||"",!0),fr(this,p[4]),this.h=pi(p[5]||"",!0),Vo(this,p[6]||"",!0),this.m=pi(p[7]||"")):(this.l=!1,this.i=new mr(null,this.l))}yn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(ya(p,us,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ya(p,us,!0),"@"),c.push(Li(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ya(v,v.charAt(0)=="/"?ko:gu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ya(v,pu)),c.join("")},yn.prototype.resolve=function(c){const p=Ae(this);let v=!!c.j;v?Ue(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var A=c.h;if(v)fr(p,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=p.h.lastIndexOf("/");L!=-1&&(A=p.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let tt=0;tt<L.length;){const St=L[tt++];St=="."?A&&tt==L.length&&H.push(""):St==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&tt==L.length&&H.push("")):(H.push(St),A=!0)}A=H.join("/")}else A=L}return v?p.h=A:v=c.i.toString()!=="",v?Vo(p,_u(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Ae(c){return new yn(c)}function Ue(c,p,v){c.j=v?pi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function fr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Vo(c,p,v){p instanceof mr?(c.i=p,hs(c.i,c.l)):(v||(p=ya(p,dr)),c.i=new mr(p,c.l))}function Kt(c,p,v){c.i.set(p,v)}function pa(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ya(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var us=/[#\/\?@]/g,gu=/[#\?:]/g,ko=/[#\?]/g,dr=/[#\?@]/g,pu=/#/g;function mr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&ls(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=mr.prototype,r.add=function(c,p){on(this),this.i=null,c=gr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function yu(c,p){on(c),p=gr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Po(c,p){return on(c),p=gr(c,p),c.g.has(p)}r.forEach=function(c,p){on(this),this.g.forEach(function(v,A){v.forEach(function(L){c.call(p,L,A,this)},this)},this)};function xo(c,p){on(c);let v=[];if(typeof p=="string")Po(c,p)&&(v=v.concat(c.g.get(gr(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return on(this),this.i=null,c=gr(this,c),Po(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=xo(this,c),c.length>0?String(c[0]):p):p};function cs(c,p,v){yu(c,p),v.length>0&&(c.i=null,c.g.set(gr(c,p),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var v=p[A];const L=Li(v);v=xo(this,v);for(let H=0;H<v.length;H++){let tt=L;v[H]!==""&&(tt+="="+Li(v[H])),c.push(tt)}}return this.i=c.join("&")};function _u(c){const p=new mr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function gr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function hs(c,p){p&&!c.j&&(on(c),c.i=null,c.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(yu(this,A),cs(this,L,v))},c)),c.j=p}function Yn(c,p){const v=new jn;if(d.Image){const A=new Image;A.onload=E(Dn,v,"TestLoadImage: loaded",!0,p,A),A.onerror=E(Dn,v,"TestLoadImage: error",!1,p,A),A.onabort=E(Dn,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=E(Dn,v,"TestLoadImage: timeout",!1,p,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Lo(c,p){const v=new jn,A=new AbortController,L=setTimeout(()=>{A.abort(),Dn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(H=>{clearTimeout(L),H.ok?Dn(v,"TestPingServer: ok",!0,p):Dn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Dn(v,"TestPingServer: error",!1,p)})}function Dn(c,p,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function pr(){this.g=new au}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(yi,su),yi.prototype.g=function(){return new _a(this.i,this.h)};function _a(c,p){ve.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(_a,ve),r=_a.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Qn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||d).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fs(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function fs(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?yr(this):Qn(this),this.readyState==3&&fs(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,yr(this))},r.Na=function(c){this.g&&(this.response=c,yr(this))},r.ga=function(){this.g&&yr(this)};function yr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mn(c){let p="";return Nt(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function va(c,p,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Mn(v),typeof c=="string"?v!=null&&Li(v):Kt(c,p,v))}function Jt(c){ve.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Jt,ve);var _i=/^https?$/i,Uo=["POST","PUT"];r=Jt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Co.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(H){Ea(this,H);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())v.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Uo,p,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,tt]of v)this.g.setRequestHeader(H,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){Ea(this,H)}};function Ea(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,zo(c),Ui(c)}function zo(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Oe(this,"complete"),Oe(this,"abort"),Ui(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),Jt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ta(this):this.Xa())},r.Xa=function(){Ta(this)};function Ta(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Oe(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const H=c.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var A;if(A=H===0){let tt=String(c.D).match(mu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),A=!_i.test(tt?tt.toLowerCase():"")}v=A}if(v)Oe(c,"complete"),Oe(c,"success");else{c.o=6;try{var L=Kn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",zo(c)}}finally{Ui(c)}}}}function Ui(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Oe(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Hh(p)}};function He(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(c){const p={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(R(c[A]))continue;var v=hu(c[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=p[L]||[];p[L]=H,H.push(v)}qt(p,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function _r(c){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(c&&c.concurrentRequestLimit),this.Ba=new pr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=_r.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,A){Ee(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=wu(this,null,this.W),Ei(this)};function Bo(c){if(ds(c),c.I==3){var p=c.V++,v=Ae(c.J);if(Kt(v,"SID",c.M),Kt(v,"RID",p),Kt(v,"TYPE","terminate"),Sa(c,v),p=new Fn(c,c.j,p),p.M=2,p.A=pa(Ae(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=p.A,v=!0),v||(p.g=Ru(p.j,null),p.g.ea(p.A)),p.F=Date.now(),hi(p)}bu(c)}function vr(c){c.g&&(Ho(c),c.g.cancel(),c.g=null)}function ds(c){vr(c),c.v&&(d.clearTimeout(c.v),c.v=null),gs(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ei(c){if(!Do(c.h)&&!c.m){c.m=!0;var p=c.Ea;Rt||w(),Mt||(Rt(),Mt=!0),D.add(p,c),c.D=0}}function ms(c,p){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(g(c.Ea,c,p),Au(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Fn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=O(H),nt(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=vu(this,L,p),v=Ae(this.J),Kt(v,"RID",c),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Sa(this,v),H&&(this.R?p="headers="+Li(Mn(H))+"&"+p:this.u&&va(v,this.u,H)),Mo(this.h,L),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",p),Kt(v,"SID","null"),L.U=!0,ci(L,v,null)):ci(L,v,p),this.I=2}}else this.I==3&&(c?qo(this,c):this.i.length==0||Do(this.h)||qo(this))};function qo(c,p){var v;p?v=p.l:v=c.V++;const A=Ae(c.J);Kt(A,"SID",c.M),Kt(A,"RID",v),Kt(A,"AID",c.K),Sa(c,A),c.u&&c.o&&va(A,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=vu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Mo(c.h,v),ci(v,A,p)}function Sa(c,p){c.H&&Nt(c.H,function(v,A){Kt(p,A,v)}),c.l&&Nt({},function(v,A){Kt(p,A,v)})}function vu(c,p,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;t:{var L=c.i;let St=-1;for(;;){const ge=["count="+v];St==-1?v>0?(St=L[0].g,ge.push("ofs="+St)):St=0:ge.push("ofs="+St);let Ft=!0;for(let le=0;le<v;le++){var H=L[le].g;const Nn=L[le].map;if(H-=St,H<0)St=Math.max(0,L[le].g-100),Ft=!1;else try{H="req"+H+"_"||"";try{var tt=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Si,Xn]of tt){let $n=Xn;y(Xn)&&($n=hr(Xn)),ge.push(H+Si+"="+encodeURIComponent($n))}}catch(Si){throw ge.push(H+"type="+encodeURIComponent("_badmap")),Si}}catch{A&&A(Nn)}}if(Ft){tt=ge.join("&");break t}}tt=void 0}return c=c.i.splice(0,v),p.G=c,tt}function Eu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Rt||w(),Mt||(Rt(),Mt=!0),D.add(p,c),c.A=0}}function Aa(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(g(c.Da,c),Au(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),vr(this),Tu(this))};function Ho(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Tu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Ae(c.na);Kt(p,"RID","rpc"),Kt(p,"SID",c.M),Kt(p,"AID",c.K),Kt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(p,"TO",c.ia),Kt(p,"TYPE","xmlhttp"),Sa(c,p),c.u&&c.o&&va(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=pa(Ae(p)),v.u=null,v.R=!0,ss(v,c)}r.Va=function(){this.C!=null&&(this.C=null,vr(this),Aa(this),Ee(19))};function gs(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Su(c,p){var v=null;if(c.g==p){gs(c),Ho(c),c.g=null;var A=2}else if(gi(c.h,p))v=p.G,No(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var L=c.D;A=as(),Oe(A,new oi(A,v)),Ei(c)}else Eu(c);else if(L=p.m,L==3||L==0&&p.X>0||!(A==1&&ms(c,p)||A==2&&Aa(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),L){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function Au(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Ti(c,p){if(c.j.info("Error code "+p),p==2){var v=g(c.bb,c),A=c.Ua;const L=!A;A=new yn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(A,"https"),pa(A),L?Yn(A.toString(),v):Lo(A.toString(),v)}else Ee(2);c.I=0,c.l&&c.l.pa(p),bu(c),ds(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function bu(c){if(c.I=0,c.ja=[],c.l){const p=Oo(c.h);(p.length!=0||c.i.length!=0)&&(q(c.ja,p),q(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function wu(c,p,v){var A=v instanceof yn?Ae(v):new yn(v);if(A.g!="")p&&(A.g=p+"."+A.g),fr(A,A.u);else{var L=d.location;A=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const H=new yn(null);A&&Ue(H,A),p&&(H.g=p),L&&fr(H,L),v&&(H.h=v),A=H}return v=c.G,p=c.wa,v&&p&&Kt(A,v,p),Kt(A,"VER",c.ka),Sa(c,A),A}function Ru(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Jt(new yi({ab:v})):new Jt(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}r=Cu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Er(){}Er.prototype.g=function(c,p){return new nn(c,p)};function nn(c,p){ve.call(this),this.g=new _r(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!R(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Bi(this)}T(nn,ve),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Bo(this.g)},nn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=hr(c),c=v);p.i.push(new Se(p.Ya++,c)),p.I==3&&Ei(p)},nn.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,nn.Z.N.call(this)};function Iu(c){qe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}T(Iu,qe);function Du(){Cn.call(this),this.status=1}T(Du,Cn);function Bi(c){this.g=c}T(Bi,Cu),Bi.prototype.ra=function(){Oe(this.g,"a")},Bi.prototype.qa=function(c){Oe(this.g,new Iu(c))},Bi.prototype.pa=function(c){Oe(this.g,new Du)},Bi.prototype.oa=function(){Oe(this.g,"b")},Er.prototype.createWebChannel=Er.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,$0=function(){return new Er},X0=function(){return as()},K0=me,um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ma.NO_ERROR=0,ma.TIMEOUT=8,ma.HTTP_ERROR=6,zc=ma,Ro.COMPLETE="complete",Q0=Ro,ou.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Il=ou,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,Y0=Jt}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po="12.9.0";function j2(r){po=r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new Nm("@firebase/firestore");function Qs(){return Ka.logLevel}function at(r,...t){if(Ka.logLevel<=kt.DEBUG){const n=t.map(km);Ka.debug(`Firestore (${po}): ${r}`,...n)}}function sr(r,...t){if(Ka.logLevel<=kt.ERROR){const n=t.map(km);Ka.error(`Firestore (${po}): ${r}`,...n)}}function Xa(r,...t){if(Ka.logLevel<=kt.WARN){const n=t.map(km);Ka.warn(`Firestore (${po}): ${r}`,...n)}}function km(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,W0(r,a,n)}function W0(r,t,n){let a=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw sr(a),new Error(a)}function Yt(r,t,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||W0(t,o,a)}function Tt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ur{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class F2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Je.UNAUTHENTICATED)))}shutdown(){}}class G2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Y2{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Yt(this.o===void 0,42304);let a=this.i;const o=m=>this.i!==a?(a=this.i,n(m)):Promise.resolve();let u=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const m=u;t.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},y=m=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((m=>y(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?y(m):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rr)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string",31837,{l:a}),new J0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class Q2{constructor(t,n,a){this.P=t,this.T=n,this.I=a,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class K2{constructor(t,n,a){this.P=t,this.T=n,this.I=a}getToken(){return Promise.resolve(new Q2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Yt(this.o===void 0,3512);const a=u=>{u.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>a(u)))};const o=u=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=$2(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=t.charAt(o[u]%62))}return a}}function Pt(r,t){return r<t?-1:r>t?1:0}function cm(r,t){const n=Math.min(r.length,t.length);for(let a=0;a<n;a++){const o=r.charAt(a),u=t.charAt(a);if(o!==u)return Wd(o)===Wd(u)?Pt(o,u):Wd(o)?1:-1}return Pt(r.length,t.length)}const W2=55296,J2=57343;function Wd(r){const t=r.charCodeAt(0);return t>=W2&&t<=J2}function oo(r,t,n){return r.length===t.length&&r.every(((a,o)=>n(a,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="__name__";class Ci{constructor(t,n,a){n===void 0?n=0:n>t.length&&gt(637,{offset:n,range:t.length}),a===void 0?a=t.length-n:a>t.length-n&&gt(1746,{length:a,range:t.length-n}),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach((a=>{n.push(a)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let o=0;o<a;o++){const u=Ci.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Pt(t.length,n.length)}static compareSegments(t,n){const a=Ci.isNumericId(t),o=Ci.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Ci.extractNumericId(t).compare(Ci.extractNumericId(n)):cm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zr.fromString(t.substring(4,t.length-2))}}class ae extends Ci{construct(t,n,a){return new ae(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new ae(n)}static emptyPath(){return new ae([])}}const Z2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Ci{construct(t,n,a){return new Ke(t,n,a)}static isValidIdentifier(t){return Z2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fv}static keyField(){return new Ke([fv])}static fromServerFormat(t){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;o<t.length;){const y=t[o];if(y==="\\"){if(o+1===t.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=m,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(u(),o++)}if(u(),d)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ae.fromString(t))}static fromName(t){return new ft(ae.fromString(t).popFirst(5))}static empty(){return new ft(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ae(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(r,t,n){if(!n)throw new lt(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function tb(r,t,n,a){if(t===!0&&a===!0)throw new lt(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function dv(r){if(!ft.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function mv(r){if(ft.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function t1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function xm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function ri(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xm(r);throw new lt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(r,t){const n={typeString:r};return t&&(n.value=t),n}function $l(r,t){if(!t1(r))throw new lt(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in t)if(t[a]){const o=t[a].typeString,u="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new lt(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=-62135596800,pv=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*pv);return new se(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<gv)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pv}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($l(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-gv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:De("string",se._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new se(0,0))}static max(){return new vt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=-1;function eb(r,t){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(a===1e9?new se(n+1,0):new se(n,a));return new ea(o,ft.empty(),t)}function nb(r){return new ea(r.readTime,r.key,zl)}class ea{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new ea(vt.min(),ft.empty(),zl)}static max(){return new ea(vt.max(),ft.empty(),zl)}}function ib(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ft.comparator(r.documentKey,t.documentKey),n!==0?n:Pt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ab{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==rb)throw r;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):W.reject(n)}static resolve(t){return new W(((n,a)=>{n(t)}))}static reject(t){return new W(((n,a)=>{a(t)}))}static waitFor(t){return new W(((n,a)=>{let o=0,u=0,d=!1;t.forEach((y=>{++o,y.next((()=>{++u,d&&u===o&&n()}),(m=>a(m)))})),d=!0,u===o&&n()}))}static or(t){let n=W.resolve(!1);for(const a of t)n=n.next((o=>o?W.resolve(o):a()));return n}static forEach(t,n){const a=[];return t.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(t,n){return new W(((a,o)=>{const u=t.length,d=new Array(u);let y=0;for(let m=0;m<u;m++){const g=m;n(t[g]).next((E=>{d[g]=E,++y,y===u&&a(d)}),(E=>o(E)))}}))}static doWhile(t,n){return new W(((a,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):a()};u()}))}}function sb(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}vh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=-1;function Eh(r){return r==null}function Wc(r){return r===0&&1/r==-1/0}function ob(r){return typeof r=="number"&&Number.isInteger(r)&&!Wc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="";function lb(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=yv(t)),t=ub(r.get(n),t);return yv(t)}function ub(r,t){let n=t;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case e1:n+="";break;default:n+=u}}return n}function yv(r){return r+e1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function oa(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function n1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,a)=>(t(n,a),!1)))}toString(){const t=[];return this.inorderTraversal(((n,a)=>(t.push(`${n}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kc(this.root,t,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kc(this.root,t,this.comparator,!0)}}class kc{constructor(t,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?a(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,a,o,u){this.key=t,this.value=n,this.color=a??Qe.RED,this.left=o??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,o,u){return new Qe(t??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let o=this;const u=a(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,n,a,o,u){return this}insert(t,n,a){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,a)=>(t(n),!1)))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new vv(this.data.getIterator())}getIteratorFrom(t){return new vv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((a=>{n=n.add(a)})),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class vv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new wn([])}unionWith(t){let n=new xe(Ke.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new wn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return oo(this.fields,t.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new i1("Invalid base64 string: "+u):u}})(t);return new Xe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(t);return new Xe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const cb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function na(r){if(Yt(!!r,39018),typeof r=="string"){let t=0;const n=cb.exec(r);if(Yt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:_e(r.seconds),nanos:_e(r.nanos)}}function _e(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ia(r){return typeof r=="string"?Xe.fromBase64String(r):Xe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="server_timestamp",a1="__type__",s1="__previous_value__",o1="__local_write_time__";function Um(r){var n,a;return((a=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[a1])==null?void 0:a.stringValue)===r1}function Th(r){const t=r.mapValue.fields[s1];return Um(t)?Th(t):t}function Bl(r){const t=na(r.mapValue.fields[o1].timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t,n,a,o,u,d,y,m,g,E,T){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=T}}const Jc="(default)";class ql{constructor(t,n){this.projectId=t,this.database=n||Jc}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof ql&&t.projectId===this.projectId&&t.database===this.database}}function fb(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(r.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="__type__",db="__max__",Pc={mapValue:{}},u1="__vector__",Zc="value";function ra(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Um(r)?4:gb(r)?9007199254740991:mb(r)?10:11:gt(28295,{value:r})}function ki(r,t){if(r===t)return!0;const n=ra(r);if(n!==ra(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Bl(r).isEqual(Bl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=na(o.timestampValue),y=na(u.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return ia(o.bytesValue).isEqual(ia(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return _e(o.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _e(o.integerValue)===_e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=_e(o.doubleValue),y=_e(u.doubleValue);return d===y?Wc(d)===Wc(y):isNaN(d)&&isNaN(y)}return!1})(r,t);case 9:return oo(r.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},y=u.mapValue.fields||{};if(_v(d)!==_v(y))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(y[m]===void 0||!ki(d[m],y[m])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function Hl(r,t){return(r.values||[]).find((n=>ki(n,t)))!==void 0}function lo(r,t){if(r===t)return 0;const n=ra(r),a=ra(t);if(n!==a)return Pt(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,t.booleanValue);case 2:return(function(u,d){const y=_e(u.integerValue||u.doubleValue),m=_e(d.integerValue||d.doubleValue);return y<m?-1:y>m?1:y===m?0:isNaN(y)?isNaN(m)?0:-1:1})(r,t);case 3:return Ev(r.timestampValue,t.timestampValue);case 4:return Ev(Bl(r),Bl(t));case 5:return cm(r.stringValue,t.stringValue);case 6:return(function(u,d){const y=ia(u),m=ia(d);return y.compareTo(m)})(r.bytesValue,t.bytesValue);case 7:return(function(u,d){const y=u.split("/"),m=d.split("/");for(let g=0;g<y.length&&g<m.length;g++){const E=Pt(y[g],m[g]);if(E!==0)return E}return Pt(y.length,m.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,d){const y=Pt(_e(u.latitude),_e(d.latitude));return y!==0?y:Pt(_e(u.longitude),_e(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Tv(r.arrayValue,t.arrayValue);case 10:return(function(u,d){var b,k,q,$;const y=u.fields||{},m=d.fields||{},g=(b=y[Zc])==null?void 0:b.arrayValue,E=(k=m[Zc])==null?void 0:k.arrayValue,T=Pt(((q=g==null?void 0:g.values)==null?void 0:q.length)||0,(($=E==null?void 0:E.values)==null?void 0:$.length)||0);return T!==0?T:Tv(g,E)})(r.mapValue,t.mapValue);case 11:return(function(u,d){if(u===Pc.mapValue&&d===Pc.mapValue)return 0;if(u===Pc.mapValue)return 1;if(d===Pc.mapValue)return-1;const y=u.fields||{},m=Object.keys(y),g=d.fields||{},E=Object.keys(g);m.sort(),E.sort();for(let T=0;T<m.length&&T<E.length;++T){const b=cm(m[T],E[T]);if(b!==0)return b;const k=lo(y[m[T]],g[E[T]]);if(k!==0)return k}return Pt(m.length,E.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:n})}}function Ev(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Pt(r,t);const n=na(r),a=na(t),o=Pt(n.seconds,a.seconds);return o!==0?o:Pt(n.nanos,a.nanos)}function Tv(r,t){const n=r.values||[],a=t.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=lo(n[o],a[o]);if(u)return u}return Pt(n.length,a.length)}function uo(r){return hm(r)}function hm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=na(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ia(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ft.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=hm(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of a)u?u=!1:o+=",",o+=`${d}:${hm(n.fields[d])}`;return o+"}"})(r.mapValue):gt(61005,{value:r})}function Bc(r){switch(ra(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Th(r);return t?16+Bc(t):16;case 5:return 2*r.stringValue.length;case 6:return ia(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+Bc(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return oa(a.fields,((u,d)=>{o+=u.length+Bc(d)})),o})(r.mapValue);default:throw gt(13486,{value:r})}}function fm(r){return!!r&&"integerValue"in r}function zm(r){return!!r&&"arrayValue"in r}function Sv(r){return!!r&&"nullValue"in r}function Av(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function qc(r){return!!r&&"mapValue"in r}function mb(r){var n,a;return((a=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[l1])==null?void 0:a.stringValue)===u1}function Vl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return oa(r.mapValue.fields,((n,a)=>t.mapValue.fields[n]=Vl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Vl(r.arrayValue.values[n]);return t}return{...r}}function gb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===db}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!qc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vl(n)}setAll(t){let n=Ke.emptyPath(),a={},o=[];t.forEach(((d,y)=>{if(!n.isImmediateParentOf(y)){const m=this.getFieldsMap(n);this.applyChanges(m,a,o),a={},o=[],n=y.popLast()}d?a[y.lastSegment()]=Vl(d):o.push(y.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(t){const n=this.field(t.popLast());qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=n.mapValue.fields[t.get(a)];qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,a){oa(n,((o,u)=>t[o]=u));for(const o of a)delete t[o]}clone(){return new mn(Vl(this.value))}}function c1(r){const t=[];return oa(r.fields,((n,a)=>{const o=new Ke([n]);if(qc(a)){const u=c1(a.mapValue).fields;if(u.length===0)t.push(o);else for(const d of u)t.push(o.child(d))}else t.push(o)})),new wn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t,n,a,o,u,d,y){this.key=t,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=d,this.documentState=y}static newInvalidDocument(t){return new Ze(t,0,vt.min(),vt.min(),vt.min(),mn.empty(),0)}static newFoundDocument(t,n,a,o){return new Ze(t,1,n,vt.min(),a,o,0)}static newNoDocument(t,n){return new Ze(t,2,n,vt.min(),vt.min(),mn.empty(),0)}static newUnknownDocument(t,n){return new Ze(t,3,n,vt.min(),vt.min(),mn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,n){this.position=t,this.inclusive=n}}function bv(r,t,n){let a=0;for(let o=0;o<r.position.length;o++){const u=t[o],d=r.position[o];if(u.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),n.key):a=lo(d,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function wv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ki(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t,n="asc"){this.field=t,this.dir=n}}function pb(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{}class Pe extends h1{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new _b(t,n,a):n==="array-contains"?new Tb(t,a):n==="in"?new Sb(t,a):n==="not-in"?new Ab(t,a):n==="array-contains-any"?new bb(t,a):new Pe(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new vb(t,a):new Eb(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lo(n,this.value)):n!==null&&ra(this.value)===ra(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends h1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Pi(t,n)}matches(t){return f1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function f1(r){return r.op==="and"}function d1(r){return yb(r)&&f1(r)}function yb(r){for(const t of r.filters)if(t instanceof Pi)return!1;return!0}function dm(r){if(r instanceof Pe)return r.field.canonicalString()+r.op.toString()+uo(r.value);if(d1(r))return r.filters.map((t=>dm(t))).join(",");{const t=r.filters.map((n=>dm(n))).join(",");return`${r.op}(${t})`}}function m1(r,t){return r instanceof Pe?(function(a,o){return o instanceof Pe&&a.op===o.op&&a.field.isEqual(o.field)&&ki(a.value,o.value)})(r,t):r instanceof Pi?(function(a,o){return o instanceof Pi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,d,y)=>u&&m1(d,o.filters[y])),!0):!1})(r,t):void gt(19439)}function g1(r){return r instanceof Pe?(function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`})(r):r instanceof Pi?(function(n){return n.op.toString()+" {"+n.getFilters().map(g1).join(" ,")+"}"})(r):"Filter"}class _b extends Pe{constructor(t,n,a){super(t,n,a),this.key=ft.fromName(a.referenceValue)}matches(t){const n=ft.comparator(t.key,this.key);return this.matchesComparison(n)}}class vb extends Pe{constructor(t,n){super(t,"in",n),this.keys=p1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class Eb extends Pe{constructor(t,n){super(t,"not-in",n),this.keys=p1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function p1(r,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map((a=>ft.fromName(a.referenceValue)))}class Tb extends Pe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return zm(n)&&Hl(n.arrayValue,this.value)}}class Sb extends Pe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Hl(this.value.arrayValue,n)}}class Ab extends Pe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hl(this.value.arrayValue,n)}}class bb extends Pe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!zm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Hl(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t,n=null,a=[],o=[],u=null,d=null,y=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=d,this.endAt=y,this.Te=null}}function Rv(r,t=null,n=[],a=[],o=null,u=null,d=null){return new wb(r,t,n,a,o,u,d)}function Bm(r){const t=Tt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((a=>dm(a))).join(","),n+="|ob:",n+=t.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Eh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((a=>uo(a))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((a=>uo(a))).join(",")),t.Te=n}return t.Te}function qm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!pb(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!m1(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!wv(r.startAt,t.startAt)&&wv(r.endAt,t.endAt)}function mm(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,n=null,a=[],o=[],u=null,d="F",y=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=d,this.startAt=y,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Rb(r,t,n,a,o,u,d,y){return new Sh(r,t,n,a,o,u,d,y)}function Hm(r){return new Sh(r)}function Cv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Cb(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Ib(r){return r.collectionGroup!==null}function kl(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new xe(Ke.comparator);return d.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(y=y.add(g.field))}))})),y})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new eh(u,a))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new eh(Ke.keyField(),a))}return t.Ie}function Mi(r){const t=Tt(r);return t.Ee||(t.Ee=Db(t,kl(r))),t.Ee}function Db(r,t){if(r.limitType==="F")return Rv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new eh(o.field,u)}));const n=r.endAt?new th(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new th(r.startAt.position,r.startAt.inclusive):null;return Rv(r.path,r.collectionGroup,t,r.filters,r.limit,n,a)}}function gm(r,t,n){return new Sh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Ah(r,t){return qm(Mi(r),Mi(t))&&r.limitType===t.limitType}function y1(r){return`${Bm(Mi(r))}|lt:${r.limitType}`}function Ks(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>g1(o))).join(", ")}]`),Eh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>uo(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>uo(o))).join(",")),`Target(${a})`})(Mi(r))}; limitType=${r.limitType})`}function bh(r,t){return t.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ft.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,t)&&(function(a,o){for(const u of kl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,y,m){const g=bv(d,y,m);return d.inclusive?g<=0:g<0})(a.startAt,kl(a),o)||a.endAt&&!(function(d,y,m){const g=bv(d,y,m);return d.inclusive?g>=0:g>0})(a.endAt,kl(a),o))})(r,t)}function Mb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function _1(r){return(t,n)=>{let a=!1;for(const o of kl(r)){const u=Nb(o,t,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function Nb(r,t,n){const a=r.field.isKeyField()?ft.comparator(t.key,n.key):(function(u,d,y){const m=d.data.field(u),g=y.data.field(u);return m!==null&&g!==null?lo(m,g):gt(42886)})(r.field,t,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){oa(this.inner,((n,a)=>{for(const[o,u]of a)t(o,u)}))}isEmpty(){return n1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new ce(ft.comparator);function or(){return Ob}const v1=new ce(ft.comparator);function Dl(...r){let t=v1;for(const n of r)t=t.insert(n.key,n);return t}function E1(r){let t=v1;return r.forEach(((n,a)=>t=t.insert(n,a.overlayedDocument))),t}function Ha(){return Pl()}function T1(){return Pl()}function Pl(){return new Za((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Vb=new ce(ft.comparator),kb=new xe(ft.comparator);function xt(...r){let t=kb;for(const n of r)t=t.add(n);return t}const Pb=new xe(Pt);function xb(){return Pb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(t)?"-0":t}}function S1(r){return{integerValue:""+r}}function Lb(r,t){return ob(t)?S1(t):jm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function Ub(r,t,n){return r instanceof nh?(function(o,u){const d={fields:{[a1]:{stringValue:r1},[o1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Um(u)&&(u=Th(u)),u&&(d.fields[s1]=u),{mapValue:d}})(n,t):r instanceof jl?b1(r,t):r instanceof Fl?w1(r,t):(function(o,u){const d=A1(o,u),y=Iv(d)+Iv(o.Ae);return fm(d)&&fm(o.Ae)?S1(y):jm(o.serializer,y)})(r,t)}function zb(r,t,n){return r instanceof jl?b1(r,t):r instanceof Fl?w1(r,t):n}function A1(r,t){return r instanceof ih?(function(a){return fm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(t)?t:{integerValue:0}:null}class nh extends wh{}class jl extends wh{constructor(t){super(),this.elements=t}}function b1(r,t){const n=R1(t);for(const a of r.elements)n.some((o=>ki(o,a)))||n.push(a);return{arrayValue:{values:n}}}class Fl extends wh{constructor(t){super(),this.elements=t}}function w1(r,t){let n=R1(t);for(const a of r.elements)n=n.filter((o=>!ki(o,a)));return{arrayValue:{values:n}}}class ih extends wh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Iv(r){return _e(r.integerValue||r.doubleValue)}function R1(r){return zm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Bb(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof jl&&o instanceof jl||a instanceof Fl&&o instanceof Fl?oo(a.elements,o.elements,ki):a instanceof ih&&o instanceof ih?ki(a.Ae,o.Ae):a instanceof nh&&o instanceof nh})(r.transform,t.transform)}class qb{constructor(t,n){this.version=t,this.transformResults=n}}class qn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new qn}static exists(t){return new qn(void 0,t)}static updateTime(t){return new qn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Rh{}function C1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Fm(r.key,qn.none()):new Wl(r.key,r.data,qn.none());{const n=r.data,a=mn.empty();let o=new xe(Ke.comparator);for(let u of t.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?a.delete(u):a.set(u,d),o=o.add(u)}return new la(r.key,a,new wn(o.toArray()),qn.none())}}function Hb(r,t,n){r instanceof Wl?(function(o,u,d){const y=o.value.clone(),m=Mv(o.fieldTransforms,u,d.transformResults);y.setAll(m),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,n):r instanceof la?(function(o,u,d){if(!Hc(o.precondition,u))return void u.convertToUnknownDocument(d.version);const y=Mv(o.fieldTransforms,u,d.transformResults),m=u.data;m.setAll(I1(o)),m.setAll(y),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(r,t,n):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function xl(r,t,n,a){return r instanceof Wl?(function(u,d,y,m){if(!Hc(u.precondition,d))return y;const g=u.value.clone(),E=Nv(u.fieldTransforms,m,d);return g.setAll(E),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(r,t,n,a):r instanceof la?(function(u,d,y,m){if(!Hc(u.precondition,d))return y;const g=Nv(u.fieldTransforms,m,d),E=d.data;return E.setAll(I1(u)),E.setAll(g),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),y===null?null:y.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,n,a):(function(u,d,y){return Hc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,t,n)}function jb(r,t){let n=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),u=A1(a.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(a.field,u))}return n||null}function Dv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&oo(a,o,((u,d)=>Bb(u,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Wl extends Rh{constructor(t,n,a,o=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class la extends Rh{constructor(t,n,a,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function I1(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);t.set(n,a)}})),t}function Mv(r,t,n){const a=new Map;Yt(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],d=u.transform,y=t.data.field(u.field);a.set(u.field,zb(d,y,n[o]))}return a}function Nv(r,t,n){const a=new Map;for(const o of r){const u=o.transform,d=n.data.field(o.field);a.set(o.field,Ub(u,d,t))}return a}class Fm extends Rh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fb extends Rh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(t,n,a,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&Hb(u,t,a[o])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=xl(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=xl(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=T1();return this.mutations.forEach((o=>{const u=t.get(o.key),d=u.overlayedDocument;let y=this.applyToLocalView(d,u.mutatedFields);y=n.has(o.key)?null:y;const m=C1(d,y);m!==null&&a.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),xt())}isEqual(t){return this.batchId===t.batchId&&oo(this.mutations,t.mutations,((n,a)=>Dv(n,a)))&&oo(this.baseMutations,t.baseMutations,((n,a)=>Dv(n,a)))}}class Gm{constructor(t,n,a,o){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(t,n,a){Yt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return Vb})();const u=t.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,a[d].version);return new Gm(t,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,zt;function Kb(r){switch(r){case J.OK:return gt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function D1(r){if(r===void 0)return sr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ie.OK:return J.OK;case Ie.CANCELLED:return J.CANCELLED;case Ie.UNKNOWN:return J.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return J.INTERNAL;case Ie.UNAVAILABLE:return J.UNAVAILABLE;case Ie.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ie.NOT_FOUND:return J.NOT_FOUND;case Ie.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ie.ABORTED:return J.ABORTED;case Ie.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ie.DATA_LOSS:return J.DATA_LOSS;default:return gt(39323,{code:r})}}(zt=Ie||(Ie={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=new Zr([4294967295,4294967295],0);function Ov(r){const t=Xb().encode(r),n=new G0;return n.update(t),new Uint8Array(n.digest())}function Vv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Zr([n,a],0),new Zr([o,u],0)]}class Ym{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(a<0)throw new Ml(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Zr.fromNumber(this.ge)}ye(t,n,a){let o=t.add(n.multiply(Zr.fromNumber(a)));return o.compare($b)===1&&(o=new Zr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Ov(t),[a,o]=Vv(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,o,u);if(!this.we(d))return!1}return!0}static create(t,n,a){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new Ym(u,o,n);return a.forEach((y=>d.insert(y))),d}insert(t){if(this.ge===0)return;const n=Ov(t),[a,o]=Vv(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,o,u);this.be(d)}}be(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,n,a,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const o=new Map;return o.set(t,Jl.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new Ch(vt.min(),o,new ce(Pt),or(),xt())}}class Jl{constructor(t,n,a,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new Jl(a,n,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,n,a,o){this.Se=t,this.removedTargetIds=n,this.key=a,this.De=o}}class M1{constructor(t,n){this.targetId=t,this.Ce=n}}class N1{constructor(t,n,a=Xe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=o}}class kv{constructor(){this.ve=0,this.Fe=Pv(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xt(),n=xt(),a=xt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:gt(38017,{changeType:u})}})),new Jl(this.Me,this.xe,t,n,a)}Ke(){this.Oe=!1,this.Fe=Pv()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Wb{constructor(t){this.Ge=t,this.ze=new Map,this.je=or(),this.He=xc(),this.Je=xc(),this.Ze=new ce(Pt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const a=this.nt(n);switch(t.state){case 0:this.rt(n)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,a=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(mm(u))if(a===0){const d=new ft(u.path);this.et(n,d,Ze.newNoDocument(d,vt.min()))}else Yt(a===1,20013,{expectedCount:a});else{const d=this._t(n);if(d!==a){const y=this.ut(t),m=y?this.ct(y,t,d):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let d,y;try{d=ia(a).toUint8Array()}catch(m){if(m instanceof i1)return Xa("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{y=new Ym(d,o,u)}catch(m){return Xa(m instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return y.ge===0?null:y}ct(t,n,a){return n.Ce.count===a-this.Pt(t,n.targetId)?0:2}Pt(t,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(y)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,d)=>{const y=this.ot(d);if(y){if(u.current&&mm(y.target)){const m=new ft(y.target.path);this.It(m).has(d)||this.Et(d,m)||this.et(d,m,Ze.newNoDocument(m,t))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let a=xt();this.Je.forEach(((u,d)=>{let y=!0;d.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const o=new Ch(t,n,this.Ze,this.je,a);return this.je=or(),this.He=xc(),this.Je=xc(),this.Ze=new ce(Pt),o}Ye(t,n){if(!this.rt(t))return;const a=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,a),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),a&&(this.je=this.je.insert(n,a))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new kv,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new xe(Pt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new xe(Pt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||at("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new kv),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function xc(){return new ce(ft.comparator)}function Pv(){return new ce(ft.comparator)}const Jb={asc:"ASCENDING",desc:"DESCENDING"},Zb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tw={and:"AND",or:"OR"};class ew{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function pm(r,t){return r.useProto3Json||Eh(t)?t:{value:t}}function rh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function O1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function nw(r,t){return rh(r,t.toTimestamp())}function Ni(r){return Yt(!!r,49232),vt.fromTimestamp((function(n){const a=na(n);return new se(a.seconds,a.nanos)})(r))}function Qm(r,t){return ym(r,t).canonicalString()}function ym(r,t){const n=(function(o){return new ae(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function V1(r){const t=ae.fromString(r);return Yt(U1(t),10190,{key:t.toString()}),t}function _m(r,t){return Qm(r.databaseId,t.path)}function Jd(r,t){const n=V1(t);if(n.get(1)!==r.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ft(P1(n))}function k1(r,t){return Qm(r.databaseId,t)}function iw(r){const t=V1(r);return t.length===4?ae.emptyPath():P1(t)}function vm(r){return new ae(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function P1(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function xv(r,t,n){return{name:_m(r,t),fields:n.value.mapValue.fields}}function rw(r,t){let n;if("targetChange"in t){t.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:gt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Yt(E===void 0||typeof E=="string",58123),Xe.fromBase64String(E||"")):(Yt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xe.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,y=d&&(function(g){const E=g.code===void 0?J.UNKNOWN:D1(g.code);return new lt(E,g.message||"")})(d);n=new N1(a,o,u,y||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Jd(r,a.document.name),u=Ni(a.document.updateTime),d=a.document.createTime?Ni(a.document.createTime):vt.min(),y=new mn({mapValue:{fields:a.document.fields}}),m=Ze.newFoundDocument(o,u,d,y),g=a.targetIds||[],E=a.removedTargetIds||[];n=new jc(g,E,m.key,m)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Jd(r,a.document),u=a.readTime?Ni(a.readTime):vt.min(),d=Ze.newNoDocument(o,u),y=a.removedTargetIds||[];n=new jc([],y,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Jd(r,a.document),u=a.removedTargetIds||[];n=new jc([],u,o,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,d=new Qb(o,u),y=a.targetId;n=new M1(y,d)}}return n}function aw(r,t){let n;if(t instanceof Wl)n={update:xv(r,t.key,t.value)};else if(t instanceof Fm)n={delete:_m(r,t.key)};else if(t instanceof la)n={update:xv(r,t.key,t.data),updateMask:mw(t.fieldMask)};else{if(!(t instanceof Fb))return gt(16599,{dt:t.type});n={verify:_m(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((a=>(function(u,d){const y=d.transform;if(y instanceof nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Fl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof ih)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:nw(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:gt(27497)})(r,t.precondition)),n}function sw(r,t){return r&&r.length>0?(Yt(t!==void 0,14353),r.map((n=>(function(o,u){let d=o.updateTime?Ni(o.updateTime):Ni(u);return d.isEqual(vt.min())&&(d=Ni(u)),new qb(d,o.transformResults||[])})(n,t)))):[]}function ow(r,t){return{documents:[k1(r,t.path)]}}function lw(r,t){const n={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=k1(r,o);const u=(function(g){if(g.length!==0)return L1(Pi.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const d=(function(g){if(g.length!==0)return g.map((E=>(function(b){return{field:Xs(b.field),direction:hw(b.dir)}})(E)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const y=pm(r,t.limit);return y!==null&&(n.structuredQuery.limit=y),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function uw(r){let t=iw(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Yt(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const b=x1(T);return b instanceof Pi&&d1(b)?b.getFilters():[b]})(n.where));let d=[];n.orderBy&&(d=(function(T){return T.map((b=>(function(q){return new eh($s(q.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(b)))})(n.orderBy));let y=null;n.limit&&(y=(function(T){let b;return b=typeof T=="object"?T.value:T,Eh(b)?null:b})(n.limit));let m=null;n.startAt&&(m=(function(T){const b=!!T.before,k=T.values||[];return new th(k,b)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const b=!T.before,k=T.values||[];return new th(k,b)})(n.endAt)),Rb(t,o,d,u,y,"F",m,g)}function cw(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function x1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=$s(n.unaryFilter.field);return Pe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=$s(n.unaryFilter.field);return Pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$s(n.unaryFilter.field);return Pe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=$s(n.unaryFilter.field);return Pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Pe.create($s(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Pi.create(n.compositeFilter.filters.map((a=>x1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(n.compositeFilter.op))})(r):gt(30097,{filter:r})}function hw(r){return Jb[r]}function fw(r){return Zb[r]}function dw(r){return tw[r]}function Xs(r){return{fieldPath:r.canonicalString()}}function $s(r){return Ke.fromServerFormat(r.fieldPath)}function L1(r){return r instanceof Pe?(function(n){if(n.op==="=="){if(Av(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NAN"}};if(Sv(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Av(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NAN"}};if(Sv(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(n.field),op:fw(n.op),value:n.value}}})(r):r instanceof Pi?(function(n){const a=n.getFilters().map((o=>L1(o)));return a.length===1?a[0]:{compositeFilter:{op:dw(n.op),filters:a}}})(r):gt(54877,{filter:r})}function mw(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function U1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function z1(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t,n,a,o,u=vt.min(),d=vt.min(),y=Xe.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=m}withSequenceNumber(t){return new Xr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t){this.yt=t}}function pw(r){const t=uw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?gm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.Sn=new _w}addToCollectionParentIndex(t,n){return this.Sn.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(ea.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(ea.min())}updateCollectionGroup(t,n,a){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class _w{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),o=this.index[n]||new xe(ae.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(t){const n=t.lastSegment(),a=t.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(t){return(this.index[t]||new xe(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},B1=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(B1,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new co(0)}static ar(){return new co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="LruGarbageCollector",vw=1048576;function zv([r,t],[n,a]){const o=Pt(r,n);return o===0?Pt(t,a):o}class Ew{constructor(t){this.Pr=t,this.buffer=new xe(zv),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();zv(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Tw{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(Uv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?at(Uv,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.Ar(3e5)}))}}class Sw{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(t,n){if(n===0)return W.resolve(vh.ce);const a=new Ew(n);return this.Vr.forEachTarget(t,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(t,n,a){return this.Vr.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Lv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lv):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let a,o,u,d,y,m,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,d=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(a=T,y=Date.now(),this.removeTargets(t,a,n)))).next((T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(t,a)))).next((T=>(g=Date.now(),Qs()<=kt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${u} targets in `+(m-y)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function Aw(r,t){return new Sw(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(){this.changes=new Za((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?W.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,n,a,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(a!==null&&xl(a.mutation,o,wn.empty(),se.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.getLocalViewOfDocuments(t,a,xt()).next((()=>a))))}getLocalViewOfDocuments(t,n,a=xt()){const o=Ha();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,a).next((u=>{let d=Dl();return u.forEach(((y,m)=>{d=d.insert(y,m.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const a=Ha();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,xt())))}populateOverlays(t,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((d,y)=>{n.set(d,y)}))}))}computeViews(t,n,a,o){let u=or();const d=Pl(),y=(function(){return Pl()})();return n.forEach(((m,g)=>{const E=a.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof la)?u=u.insert(g.key,g):E!==void 0?(d.set(g.key,E.mutation.getFieldMask()),xl(E.mutation,g,E.mutation.getFieldMask(),se.now())):d.set(g.key,wn.empty())})),this.recalculateAndSaveOverlays(t,u).next((m=>(m.forEach(((g,E)=>d.set(g,E))),n.forEach(((g,E)=>y.set(g,new ww(E,d.get(g)??null)))),y)))}recalculateAndSaveOverlays(t,n){const a=Pl();let o=new ce(((d,y)=>d-y)),u=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const y of d)y.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let E=a.get(m)||wn.empty();E=y.applyToLocalView(g,E),a.set(m,E);const T=(o.get(y.batchId)||xt()).add(m);o=o.insert(y.batchId,T)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const m=y.getNext(),g=m.key,E=m.value,T=T1();E.forEach((b=>{if(!u.has(b)){const k=C1(n.get(b),a.get(b));k!==null&&T.set(b,k),u=u.add(b)}})),d.push(this.documentOverlayCache.saveOverlays(t,g,T))}return W.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,n,a,o){return Cb(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Ib(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,o):this.getDocumentsMatchingCollectionQuery(t,n,a,o)}getNextDocuments(t,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,o-u.size):W.resolve(Ha());let y=zl,m=u;return d.next((g=>W.forEach(g,((E,T)=>(y<T.largestBatchId&&(y=T.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next((b=>{m=m.insert(E,b)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,m,g,xt()))).next((E=>({batchId:y,changes:E1(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ft(n)).next((a=>{let o=Dl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,a,o){const u=n.collectionGroup;let d=Dl();return this.indexManager.getCollectionParents(t,u).next((y=>W.forEach(y,(m=>{const g=(function(T,b){return new Sh(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,a,o).next((E=>{E.forEach(((T,b)=>{d=d.insert(T,b)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,u,o)))).next((d=>{u.forEach(((m,g)=>{const E=g.getKey();d.get(E)===null&&(d=d.insert(E,Ze.newInvalidDocument(E)))}));let y=Dl();return d.forEach(((m,g)=>{const E=u.get(m);E!==void 0&&xl(E.mutation,g,wn.empty(),se.now()),bh(n,g)&&(y=y.insert(m,g))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return W.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}})(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:pw(o.bundledQuery),readTime:Ni(o.readTime)}})(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.overlays=new ce(ft.comparator),this.Lr=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const a=Ha();return W.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(t,n,a){return a.forEach(((o,u)=>{this.bt(t,n,u)})),W.resolve()}removeOverlaysForBatchId(t,n,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(a)),W.resolve()}getOverlaysForCollection(t,n,a){const o=Ha(),u=n.length+1,d=new ft(n.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const m=y.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>a&&o.set(m.getKey(),m)}return W.resolve(o)}getOverlaysForCollectionGroup(t,n,a,o){let u=new ce(((g,E)=>g-E));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let E=u.get(g.largestBatchId);E===null&&(E=Ha(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const y=Ha(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,E)=>y.set(g,E))),!(y.size()>=o)););return W.resolve(y)}bt(t,n,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Yb(n,a));let u=this.Lr.get(n);u===void 0&&(u=xt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.kr=new xe(Be.Kr),this.qr=new xe(Be.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const a=new Be(t,n);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,n){t.forEach((a=>this.addReference(a,n)))}removeReference(t,n){this.Wr(new Be(t,n))}Qr(t,n){t.forEach((a=>this.removeReference(a,n)))}Gr(t){const n=new ft(new ae([])),a=new Be(n,t),o=new Be(n,t+1),u=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new ft(new ae([])),a=new Be(n,t),o=new Be(n,t+1);let u=xt();return this.qr.forEachInRange([a,o],(d=>{u=u.add(d.key)})),u}containsKey(t){const n=new Be(t,0),a=this.kr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class Be{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return ft.comparator(t.key,n.key)||Pt(t.Hr,n.Hr)}static Ur(t,n){return Pt(t.Hr,n.Hr)||ft.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new xe(Be.Kr)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Gb(u,n,a,o);this.mutationQueue.push(d);for(const y of o)this.Jr=this.Jr.add(new Be(y.key,u)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return W.resolve(d)}lookupMutationBatch(t,n){return W.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,o=this.Xr(a),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Lm:this.Yn-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new Be(n,0),o=new Be(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([a,o],(d=>{const y=this.Zr(d.Hr);u.push(y)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new xe(Pt);return n.forEach((o=>{const u=new Be(o,0),d=new Be(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(y=>{a=a.add(y.Hr)}))})),W.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,o=a.length+1;let u=a;ft.isDocumentKey(u)||(u=u.child(""));const d=new Be(new ft(u),0);let y=new xe(Pt);return this.Jr.forEachWhile((m=>{const g=m.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(y=y.add(m.Hr)),!0)}),d),W.resolve(this.Yr(y))}Yr(t){const n=[];return t.forEach((a=>{const o=this.Zr(a);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Yt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return W.forEach(n.mutations,(o=>{const u=new Be(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,n){const a=new Be(n,0),o=this.Jr.firstAfterOrEqual(a);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t){this.ti=t,this.docs=(function(){return new ce(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,d=this.ti(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return W.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(n))}getEntries(t,n){let a=or();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Ze.newInvalidDocument(o))})),W.resolve(a)}getDocumentsMatchingQuery(t,n,a,o){let u=or();const d=n.path,y=new ft(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(y);for(;m.hasNext();){const{key:g,value:{document:E}}=m.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||ib(nb(E),a)<=0||(o.has(E.key)||bh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,n,a,o){gt(9500)}ni(t,n){return W.forEach(this.docs,(a=>n(a)))}newChangeBuffer(t){return new Ow(this)}getSize(t){return W.resolve(this.size)}}class Ow extends bw{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(a)})),W.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t){this.persistence=t,this.ri=new Za((n=>Bm(n)),qm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new Km,this.targetCount=0,this.oi=co._r()}forEachTarget(t,n){return this.ri.forEach(((a,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ii&&(this.ii=n),W.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new co(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.lr(n),W.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,a){let o=0;const u=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=n&&a.get(y.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(t,y.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const a=this.ri.get(n)||null;return W.resolve(a)}addMatchingKeys(t,n,a){return this.si.$r(n,a),W.resolve()}removeMatchingKeys(t,n,a){this.si.Qr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(t,d))})),W.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const a=this.si.jr(n);return W.resolve(a)}containsKey(t,n){return W.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t,n){this._i={},this.overlays={},this.ai=new vh(0),this.ui=!1,this.ui=!0,this.ci=new Dw,this.referenceDelegate=t(this),this.li=new Vw(this),this.indexManager=new yw,this.remoteDocumentCache=(function(o){return new Nw(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new gw(n),this.Pi=new Cw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Iw,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this._i[t.toKey()];return a||(a=new Mw(n,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,a){at("MemoryPersistence","Starting transaction:",t);const o=new kw(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return W.or(Object.values(this._i).map((a=>()=>a.containsKey(t,n))))}}class kw extends ab{constructor(t){super(),this.currentSequenceNumber=t}}class Xm{constructor(t){this.persistence=t,this.Ri=new Km,this.Ai=null}static Vi(t){return new Xm(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,n,a){return this.Ri.addReference(a,n),this.di.delete(a.toString()),W.resolve()}removeReference(t,n,a){return this.Ri.removeReference(a,n),this.di.add(a.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),W.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>a.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,(a=>{const o=ft.fromPath(a);return this.mi(t,o).next((u=>{u||n.removeEntry(o,vt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class ah{constructor(t,n){this.persistence=t,this.fi=new Za((a=>lb(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=Aw(this,n)}static Vi(t,n){return new ah(t,n)}Ti(){}Ii(t){return W.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>n.next((o=>a+o))))}pr(t){let n=0;return this.mr(t,(a=>{n++})).next((()=>n))}mr(t,n){return W.forEach(this.fi,((a,o)=>this.wr(t,a,o).next((u=>u?W.resolve():n(o)))))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(d=>this.wr(t,d,n).next((y=>{y||(a++,u.removeEntry(d,vt.min()))})))).next((()=>u.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),W.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.fi.set(a,t.currentSequenceNumber),W.resolve()}removeReference(t,n,a){return this.fi.set(a,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),W.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Bc(t.data.value)),n}wr(t,n,a){return W.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.fi.get(n);return W.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,n,a,o){this.targetId=t,this.fromCache=n,this.Ts=a,this.Is=o}static Es(t,n){let a=xt(),o=xt();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new $m(t,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return SA()?8:sb(tn())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,a,o){const u={result:null};return this.gs(t,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(t,n,o,a).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new Pw;return this.ys(t,n,d).next((y=>{if(u.result=y,this.As)return this.ws(t,n,d,y.size)}))})).next((()=>u.result))}ws(t,n,a,o){return a.documentReadCount<this.Vs?(Qs()<=kt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(Qs()<=kt.DEBUG&&at("QueryEngine","Query:",Ks(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Qs()<=kt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(n))):W.resolve())}gs(t,n){if(Cv(n))return W.resolve(null);let a=Mi(n);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=gm(n,null,"F"),a=Mi(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next((u=>{const d=xt(...u);return this.fs.getDocuments(t,d).next((y=>this.indexManager.getMinOffset(t,a).next((m=>{const g=this.bs(n,y);return this.Ss(n,g,d,m.readTime)?this.gs(t,gm(n,null,"F")):this.Ds(t,g,n,m)}))))})))))}ps(t,n,a,o){return Cv(n)||o.isEqual(vt.min())?W.resolve(null):this.fs.getDocuments(t,a).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,a,o)?W.resolve(null):(Qs()<=kt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ks(n)),this.Ds(t,d,n,eb(o,zl)).next((y=>y)))}))}bs(t,n){let a=new xe(_1(t));return n.forEach(((o,u)=>{bh(t,u)&&(a=a.add(u))})),a}Ss(t,n,a,o){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,n,a){return Qs()<=kt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ks(n)),this.fs.getDocumentsMatchingQuery(t,n,ea.min(),a)}Ds(t,n,a,o){return this.fs.getDocumentsMatchingQuery(t,a,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="LocalStore",Lw=3e8;class Uw{constructor(t,n,a,o){this.persistence=t,this.Cs=n,this.serializer=o,this.vs=new ce(Pt),this.Fs=new Za((u=>Bm(u)),qm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Rw(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function zw(r,t,n,a){return new Uw(r,t,n,a)}async function H1(r,t){const n=Tt(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.Os(t),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const d=[],y=[];let m=xt();for(const g of o){d.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}for(const g of u){y.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}return n.localDocuments.getDocuments(a,m).next((g=>({Ns:g,removedBatchIds:d,addedBatchIds:y})))}))}))}function Bw(r,t){const n=Tt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(y,m,g,E){const T=g.batch,b=T.keys();let k=W.resolve();return b.forEach((q=>{k=k.next((()=>E.getEntry(m,q))).next(($=>{const Y=g.docVersions.get(q);Yt(Y!==null,48541),$.version.compareTo(Y)<0&&(T.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))}))})),k.next((()=>y.mutationQueue.removeMutationBatch(m,T)))})(n,a,t,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let m=xt();for(let g=0;g<y.mutationResults.length;++g)y.mutationResults[g].transformResults.length>0&&(m=m.add(y.batch.mutations[g].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function j1(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function qw(r,t){const n=Tt(r),a=t.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const y=[];t.targetChanges.forEach(((E,T)=>{const b=o.get(T);if(!b)return;y.push(n.li.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,T))));let k=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?k=k.withResumeToken(Xe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,a)),o=o.insert(T,k),(function($,Y,ot){return $.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=Lw?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(b,k,E)&&y.push(n.li.updateTargetData(u,k))}));let m=or(),g=xt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&y.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),y.push(Hw(u,d,t.documentUpdates).next((E=>{m=E.Bs,g=E.Ls}))),!a.isEqual(vt.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,a)));y.push(E)}return W.waitFor(y).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,m,g))).next((()=>m))})).then((u=>(n.vs=o,u)))}function Hw(r,t,n){let a=xt(),o=xt();return n.forEach((u=>a=a.add(u))),t.getEntries(r,a).next((u=>{let d=or();return n.forEach(((y,m)=>{const g=u.get(y);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(y)),m.isNoDocument()&&m.version.isEqual(vt.min())?(t.removeEntry(y,m.readTime),d=d.insert(y,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),d=d.insert(y,m)):at(Wm,"Ignoring outdated watch update for ",y,". Current version:",g.version," Watch version:",m.version)})),{Bs:d,Ls:o}}))}function jw(r,t){const n=Tt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Lm),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function Fw(r,t){const n=Tt(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.li.getTargetData(a,t).next((u=>u?(o=u,W.resolve(o)):n.li.allocateTargetId(a).next((d=>(o=new Xr(t,d,"TargetPurposeListen",a.currentSequenceNumber),n.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(a.targetId,a),n.Fs.set(t,a.targetId)),a}))}async function Em(r,t,n){const a=Tt(r),o=a.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!_o(d))throw d;at(Wm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(o.target)}function Bv(r,t,n){const a=Tt(r);let o=vt.min(),u=xt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(m,g,E){const T=Tt(m),b=T.Fs.get(E);return b!==void 0?W.resolve(T.vs.get(b)):T.li.getTargetData(g,E)})(a,d,Mi(t)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,y.targetId).next((m=>{u=m}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,n?o:vt.min(),n?u:xt()))).next((y=>(Gw(a,Mb(t),y),{documents:y,ks:u})))))}function Gw(r,t,n){let a=r.Ms.get(t)||vt.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Ms.set(t,a)}class qv{constructor(){this.activeTargetIds=xb()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Yw{constructor(){this.vo=new qv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,a){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new qv,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="ConnectivityMonitor";class jv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(Hv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(Hv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc=null;function Tm(){return Lc===null?Lc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lc++,"0x"+Lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="RestConnection",Kw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Xw{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Jc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(t,n,a,o,u){const d=Tm(),y=this.Qo(t,n.toUriEncodedString());at(Zd,`Sending RPC '${t}' ${d}:`,y,a);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,u);const{host:g}=new URL(y),E=mo(g);return this.zo(t,y,m,a,E).then((T=>(at(Zd,`Received RPC '${t}' ${d}: `,T),T)),(T=>{throw Xa(Zd,`RPC '${t}' ${d} failed with error: `,T,"url: ",y,"request:",a),T}))}jo(t,n,a,o,u,d){return this.Wo(t,n,a,o,u)}Go(t,n,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+po})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),a&&a.headers.forEach(((o,u)=>t[u]=o))}Qo(t,n){const a=Kw[t];let o=`${this.qo}/v1/${n}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We="WebChannelConnection",Cl=(r,t,n)=>{r.listen(t,(a=>{try{n(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Zs extends Xw{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Zs.c_){const t=X0();Cl(t,K0.STAT_EVENT,(n=>{n.stat===um.PROXY?at(We,"STAT_EVENT: detected buffering proxy"):n.stat===um.NOPROXY&&at(We,"STAT_EVENT: detected no buffering proxy")})),Zs.c_=!0}}zo(t,n,a,o,u){const d=Tm();return new Promise(((y,m)=>{const g=new Y0;g.setWithCredentials(!0),g.listenOnce(Q0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case zc.NO_ERROR:const T=g.getResponseJson();at(We,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(T)),y(T);break;case zc.TIMEOUT:at(We,`RPC '${t}' ${d} timed out`),m(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const b=g.getStatus();if(at(We,`RPC '${t}' ${d} failed with status:`,b,"response text:",g.getResponseText()),b>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const q=k==null?void 0:k.error;if(q&&q.status&&q.message){const $=(function(ot){const it=ot.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(it)>=0?it:J.UNKNOWN})(q.status);m(new lt($,q.message))}else m(new lt(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new lt(J.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{at(We,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(o);at(We,`RPC '${t}' ${d} sending request:`,o),g.send(n,"POST",E,a,15)}))}T_(t,n,a){const o=Tm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(y.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,n,a),y.encodeInitMessageHeaders=!0;const g=u.join("");at(We,`Creating RPC '${t}' stream ${o}: ${g}`,y);const E=d.createWebChannel(g,y);this.I_(E);let T=!1,b=!1;const k=new $w({Ho:q=>{b?at(We,`Not sending because RPC '${t}' stream ${o} is closed:`,q):(T||(at(We,`Opening RPC '${t}' stream ${o} transport.`),E.open(),T=!0),at(We,`RPC '${t}' stream ${o} sending:`,q),E.send(q))},Jo:()=>E.close()});return Cl(E,Il.EventType.OPEN,(()=>{b||(at(We,`RPC '${t}' stream ${o} transport opened.`),k.i_())})),Cl(E,Il.EventType.CLOSE,(()=>{b||(b=!0,at(We,`RPC '${t}' stream ${o} transport closed`),k.o_(),this.E_(E))})),Cl(E,Il.EventType.ERROR,(q=>{b||(b=!0,Xa(We,`RPC '${t}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),k.o_(new lt(J.UNAVAILABLE,"The operation could not be completed")))})),Cl(E,Il.EventType.MESSAGE,(q=>{var $;if(!b){const Y=q.data[0];Yt(!!Y,16349);const ot=Y,it=(ot==null?void 0:ot.error)||(($=ot[0])==null?void 0:$.error);if(it){at(We,`RPC '${t}' stream ${o} received error:`,it);const Z=it.status;let dt=(function(D){const w=Ie[D];if(w!==void 0)return D1(w)})(Z),Rt=it.message;Z==="NOT_FOUND"&&Rt.includes("database")&&Rt.includes("does not exist")&&Rt.includes(this.databaseId.database)&&Xa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),dt===void 0&&(dt=J.INTERNAL,Rt="Unknown error status: "+Z+" with message "+it.message),b=!0,k.o_(new lt(dt,Rt)),E.close()}else at(We,`RPC '${t}' stream ${o} received:`,Y),k.__(Y)}})),Zs.u_(),setTimeout((()=>{k.s_()}),0),k}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,a){super.Go(t,n,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return $0()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(r){return new Zs(r)}function tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(r){return new ew(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs.c_=!1;class F1{constructor(t,n,a=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=a,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="PersistentStream";class G1{constructor(t,n,a,o,u,d,y,m){this.Ci=t,this.b_=a,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new F1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{t((()=>{const o=new lt(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,n){const a=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Fv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(at(Fv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Jw extends G1{constructor(t,n,a,o,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=rw(this.serializer,t),a=(function(u){if(!("targetChange"in u))return vt.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Ni(d.readTime):vt.min()})(t);return this.listener.J_(n,a)}Z_(t){const n={};n.database=vm(this.serializer),n.addTarget=(function(u,d){let y;const m=d.target;if(y=mm(m)?{documents:ow(u,m)}:{query:lw(u,m).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=O1(u,d.resumeToken);const g=pm(u,d.expectedCount);g!==null&&(y.expectedCount=g)}else if(d.snapshotVersion.compareTo(vt.min())>0){y.readTime=rh(u,d.snapshotVersion.toTimestamp());const g=pm(u,d.expectedCount);g!==null&&(y.expectedCount=g)}return y})(this.serializer,t);const a=cw(this.serializer,t);a&&(n.labels=a),this.K_(n)}X_(t){const n={};n.database=vm(this.serializer),n.removeTarget=t,this.K_(n)}}class Zw extends G1{constructor(t,n,a,o,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=sw(t.writeResults,t.commitTime),a=Ni(t.commitTime);return this.listener.na(a,n)}ra(){const t={};t.database=vm(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((a=>aw(this.serializer,a)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{}class eR extends tR{constructor(t,n,a,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(t,ym(n,a),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(J.UNKNOWN,u.toString())}))}jo(t,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(t,ym(n,a),o,d,y,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function nR(r,t,n,a){return new eR(r,t,n,a)}class iR{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sr(n),this.aa=!1):at("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="RemoteStore";class rR{constructor(t,n,a,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ts(this)&&(at($a,"Restarting streams for network reachability change."),await(async function(m){const g=Tt(m);g.Ea.add(4),await Zl(g),g.Va.set("Unknown"),g.Ea.delete(4),await Dh(g)})(this))}))})),this.Va=new iR(a,o)}}async function Dh(r){if(ts(r))for(const t of r.Ra)await t(!0)}async function Zl(r){for(const t of r.Ra)await t(!1)}function Y1(r,t){const n=Tt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),eg(n)?tg(n):vo(n).O_()&&Zm(n,t))}function Jm(r,t){const n=Tt(r),a=vo(n);n.Ia.delete(t),a.O_()&&Q1(n,t),n.Ia.size===0&&(a.O_()?a.L_():ts(n)&&n.Va.set("Unknown"))}function Zm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}vo(r).Z_(t)}function Q1(r,t){r.da.$e(t),vo(r).X_(t)}function tg(r){r.da=new Wb({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),vo(r).start(),r.Va.ua()}function eg(r){return ts(r)&&!vo(r).x_()&&r.Ia.size>0}function ts(r){return Tt(r).Ea.size===0}function K1(r){r.da=void 0}async function aR(r){r.Va.set("Online")}async function sR(r){r.Ia.forEach(((t,n)=>{Zm(r,t)}))}async function oR(r,t){K1(r),eg(r)?(r.Va.ha(t),tg(r)):r.Va.set("Unknown")}async function lR(r,t,n){if(r.Va.set("Online"),t instanceof N1&&t.state===2&&t.cause)try{await(async function(o,u){const d=u.cause;for(const y of u.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.da.removeTarget(y))})(r,t)}catch(a){at($a,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await sh(r,a)}else if(t instanceof jc?r.da.Xe(t):t instanceof M1?r.da.st(t):r.da.tt(t),!n.isEqual(vt.min()))try{const a=await j1(r.localStore);n.compareTo(a)>=0&&await(function(u,d){const y=u.da.Tt(d);return y.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(m.resumeToken,d))}})),y.targetMismatches.forEach(((m,g)=>{const E=u.Ia.get(m);if(!E)return;u.Ia.set(m,E.withResumeToken(Xe.EMPTY_BYTE_STRING,E.snapshotVersion)),Q1(u,m);const T=new Xr(E.target,m,g,E.sequenceNumber);Zm(u,T)})),u.remoteSyncer.applyRemoteEvent(y)})(r,n)}catch(a){at($a,"Failed to raise snapshot:",a),await sh(r,a)}}async function sh(r,t,n){if(!_o(t))throw t;r.Ea.add(1),await Zl(r),r.Va.set("Offline"),n||(n=()=>j1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at($a,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Dh(r)}))}function X1(r,t){return t().catch((n=>sh(r,n,t)))}async function Mh(r){const t=Tt(r),n=aa(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lm;for(;uR(t);)try{const o=await jw(t.localStore,a);if(o===null){t.Ta.length===0&&n.L_();break}a=o.batchId,cR(t,o)}catch(o){await sh(t,o)}$1(t)&&W1(t)}function uR(r){return ts(r)&&r.Ta.length<10}function cR(r,t){r.Ta.push(t);const n=aa(r);n.O_()&&n.Y_&&n.ea(t.mutations)}function $1(r){return ts(r)&&!aa(r).x_()&&r.Ta.length>0}function W1(r){aa(r).start()}async function hR(r){aa(r).ra()}async function fR(r){const t=aa(r);for(const n of r.Ta)t.ea(n.mutations)}async function dR(r,t,n){const a=r.Ta.shift(),o=Gm.from(a,t,n);await X1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Mh(r)}async function mR(r,t){t&&aa(r).Y_&&await(async function(a,o){if((function(d){return Kb(d)&&d!==J.ABORTED})(o.code)){const u=a.Ta.shift();aa(a).B_(),await X1(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Mh(a)}})(r,t),$1(r)&&W1(r)}async function Gv(r,t){const n=Tt(r);n.asyncQueue.verifyOperationInProgress(),at($a,"RemoteStore received new credentials");const a=ts(n);n.Ea.add(3),await Zl(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Dh(n)}async function gR(r,t){const n=Tt(r);t?(n.Ea.delete(2),await Dh(n)):t||(n.Ea.add(2),await Zl(n),n.Va.set("Unknown"))}function vo(r){return r.ma||(r.ma=(function(n,a,o){const u=Tt(n);return u.sa(),new Jw(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:aR.bind(null,r),Yo:sR.bind(null,r),t_:oR.bind(null,r),J_:lR.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),eg(r)?tg(r):r.Va.set("Unknown")):(await r.ma.stop(),K1(r))}))),r.ma}function aa(r){return r.fa||(r.fa=(function(n,a,o){const u=Tt(n);return u.sa(),new Zw(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:hR.bind(null,r),t_:mR.bind(null,r),ta:fR.bind(null,r),na:dR.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Mh(r)):(await r.fa.stop(),r.Ta.length>0&&(at($a,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t,n,a,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,o,u){const d=Date.now()+a,y=new ng(t,n,d,o,u);return y.start(a),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(r,t){if(sr("AsyncQueue",`${t}: ${r}`),_o(r))return new lt(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static emptySet(t){return new to(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||ft.comparator(n.key,a.key):(n,a)=>ft.comparator(n.key,a.key),this.keyedMap=Dl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,a)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof to)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new to;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.ga=new ce(ft.comparator)}track(t){const n=t.doc.key,a=this.ga.get(n);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(n,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(n):t.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,a)=>{t.push(a)})),t}}class ho{constructor(t,n,a,o,u,d,y,m,g){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,n,a,o,u){const d=[];return n.forEach((y=>{d.push({type:0,doc:y})})),new ho(t,n,to.emptySet(n),d,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ah(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class yR{constructor(){this.queries=Qv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=Tt(n),u=o.queries;o.queries=Qv(),u.forEach(((d,y)=>{for(const m of y.ba)m.onError(a)}))})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function Qv(){return new Za((r=>y1(r)),Ah)}async function J1(r,t){const n=Tt(r);let a=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.Da()&&(a=2):(u=new pR,a=t.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const y=ig(d,`Initialization of query '${Ks(t.query)}' failed`);return void t.onError(y)}n.queries.set(o,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&rg(n)}async function Z1(r,t){const n=Tt(r),a=t.query;let o=3;const u=n.queries.get(a);if(u){const d=u.ba.indexOf(t);d>=0&&(u.ba.splice(d,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function _R(r,t){const n=Tt(r);let a=!1;for(const o of t){const u=o.query,d=n.queries.get(u);if(d){for(const y of d.ba)y.Fa(o)&&(a=!0);d.wa=o}}a&&rg(n)}function vR(r,t,n){const a=Tt(r),o=a.queries.get(t);if(o)for(const u of o.ba)u.onError(n);a.queries.delete(t)}function rg(r){r.Ca.forEach((t=>{t.next()}))}var Sm,Kv;(Kv=Sm||(Sm={})).Ma="default",Kv.Cache="cache";class tE{constructor(t,n,a){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new ho(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(t){this.key=t}}class nE{constructor(t){this.key=t}}class ER{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=xt(),this.mutatedKeys=xt(),this.eu=_1(t),this.tu=new to(this.eu)}get nu(){return this.Za}ru(t,n){const a=n?n.iu:new Yv,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,y=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const b=o.get(E),k=bh(this.query,T)?T:null,q=!!b&&this.mutatedKeys.has(b.key),$=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let Y=!1;b&&k?b.data.isEqual(k.data)?q!==$&&(a.track({type:3,doc:k}),Y=!0):this.su(b,k)||(a.track({type:2,doc:k}),Y=!0,(m&&this.eu(k,m)>0||g&&this.eu(k,g)<0)&&(y=!0)):!b&&k?(a.track({type:0,doc:k}),Y=!0):b&&!k&&(a.track({type:1,doc:b}),Y=!0,(m||g)&&(y=!0)),Y&&(k?(d=d.add(k),u=$?u.add(E):u.delete(E)):(d=d.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Ss:y,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,T)=>(function(k,q){const $=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:Y})}};return $(k)-$(q)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(a),o=o??!1;const y=n&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,g=m!==this.Xa;return this.Xa=m,d.length!==0||g?{snapshot:new ho(this.query,t.tu,u,d,t.mutatedKeys,m===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=xt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const n=[];return t.forEach((a=>{this.Ya.has(a)||n.push(new nE(a))})),this.Ya.forEach((a=>{t.has(a)||n.push(new eE(a))})),n}cu(t){this.Za=t.ks,this.Ya=xt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ag="SyncEngine";class TR{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class SR{constructor(t){this.key=t,this.hu=!1}}class AR{constructor(t,n,a,o,u,d){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Za((y=>y1(y)),Ah),this.Iu=new Map,this.Eu=new Set,this.Ru=new ce(ft.comparator),this.Au=new Map,this.Vu=new Km,this.du={},this.mu=new Map,this.fu=co.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bR(r,t,n=!0){const a=lE(r);let o;const u=a.Tu.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await iE(a,t,n,!0),o}async function wR(r,t){const n=lE(r);await iE(n,t,!0,!1)}async function iE(r,t,n,a){const o=await Fw(r.localStore,Mi(t)),u=o.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let y;return a&&(y=await RR(r,t,u,d==="current",o.resumeToken)),r.isPrimaryClient&&n&&Y1(r.remoteStore,o),y}async function RR(r,t,n,a,o){r.pu=(T,b,k)=>(async function($,Y,ot,it){let Z=Y.view.ru(ot);Z.Ss&&(Z=await Bv($.localStore,Y.query,!1).then((({documents:D})=>Y.view.ru(D,Z))));const dt=it&&it.targetChanges.get(Y.targetId),Rt=it&&it.targetMismatches.get(Y.targetId)!=null,Mt=Y.view.applyChanges(Z,$.isPrimaryClient,dt,Rt);return $v($,Y.targetId,Mt.au),Mt.snapshot})(r,T,b,k);const u=await Bv(r.localStore,t,!0),d=new ER(t,u.ks),y=d.ru(u.documents),m=Jl.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=d.applyChanges(y,r.isPrimaryClient,m);$v(r,n,g.au);const E=new TR(t,n,d);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),g.snapshot}async function CR(r,t,n){const a=Tt(r),o=a.Tu.get(t),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((d=>!Ah(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Em(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Jm(a.remoteStore,o.targetId),Am(a,o.targetId)})).catch(yo)):(Am(a,o.targetId),await Em(a.localStore,o.targetId,!0))}async function IR(r,t){const n=Tt(r),a=n.Tu.get(t),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Jm(n.remoteStore,a.targetId))}async function DR(r,t,n){const a=xR(r);try{const o=await(function(d,y){const m=Tt(d),g=se.now(),E=y.reduce(((k,q)=>k.add(q.key)),xt());let T,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let q=or(),$=xt();return m.xs.getEntries(k,E).next((Y=>{q=Y,q.forEach(((ot,it)=>{it.isValidDocument()||($=$.add(ot))}))})).next((()=>m.localDocuments.getOverlayedDocuments(k,q))).next((Y=>{T=Y;const ot=[];for(const it of y){const Z=jb(it,T.get(it.key).overlayedDocument);Z!=null&&ot.push(new la(it.key,Z,c1(Z.value.mapValue),qn.exists(!0)))}return m.mutationQueue.addMutationBatch(k,g,ot,y)})).next((Y=>{b=Y;const ot=Y.applyToLocalDocumentSet(T,$);return m.documentOverlayCache.saveOverlays(k,Y.batchId,ot)}))})).then((()=>({batchId:b.batchId,changes:E1(T)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,y,m){let g=d.du[d.currentUser.toKey()];g||(g=new ce(Pt)),g=g.insert(y,m),d.du[d.currentUser.toKey()]=g})(a,o.batchId,n),await tu(a,o.changes),await Mh(a.remoteStore)}catch(o){const u=ig(o,"Failed to persist write");n.reject(u)}}async function rE(r,t){const n=Tt(r);try{const a=await qw(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(Yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Yt(d.hu,14607):o.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await tu(n,a,t)}catch(a){await yo(a)}}function Xv(r,t,n){const a=Tt(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((u,d)=>{const y=d.view.va(t);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const m=Tt(d);m.onlineState=y;let g=!1;m.queries.forEach(((E,T)=>{for(const b of T.ba)b.va(y)&&(g=!0)})),g&&rg(m)})(a.eventManager,t),o.length&&a.Pu.J_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function MR(r,t,n){const a=Tt(r);a.sharedClientState.updateQueryState(t,"rejected",n);const o=a.Au.get(t),u=o&&o.key;if(u){let d=new ce(ft.comparator);d=d.insert(u,Ze.newNoDocument(u,vt.min()));const y=xt().add(u),m=new Ch(vt.min(),new Map,new ce(Pt),d,y);await rE(a,m),a.Ru=a.Ru.remove(u),a.Au.delete(t),sg(a)}else await Em(a.localStore,t,!1).then((()=>Am(a,t,n))).catch(yo)}async function NR(r,t){const n=Tt(r),a=t.batch.batchId;try{const o=await Bw(n.localStore,t);sE(n,a,null),aE(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await tu(n,o)}catch(o){await yo(o)}}async function OR(r,t,n){const a=Tt(r);try{const o=await(function(d,y){const m=Tt(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return m.mutationQueue.lookupMutationBatch(g,y).next((T=>(Yt(T!==null,37113),E=T.keys(),m.mutationQueue.removeMutationBatch(g,T)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,E,y))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>m.localDocuments.getDocuments(g,E)))}))})(a.localStore,t);sE(a,t,n),aE(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await tu(a,o)}catch(o){await yo(o)}}function aE(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function sE(r,t,n){const a=Tt(r);let o=a.du[a.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),a.du[a.currentUser.toKey()]=o}}function Am(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||oE(r,a)}))}function oE(r,t){r.Eu.delete(t.path.canonicalString());const n=r.Ru.get(t);n!==null&&(Jm(r.remoteStore,n),r.Ru=r.Ru.remove(t),r.Au.delete(n),sg(r))}function $v(r,t,n){for(const a of n)a instanceof eE?(r.Vu.addReference(a.key,t),VR(r,a)):a instanceof nE?(at(ag,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||oE(r,a.key)):gt(19791,{wu:a})}function VR(r,t){const n=t.key,a=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(a)||(at(ag,"New document in limbo: "+n),r.Eu.add(a),sg(r))}function sg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new ft(ae.fromString(t)),a=r.fu.next();r.Au.set(a,new SR(n)),r.Ru=r.Ru.insert(n,a),Y1(r.remoteStore,new Xr(Mi(Hm(n.path)),a,"TargetPurposeLimboResolution",vh.ce))}}async function tu(r,t,n){const a=Tt(r),o=[],u=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,m)=>{d.push(a.pu(m,t,n).then((g=>{var E;if((g||n)&&a.isPrimaryClient){const T=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:E.current;a.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){o.push(g);const T=$m.Es(m.targetId,g);u.push(T)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(m,g){const E=Tt(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>W.forEach(g,(b=>W.forEach(b.Ts,(k=>E.persistence.referenceDelegate.addReference(T,b.targetId,k))).next((()=>W.forEach(b.Is,(k=>E.persistence.referenceDelegate.removeReference(T,b.targetId,k)))))))))}catch(T){if(!_o(T))throw T;at(Wm,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const k=E.vs.get(b),q=k.snapshotVersion,$=k.withLastLimboFreeSnapshotVersion(q);E.vs=E.vs.insert(b,$)}}})(a.localStore,u))}async function kR(r,t){const n=Tt(r);if(!n.currentUser.isEqual(t)){at(ag,"User change. New user:",t.toKey());const a=await H1(n.localStore,t);n.currentUser=t,(function(u,d){u.mu.forEach((y=>{y.forEach((m=>{m.reject(new lt(J.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await tu(n,a.Ns)}}function PR(r,t){const n=Tt(r),a=n.Au.get(t);if(a&&a.hu)return xt().add(a.key);{let o=xt();const u=n.Iu.get(t);if(!u)return o;for(const d of u){const y=n.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function lE(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=rE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MR.bind(null,t),t.Pu.J_=_R.bind(null,t.eventManager),t.Pu.yu=vR.bind(null,t.eventManager),t}function xR(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=NR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OR.bind(null,t),t}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ih(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return zw(this.persistence,new xw,t.initialUser,this.serializer)}Cu(t){return new q1(Xm.Vi,this.serializer)}Du(t){return new Yw}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class LR extends oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Yt(this.persistence.referenceDelegate instanceof ah,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Tw(a,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new q1((a=>ah.Vi(a,n)),this.serializer)}}class bm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Xv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=kR.bind(null,this.syncEngine),await gR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new yR})()}createDatastore(t){const n=Ih(t.databaseInfo.databaseId),a=Ww(t.databaseInfo);return nR(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return(function(a,o,u,d,y){return new rR(a,o,u,d,y)})(this.localStore,this.datastore,t.asyncQueue,(n=>Xv(this.syncEngine,n,0)),(function(){return jv.v()?new jv:new Qw})())}createSyncEngine(t,n){return(function(o,u,d,y,m,g,E){const T=new AR(o,u,d,y,m,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(o){const u=Tt(o);at($a,"RemoteStore shutting down."),u.Ea.add(5),await Zl(u),u.Aa.shutdown(),u.Va.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}bm.provider={build:()=>new bm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):sr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="FirestoreClient";class UR{constructor(t,n,a,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this._databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=Pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async d=>{at(sa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(sa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=ig(n,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function em(r,t){r.asyncQueue.verifyOperationInProgress(),at(sa,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await H1(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Wv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await zR(r);at(sa,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((a=>Gv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Gv(t.remoteStore,o))),r._onlineComponents=t}async function zR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(sa,"Using user provided OfflineComponentProvider");try{await em(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Xa("Error using user provided cache. Falling back to memory cache: "+n),await em(r,new oh)}}else at(sa,"Using default OfflineComponentProvider"),await em(r,new LR(void 0));return r._offlineComponents}async function cE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(sa,"Using user provided OnlineComponentProvider"),await Wv(r,r._uninitializedComponentsProvider._online)):(at(sa,"Using default OnlineComponentProvider"),await Wv(r,new bm))),r._onlineComponents}function BR(r){return cE(r).then((t=>t.syncEngine))}async function hE(r){const t=await cE(r),n=t.eventManager;return n.onListen=bR.bind(null,t.syncEngine),n.onUnlisten=CR.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=wR.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=IR.bind(null,t.syncEngine),n}function qR(r,t,n={}){const a=new rr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,y,m,g){const E=new uE({next:b=>{E.Nu(),d.enqueueAndForget((()=>Z1(u,T)));const k=b.docs.has(y);!k&&b.fromCache?g.reject(new lt(J.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&b.fromCache&&m&&m.source==="server"?g.reject(new lt(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new tE(Hm(y.path),E,{includeMetadataChanges:!0,Ka:!0});return J1(u,T)})(await hE(r),r.asyncQueue,t,n,a))),a.promise}function HR(r,t,n={}){const a=new rr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,y,m,g){const E=new uE({next:b=>{E.Nu(),d.enqueueAndForget((()=>Z1(u,T))),b.fromCache&&m.source==="server"?g.reject(new lt(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new tE(y,E,{includeMetadataChanges:!0,Ka:!0});return J1(u,T)})(await hE(r),r.asyncQueue,t,n,a))),a.promise}function jR(r,t){const n=new rr;return r.asyncQueue.enqueueAndForget((async()=>DR(await BR(r),t,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="ComponentProvider",Jv=new Map;function GR(r,t,n,a,o){return new hb(r,t,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,fE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="firestore.googleapis.com",Zv=!0;class t0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dE,this.ssl=Zv}else this.host=t.host,this.ssl=t.ssl??Zv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=B1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<vw)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}tb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Nh{constructor(t,n,a,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new F2;switch(a.type){case"firstParty":return new K2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=Jv.get(n);a&&(at(FR,"Removing Datastore"),Jv.delete(n),a.terminate())})(this),Promise.resolve()}}function YR(r,t,n,a={}){var g;r=ri(r,Nh);const o=mo(t),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},y=`${t}:${n}`;o&&(U0(`https://${y}`),z0("Firestore",!0)),u.host!==dE&&u.host!==y&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:y,ssl:o,emulatorOptions:a};if(!Ya(m,d)&&(r._setSettings(m),a.mockUserToken)){let E,T;if(typeof a.mockUserToken=="string")E=a.mockUserToken,T=Je.MOCK_USER;else{E=dA(a.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Je(b)}r._authCredentials=new G2(new J0(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Oh(this.firestore,t,this._query)}}class Me{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,a){if($l(n,Me._jsonSchema))return new Me(t,a||null,new ft(ae.fromString(n.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:De("string",Me._jsonSchemaVersion),referencePath:De("string")};class ta extends Oh{constructor(t,n,a){super(t,n,Hm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new ft(t))}withConverter(t){return new ta(this.firestore,t,this._path)}}function $M(r,t,...n){if(r=gn(r),Z0("collection","path",t),r instanceof Nh){const a=ae.fromString(t,...n);return mv(a),new ta(r,null,a)}{if(!(r instanceof Me||r instanceof ta))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ae.fromString(t,...n));return mv(a),new ta(r.firestore,null,a)}}function QR(r,t,...n){if(r=gn(r),arguments.length===1&&(t=Pm.newId()),Z0("doc","path",t),r instanceof Nh){const a=ae.fromString(t,...n);return dv(a),new Me(r,null,new ft(a))}{if(!(r instanceof Me||r instanceof ta))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ae.fromString(t,...n));return dv(a),new Me(r.firestore,r instanceof ta?r.converter:null,new ft(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="AsyncQueue";class n0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new F1(this,"async_queue_retry"),this._c=()=>{const a=tm();a&&at(e0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const n=tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!_o(t))throw t;at(e0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,sr("INTERNAL UNHANDLED ERROR: ",i0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(t,n,a){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=ng.createAndSchedule(this,t,n,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&gt(47125,{Pc:i0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function i0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class es extends Nh{constructor(t,n,a,o){super(t,n,a,o),this.type="firestore",this._queue=new n0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new n0(t),this._firestoreClient=void 0,await t}}}function WM(r,t){const n=typeof r=="object"?r:H0(),a=typeof r=="string"?r:Jc,o=Vm(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=hA("firestore");u&&YR(o,...u)}return o}function og(r){if(r._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||KR(r),r._firestoreClient}function KR(r){var a,o,u,d;const t=r._freezeSettings(),n=GR(r._databaseId,((a=r._app)==null?void 0:a.options.appId)||"",r._persistenceKey,(o=r._app)==null?void 0:o.options.apiKey,t);r._componentsProvider||(u=t.localCache)!=null&&u._offlineComponentProvider&&((d=t.localCache)!=null&&d._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new UR(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bn(Xe.fromBase64String(t))}catch(n){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Bn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($l(t,Bn._jsonSchema))return Bn.fromBase64String(t.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:De("string",Bn._jsonSchemaVersion),bytes:De("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if($l(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:De("string",Oi._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($l(t,ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ni(t.vectorValues);throw new lt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:De("string",ni._jsonSchemaVersion),vectorValues:De("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=/^__.*__$/;class $R{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new la(t,this.data,this.fieldMask,n,this.fieldTransforms):new Wl(t,this.data,n,this.fieldTransforms)}}class mE{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return new la(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function gE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:r})}}class cg{constructor(t,n,a,o,u,d){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new cg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var o;const n=(o=this.path)==null?void 0:o.child(t),a=this.contextWith({path:n,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){var o;const n=(o=this.path)==null?void 0:o.child(t),a=this.contextWith({path:n,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return lh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(gE(this.dataSource)&&XR.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class WR{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||Ih(t)}createContext(t,n,a,o=!1){return new cg({dataSource:t,methodName:n,targetDoc:a,path:Ke.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hg(r){const t=r._freezeSettings(),n=Ih(r._databaseId);return new WR(r._databaseId,!!t.ignoreUndefinedProperties,n)}function pE(r,t,n,a,o,u={}){const d=r.createContext(u.merge||u.mergeFields?2:0,t,n,o);fg("Data must be an object, but it was:",d,a);const y=yE(a,d);let m,g;if(u.merge)m=new wn(d.fieldMask),g=d.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const b=Gl(t,T,n);if(!d.contains(b))throw new lt(J.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);EE(E,b)||E.push(b)}m=new wn(E),g=d.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,g=d.fieldTransforms;return new $R(new mn(y),m,g)}class Vh extends ug{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Vh}}function JR(r,t,n,a){const o=r.createContext(1,t,n);fg("Data must be an object, but it was:",o,a);const u=[],d=mn.empty();oa(a,((m,g)=>{const E=vE(t,m,n);g=gn(g);const T=o.childContextForFieldPath(E);if(g instanceof Vh)u.push(E);else{const b=kh(g,T);b!=null&&(u.push(E),d.set(E,b))}}));const y=new wn(u);return new mE(d,y,o.fieldTransforms)}function ZR(r,t,n,a,o,u){const d=r.createContext(1,t,n),y=[Gl(t,a,n)],m=[o];if(u.length%2!=0)throw new lt(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)y.push(Gl(t,u[b])),m.push(u[b+1]);const g=[],E=mn.empty();for(let b=y.length-1;b>=0;--b)if(!EE(g,y[b])){const k=y[b];let q=m[b];q=gn(q);const $=d.childContextForFieldPath(k);if(q instanceof Vh)g.push(k);else{const Y=kh(q,$);Y!=null&&(g.push(k),E.set(k,Y))}}const T=new wn(g);return new mE(E,T,d.fieldTransforms)}function kh(r,t){if(_E(r=gn(r)))return fg("Unsupported field value:",t,r),yE(r,t);if(r instanceof ug)return(function(a,o){if(!gE(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,o){const u=[];let d=0;for(const y of a){let m=kh(y,o.childContextForArray(d));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),d++}return{arrayValue:{values:u}}})(r,t)}return(function(a,o){if((a=gn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Lb(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=se.fromDate(a);return{timestampValue:rh(o.serializer,u)}}if(a instanceof se){const u=new se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:rh(o.serializer,u)}}if(a instanceof Oi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Bn)return{bytesValue:O1(o.serializer,a._byteString)};if(a instanceof Me){const u=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Qm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ni)return(function(d,y){const m=d instanceof ni?d.toArray():d;return{mapValue:{fields:{[l1]:{stringValue:u1},[Zc]:{arrayValue:{values:m.map((E=>{if(typeof E!="number")throw y.createError("VectorValues must only contain numeric values.");return jm(y.serializer,E)}))}}}}}})(a,o);if(z1(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${xm(a)}`)})(r,t)}function yE(r,t){const n={};return n1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):oa(r,((a,o)=>{const u=kh(o,t.childContextForField(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function _E(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Oi||r instanceof Bn||r instanceof Me||r instanceof ug||r instanceof ni||z1(r))}function fg(r,t,n){if(!_E(n)||!t1(n)){const a=xm(n);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function Gl(r,t,n){if((t=gn(t))instanceof lg)return t._internalPath;if(typeof t=="string")return vE(r,t);throw lh("Field path arguments must be of type string or ",r,!1,void 0,n)}const tC=new RegExp("[~\\*/\\[\\]]");function vE(r,t,n){if(t.search(tC)>=0)throw lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new lg(...t.split("."))._internalPath}catch{throw lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function lh(r,t,n,a,o){const u=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${t}() called with invalid data`;n&&(y+=" (via `toFirestore()`)"),y+=". ";let m="";return(u||d)&&(m+=" (found",u&&(m+=` in field ${a}`),d&&(m+=` in document ${o}`),m+=")"),new lt(J.INVALID_ARGUMENT,y+r+m)}function EE(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{convertValue(t,n="none"){switch(ra(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ia(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return oa(t,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(t){var a,o,u;const n=(u=(o=(a=t.fields)==null?void 0:a[Zc].arrayValue)==null?void 0:o.values)==null?void 0:u.map((d=>_e(d.doubleValue)));return new ni(n)}convertGeoPoint(t){return new Oi(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const a=Th(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Bl(t));default:return null}}convertTimestamp(t){const n=na(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=ae.fromString(t);Yt(U1(a),9688,{name:t});const o=new ql(a.get(1),a.get(3)),u=new ft(a.popFirst(5));return o.isEqual(n)||sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE extends eC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,n)}}const r0="@firebase/firestore",a0="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t,n,a,o,u){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new nC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(Gl("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nC extends SE{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function AE(r,t,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,a}class Nl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fa extends SE{constructor(t,n,a,o,u,d){super(t,n,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(Gl("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Fa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fa._jsonSchema={type:De("string",Fa._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class Fc extends Fa{data(t={}){return super.data(t)}}class eo{constructor(t,n,a,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Nl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((a=>{t.call(n,new Fc(this._firestore,this._userDataWriter,a.key,a,new Nl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const m=new Fc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Nl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>u||y.type!==3)).map((y=>{const m=new Fc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Nl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return y.type!==0&&(g=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),E=d.indexOf(y.doc.key)),{type:rC(y.type),doc:m,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=eo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function rC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:De("string",eo._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(r){r=ri(r,Me);const t=ri(r.firestore,es),n=og(t);return qR(n,r._key).then((a=>aC(t,r,a)))}function ZM(r){r=ri(r,Oh);const t=ri(r.firestore,es),n=og(t),a=new TE(t);return iC(r._query),HR(n,r._query).then((o=>new eo(t,a,r,o)))}function tN(r,t,n){r=ri(r,Me);const a=ri(r.firestore,es),o=AE(r.converter,t,n),u=hg(a);return Ph(a,[pE(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,qn.none())])}function eN(r,t,n,...a){r=ri(r,Me);const o=ri(r.firestore,es),u=hg(o);let d;return d=typeof(t=gn(t))=="string"||t instanceof lg?ZR(u,"updateDoc",r._key,t,n,a):JR(u,"updateDoc",r._key,t),Ph(o,[d.toMutation(r._key,qn.exists(!0))])}function nN(r){return Ph(ri(r.firestore,es),[new Fm(r._key,qn.none())])}function iN(r,t){const n=ri(r.firestore,es),a=QR(r),o=AE(r.converter,t),u=hg(r.firestore);return Ph(n,[pE(u,"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,qn.exists(!1))]).then((()=>a))}function Ph(r,t){const n=og(r);return jR(n,t)}function aC(r,t,n){const a=n.docs.get(t._key),o=new TE(r);return new Fa(r,o,t._key,a,new Nl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){j2(go),so(new Qa("firestore",((a,{instanceIdentifier:o,options:u})=>{const d=a.getProvider("app").getImmediate(),y=new es(new Y2(a.getProvider("auth-internal")),new X2(d,a.getProvider("app-check-internal")),fb(d,o),d);return u={useFetchStreams:n,...u},y._setSettings(u),y}),"PUBLIC").setMultipleInstances(!0)),Jr(r0,a0,t),Jr(r0,a0,"esm2020")})();function bE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sC=bE,wE=new Kl("auth","Firebase",bE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Nm("@firebase/auth");function oC(r,...t){uh.logLevel<=kt.WARN&&uh.warn(`Auth (${go}): ${r}`,...t)}function Gc(r,...t){uh.logLevel<=kt.ERROR&&uh.error(`Auth (${go}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(r,...t){throw mg(r,...t)}function ii(r,...t){return mg(r,...t)}function dg(r,t,n){const a={...sC(),[t]:n};return new Kl("auth","Firebase",a).create(t,{appName:r.name})}function Ga(r){return dg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lC(r,t,n){const a=n;if(!(t instanceof a))throw a.name!==t.constructor.name&&xi(r,"argument-error"),dg(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mg(r,...t){if(typeof r!="string"){const n=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return wE.create(r,...t)}function pt(r,t,...n){if(!r)throw mg(t,...n)}function nr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Gc(t),new Error(t)}function lr(r,t){r||nr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function uC(){return s0()==="http:"||s0()==="https:"}function s0(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uC()||vA()||"connection"in navigator)?navigator.onLine:!0}function hC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t,n){this.shortDelay=t,this.longDelay=n,lr(n>t,"Short delay should be less than long delay!"),this.isMobile=pA()||EA()}get(){return cC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(r,t){lr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{static initialize(t,n,a){this.fetchImpl=t,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mC=new eu(3e4,6e4);function pg(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Eo(r,t,n,a,o={}){return CE(r,o,async()=>{let u={},d={};a&&(t==="GET"?d=a:u={body:JSON.stringify(a)});const y=Xl({key:r.config.apiKey,...d}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g={method:t,headers:m,...u};return _A()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&mo(r.emulatorConfig.host)&&(g.credentials="include"),RE.fetch()(await IE(r,r.config.apiHost,n,y),g)})}async function CE(r,t,n){r._canInitEmulator=!1;const a={...fC,...t};try{const o=new pC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Uc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const y=u.ok?d.errorMessage:d.error.message,[m,g]=y.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(r,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw Uc(r,"email-already-in-use",d);if(m==="USER_DISABLED")throw Uc(r,"user-disabled",d);const E=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw dg(r,E,g);xi(r,E)}}catch(o){if(o instanceof ur)throw o;xi(r,"network-request-failed",{message:String(o)})}}async function gC(r,t,n,a,o={}){const u=await Eo(r,t,n,a,o);return"mfaPendingCredential"in u&&xi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function IE(r,t,n,a){const o=`${t}${n}?${a}`,u=r,d=u.config.emulator?gg(r.config,o):`${r.config.apiScheme}://${o}`;return dC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class pC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ii(this.auth,"network-request-failed")),mC.get())})}}function Uc(r,t,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=ii(r,t,a);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(r,t){return Eo(r,"POST","/v1/accounts:delete",t)}async function ch(r,t){return Eo(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function _C(r,t=!1){const n=gn(r),a=await n.getIdToken(t),o=yg(a);pt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:Ll(nm(o.auth_time)),issuedAtTime:Ll(nm(o.iat)),expirationTime:Ll(nm(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function nm(r){return Number(r)*1e3}function yg(r){const[t,n,a]=r.split(".");if(t===void 0||n===void 0||a===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=k0(n);return o?JSON.parse(o):(Gc("Failed to decode base64 JWT payload"),null)}catch(o){return Gc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function o0(r){const t=yg(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(r,t,n=!1){if(n)return t;try{return await t}catch(a){throw a instanceof ur&&vC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function vC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(r){var T;const t=r.auth,n=await r.getIdToken(),a=await Yl(r,ch(t,{idToken:n}));pt(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?DE(o.providerUserInfo):[],d=SC(r.providerData,u),y=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!(d!=null&&d.length),g=y?m:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Rm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function TC(r){const t=gn(r);await hh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function SC(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function DE(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(r,t){const n=await CE(r,{},async()=>{const a=Xl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=await IE(r,o,"/v1/token",`key=${u}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:y,body:a};return r.emulatorConfig&&mo(r.emulatorConfig.host)&&(m.credentials="include"),RE.fetch()(d,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bC(r,t){return Eo(r,"POST","/v2/accounts:revokeToken",pg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):o0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const n=o0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await AC(t,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(t,n,a){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,d=new no;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(pt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),u&&(pt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ei{constructor({uid:t,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new EC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Rm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Yl(this,this.stsTokenManager.getToken(this.auth,t));return pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return _C(this,t)}reload(){return TC(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Ga(this.auth));const t=await this.getIdToken();return await Yl(this,yC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,y=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:k,providerData:q,stsTokenManager:$}=n;pt(T&&$,t,"internal-error");const Y=no.fromJSON(this.name,$);pt(typeof T=="string",t,"internal-error"),jr(a,t.name),jr(o,t.name),pt(typeof b=="boolean",t,"internal-error"),pt(typeof k=="boolean",t,"internal-error"),jr(u,t.name),jr(d,t.name),jr(y,t.name),jr(m,t.name),jr(g,t.name),jr(E,t.name);const ot=new ei({uid:T,auth:t,email:o,emailVerified:b,displayName:a,isAnonymous:k,photoURL:d,phoneNumber:u,tenantId:y,stsTokenManager:Y,createdAt:g,lastLoginAt:E});return q&&Array.isArray(q)&&(ot.providerData=q.map(it=>({...it}))),m&&(ot._redirectEventId=m),ot}static async _fromIdTokenResponse(t,n,a=!1){const o=new no;o.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await hh(u),u}static async _fromGetAccountInfoResponse(t,n,a){const o=n.users[0];pt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?DE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),y=new no;y.updateFromIdToken(a);const m=new ei({uid:o.localId,auth:t,stsTokenManager:y,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=new Map;function ir(r){lr(r instanceof Function,"Expected a class definition");let t=l0.get(r);return t?(lr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,l0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}ME.type="NONE";const u0=ME;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(r,t,n){return`firebase:${r}:${t}:${n}`}class io{constructor(t,n,a){this.persistence=t,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Yc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Yc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ch(this.auth,{idToken:t}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,a="authUser"){if(!n.length)return new io(ir(u0),t,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ir(u0);const d=Yc(a,t.config.apiKey,t.name);let y=null;for(const g of n)try{const E=await g._get(d);if(E){let T;if(typeof E=="string"){const b=await ch(t,{idToken:E}).catch(()=>{});if(!b)break;T=await ei._fromGetAccountInfoResponse(t,b,E)}else T=ei._fromJSON(t,E);g!==u&&(y=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new io(u,t,a):(u=m[0],y&&await u._set(d,y.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new io(u,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(NE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xE(t))return"Blackberry";if(LE(t))return"Webos";if(OE(t))return"Safari";if((t.includes("chrome/")||VE(t))&&!t.includes("edge/"))return"Chrome";if(PE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function NE(r=tn()){return/firefox\//i.test(r)}function OE(r=tn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function VE(r=tn()){return/crios\//i.test(r)}function kE(r=tn()){return/iemobile/i.test(r)}function PE(r=tn()){return/android/i.test(r)}function xE(r=tn()){return/blackberry/i.test(r)}function LE(r=tn()){return/webos/i.test(r)}function _g(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function wC(r=tn()){var t;return _g(r)&&!!((t=window.navigator)!=null&&t.standalone)}function RC(){return TA()&&document.documentMode===10}function UE(r=tn()){return _g(r)||PE(r)||LE(r)||xE(r)||/windows phone/i.test(r)||kE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(r,t=[]){let n;switch(r){case"Browser":n=c0(tn());break;case"Worker":n=`${c0(tn())}-${r}`;break;default:n=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${go}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const a=u=>new Promise((d,y)=>{try{const m=t(u);d(m)}catch(m){y(m)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const a of this.queue)await a(t),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(r,t={}){return Eo(r,"GET","/v2/passwordPolicy",pg(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=6;class MC{constructor(t){var a;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??DC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=t.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=t.length>=a),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t,n,a,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h0(this),this.idTokenSubscription=new h0(this),this.beforeStateQueue=new CC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await io.create(this,t),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ch(this,{idToken:t}),a=await ei._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(ti(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(y=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(y,y))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(u=this.redirectUser)==null?void 0:u._redirectEventId,y=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!d||d===y)&&(m!=null&&m.user)&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(d){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await hh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ti(this.app))return Promise.reject(Ga(this));const n=t?gn(t):null;return n&&pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Ga(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ti(this.app)?Promise.reject(Ga(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await IC(this),n=new MC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Kl("auth","Firebase",t())}onAuthStateChanged(t,n,a){return this.registerStateListener(this.authStateSubscription,t,n,a)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,a){return this.registerStateListener(this.idTokenSubscription,t,n,a)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await bC(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const a=await this.getOrInitRedirectPersistenceManager(n);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ir(t)||this._popupRedirectResolver;pt(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(y,this,"internal-error"),y.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,a,o);return()=>{d=!0,m()}}else{const m=t.addObserver(n);return()=>{d=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=zE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var n;if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&oC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function xh(r){return gn(r)}class h0{constructor(t){this.auth=t,this.observer=null,this.addObserver=DA(n=>this.observer=n)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OC(r){vg=r}function VC(r){return vg.loadJS(r)}function kC(){return vg.gapiScript}function PC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(r,t){const n=Vm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ya(u,t??{}))return o;xi(o,"already-initialized")}return n.initialize({options:t})}function LC(r,t){const n=(t==null?void 0:t.persistence)||[],a=(Array.isArray(n)?n:[n]).map(ir);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function UC(r,t,n){const a=xh(r);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,u=BE(t),{host:d,port:y}=zC(t),m=y===null?"":`:${y}`,g={url:`${u}//${d}${m}/`},E=Object.freeze({host:d,port:y,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(Ya(g,a.config.emulator)&&Ya(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,mo(d)?(U0(`${u}//${d}${m}`),z0("Auth",!0)):BC()}function BE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function zC(r){const t=BE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:f0(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:f0(d)}}}function f0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function BC(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(t){return nr("not implemented")}_linkToIdToken(t,n){return nr("not implemented")}_getReauthenticationResolver(t){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(r,t){return gC(r,"POST","/v1/accounts:signInWithIdp",pg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="http://localhost";class Wa extends qE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Wa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):xi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const d=new Wa(a,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return ro(t,n)}_linkToIdToken(t,n){const a=this.buildRequest();return a.idToken=n,ro(t,a)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ro(t,n)}buildRequest(){const t={requestUri:qC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Xl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends Eg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends nu{constructor(){super("facebook.com")}static credential(t){return Wa._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gr.credential(t.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Wa._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:a}=t;if(!n&&!a)return null;try{return Yr.credential(n,a)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends nu{constructor(){super("github.com")}static credential(t){return Wa._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qr.credential(t.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends nu{constructor(){super("twitter.com")}static credential(t,n){return Wa._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=t;if(!n||!a)return null;try{return Kr.credential(n,a)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,a,o=!1){const u=await ei._fromIdTokenResponse(t,a,o),d=d0(a);return new fo({user:u,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(t,n,a){await t._updateTokensIfNecessary(a,!0);const o=d0(a);return new fo({user:t,providerId:o,_tokenResponse:a,operationType:n})}}function d0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends ur{constructor(t,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,n,a,o){return new fh(t,n,a,o)}}function HE(r,t,n,a){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(r,u,t,a):u})}async function HC(r,t,n=!1){const a=await Yl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return fo._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(r,t,n=!1){const{auth:a}=r;if(ti(a.app))return Promise.reject(Ga(a));const o="reauthenticate";try{const u=await Yl(r,HE(a,o,t,r),n);pt(u.idToken,a,"internal-error");const d=yg(u.idToken);pt(d,a,"internal-error");const{sub:y}=d;return pt(r.uid===y,a,"user-mismatch"),fo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&xi(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(r,t,n=!1){if(ti(r.app))return Promise.reject(Ga(r));const a="signIn",o=await HE(r,a,t),u=await fo._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}function GC(r,t,n,a){return gn(r).onIdTokenChanged(t,n,a)}function YC(r,t,n){return gn(r).beforeAuthStateChanged(t,n)}const dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=1e3,KC=10;class FE extends jE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&t(n,o,a)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,y,m)=>{this.notifyListeners(d,m)});return}const a=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);RC()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,KC):o()}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:a}),!0)})},QC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}FE.type="LOCAL";const XC=FE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE extends jE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}GE.type="SESSION";const YE=GE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const a=new Lh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:a,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const y=Array.from(d).map(async g=>g(n.origin,u)),m=await $C(y);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(r="",t=10){let n="";for(let a=0;a<t;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((y,m)=>{const g=Tg("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),y(b.data.response);break;default:clearTimeout(E),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function JC(r){Vi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function ZC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function eI(){return QE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="firebaseLocalStorageDb",nI=1,mh="firebaseLocalStorage",XE="fbase_key";class iu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uh(r,t){return r.transaction([mh],t?"readwrite":"readonly").objectStore(mh)}function iI(){const r=indexedDB.deleteDatabase(KE);return new iu(r).toPromise()}function Cm(){const r=indexedDB.open(KE,nI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(mh,{keyPath:XE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(mh)?t(a):(a.close(),await iI(),t(await Cm()))})})}async function m0(r,t,n){const a=Uh(r,!0).put({[XE]:t,value:n});return new iu(a).toPromise()}async function rI(r,t){const n=Uh(r,!1).get(t),a=await new iu(n).toPromise();return a===void 0?null:a.value}function g0(r,t){const n=Uh(r,!0).delete(t);return new iu(n).toPromise()}const aI=800,sI=3;class $E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(n++>sI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(eI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,a;if(this.activeServiceWorker=await ZC(),!this.activeServiceWorker)return;this.sender=new WC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(a=t[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||tI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Cm();return await m0(t,dh,"1"),await g0(t,dh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>m0(a,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(a=>rI(a,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>g0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Uh(o,!1).getAll();return new iu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$E.type="LOCAL";const oI=$E;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(r,t){return t?ir(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg extends qE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ro(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ro(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function lI(r){return FC(r.auth,new Sg(r),r.bypassAuthState)}function uI(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),jC(n,new Sg(r),r.bypassAuthState)}async function cI(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),HC(n,new Sg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(t,n,a,o,u=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:d,type:y}=t;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return lI;case"linkViaPopup":case"linkViaRedirect":return cI;case"reauthViaPopup":case"reauthViaRedirect":return uI;default:xi(this.auth,"internal-error")}}resolve(t){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=new eu(2e3,1e4);async function rN(r,t,n){if(ti(r.app))return Promise.reject(ii(r,"operation-not-supported-in-this-environment"));const a=xh(r);lC(r,t,Eg);const o=WE(a,n);return new ja(a,"signInViaPopup",t,o).executeNotNull()}class ja extends JE{constructor(t,n,a,o,u){super(t,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,ja.currentPopupAction&&ja.currentPopupAction.cancel(),ja.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const t=Tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ja.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,a;if((a=(n=this.authWindow)==null?void 0:n.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,hI.get())};t()}}ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="pendingRedirect",Qc=new Map;class dI extends JE{constructor(t,n,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let t=Qc.get(this.auth._key());if(!t){try{const a=await mI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(n){t=()=>Promise.reject(n)}Qc.set(this.auth._key(),t)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mI(r,t){const n=yI(t),a=pI(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function gI(r,t){Qc.set(r._key(),t)}function pI(r){return ir(r._redirectPersistence)}function yI(r){return Yc(fI,r.config.apiKey,r.name)}async function _I(r,t,n=!1){if(ti(r.app))return Promise.reject(Ga(r));const a=xh(r),o=WE(a,t),d=await new dI(a,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=600*1e3;class EI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(n=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!TI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var a;if(t.error&&!ZE(t)){const o=((a=t.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";n.onError(ii(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const a=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=vI&&this.cachedEventUids.clear(),this.cachedEventUids.has(p0(t))}saveEventToCache(t){this.cachedEventUids.add(p0(t)),this.lastProcessedEventTime=Date.now()}}function p0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function ZE({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function TI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(r,t={}){return Eo(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bI=/^https?/;async function wI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await SI(r);for(const n of t)try{if(RI(n))return}catch{}xi(r,"unauthorized-domain")}function RI(r){const t=wm(),{protocol:n,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!bI.test(n))return!1;if(AI.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new eu(3e4,6e4);function y0(){const r=Vi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function II(r){return new Promise((t,n)=>{var o,u,d;function a(){y0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{y0(),n(ii(r,"network-request-failed"))},timeout:CI.get()})}if((u=(o=Vi().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((d=Vi().gapi)!=null&&d.load)a();else{const y=PC("iframefcb");return Vi()[y]=()=>{gapi.load?a():n(ii(r,"network-request-failed"))},VC(`${kC()}?onload=${y}`).catch(m=>n(m))}}).catch(t=>{throw Kc=null,t})}let Kc=null;function DI(r){return Kc=Kc||II(r),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new eu(5e3,15e3),NI="__/auth/iframe",OI="emulator/auth/iframe",VI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PI(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?gg(t,OI):`https://${r.config.authDomain}/${NI}`,a={apiKey:t.apiKey,appName:r.name,v:go},o=kI.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Xl(a).slice(1)}`}async function xI(r){const t=await DI(r),n=Vi().gapi;return pt(n,r,"internal-error"),t.open({where:document.body,url:PI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VI,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const d=ii(r,"network-request-failed"),y=Vi().setTimeout(()=>{u(d)},MI.get());function m(){Vi().clearTimeout(y),o(a)}a.ping(m).then(m,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UI=500,zI=600,BI="_blank",qI="http://localhost";class _0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HI(r,t,n,a=UI,o=zI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const m={...LI,width:a.toString(),height:o.toString(),top:u,left:d},g=tn().toLowerCase();n&&(y=VE(g)?BI:n),NE(g)&&(t=t||qI,m.scrollbars="yes");const E=Object.entries(m).reduce((b,[k,q])=>`${b}${k}=${q},`,"");if(wC(g)&&y!=="_self")return jI(t||"",y),new _0(null);const T=window.open(t||"",y,E);pt(T,r,"popup-blocked");try{T.focus()}catch{}return new _0(T)}function jI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="__/auth/handler",GI="emulator/auth/handler",YI=encodeURIComponent("fac");async function v0(r,t,n,a,o,u){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:go,eventId:o};if(t instanceof Eg){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",IA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))d[E]=T}if(t instanceof nu){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const E of Object.keys(y))y[E]===void 0&&delete y[E];const m=await r._getAppCheckToken(),g=m?`#${YI}=${encodeURIComponent(m)}`:"";return`${QI(r)}?${Xl(y).slice(1)}${g}`}function QI({config:r}){return r.emulator?gg(r,GI):`https://${r.authDomain}/${FI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="webStorageSupport";class KI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YE,this._completeRedirectFn=_I,this._overrideRedirectResult=gI}async _openPopup(t,n,a,o){var d;lr((d=this.eventManagers[t._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const u=await v0(t,n,a,wm(),o);return HI(t,u,Tg())}async _openRedirect(t,n,a,o){await this._originValidation(t);const u=await v0(t,n,a,wm(),o);return JC(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(lr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(t);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(t){const n=await xI(t),a=new EI(t);return n.register("authEvent",o=>(pt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=n,a}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(im,{type:im},o=>{var d;const u=(d=o==null?void 0:o[0])==null?void 0:d[im];u!==void 0&&n(!!u),xi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return UE()||OE()||_g()}}const XI=KI;var E0="@firebase/auth",T0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JI(r){so(new Qa("auth",(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zE(r)},g=new NC(a,o,u,m);return LC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,a)=>{t.getProvider("auth-internal").initialize()})),so(new Qa("auth-internal",t=>{const n=xh(t.getProvider("auth").getImmediate());return(a=>new $I(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(E0,T0,WI(r)),Jr(E0,T0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=300,t4=L0("authIdTokenMaxAge")||ZI;let S0=null;const e4=r=>async t=>{const n=t&&await t.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>t4)return;const o=n==null?void 0:n.token;S0!==o&&(S0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aN(r=H0()){const t=Vm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=xC(r,{popupRedirectResolver:XI,persistence:[oI,XC,YE]}),a=L0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=e4(u.toString());YC(n,d,()=>d(n.currentUser)),GC(n,y=>d(y))}}const o=P0("auth");return o&&UC(n,`http://${o}`),n}function n4(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}OC({loadJS(r){return new Promise((t,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const u=ii("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",n4().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JI("Browser");const tT=6048e5,i4=864e5,A0=Symbol.for("constructDateFrom");function Rn(r,t){return typeof r=="function"?r(t):r&&typeof r=="object"&&A0 in r?r[A0](t):r instanceof Date?new r.constructor(t):new Date(t)}function an(r,t){return Rn(t||r,r)}function sN(r,t,n){const a=an(r,n==null?void 0:n.in);if(isNaN(t))return Rn(r,NaN);if(!t)return a;const o=a.getDate(),u=Rn(r,a.getTime());u.setMonth(a.getMonth()+t+1,0);const d=u.getDate();return o>=d?u:(a.setFullYear(u.getFullYear(),u.getMonth(),o),a)}let r4={};function zh(){return r4}function Ql(r,t){var y,m,g,E;const n=zh(),a=(t==null?void 0:t.weekStartsOn)??((m=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((E=(g=n.locale)==null?void 0:g.options)==null?void 0:E.weekStartsOn)??0,o=an(r,t==null?void 0:t.in),u=o.getDay(),d=(u<a?7:0)+u-a;return o.setDate(o.getDate()-d),o.setHours(0,0,0,0),o}function gh(r,t){return Ql(r,{...t,weekStartsOn:1})}function eT(r,t){const n=an(r,t==null?void 0:t.in),a=n.getFullYear(),o=Rn(n,0);o.setFullYear(a+1,0,4),o.setHours(0,0,0,0);const u=gh(o),d=Rn(n,0);d.setFullYear(a,0,4),d.setHours(0,0,0,0);const y=gh(d);return n.getTime()>=u.getTime()?a+1:n.getTime()>=y.getTime()?a:a-1}function b0(r){const t=an(r),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+r-+n}function Bh(r,...t){const n=Rn.bind(null,t.find(a=>typeof a=="object"));return t.map(n)}function ph(r,t){const n=an(r,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function a4(r,t,n){const[a,o]=Bh(n==null?void 0:n.in,r,t),u=ph(a),d=ph(o),y=+u-b0(u),m=+d-b0(d);return Math.round((y-m)/i4)}function s4(r,t){const n=eT(r,t),a=Rn(r,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),gh(a)}function o4(r){return Rn(r,Date.now())}function l4(r,t,n){const[a,o]=Bh(n==null?void 0:n.in,r,t);return+ph(a)==+ph(o)}function u4(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function c4(r){return!(!u4(r)&&typeof r!="number"||isNaN(+an(r)))}function oN(r,t){const n=an(r,t==null?void 0:t.in),a=n.getMonth();return n.setFullYear(n.getFullYear(),a+1,0),n.setHours(23,59,59,999),n}function h4(r,t){const[n,a]=Bh(r,t.start,t.end);return{start:n,end:a}}function lN(r,t){const{start:n,end:a}=h4(t==null?void 0:t.in,r);let o=+n>+a;const u=o?+n:+a,d=o?a:n;d.setHours(0,0,0,0);let y=1;const m=[];for(;+d<=u;)m.push(Rn(n,d)),d.setDate(d.getDate()+y),d.setHours(0,0,0,0);return o?m.reverse():m}function f4(r,t){const n=an(r,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function uN(r,t){const n=t==null?void 0:t.weekStartsOn,a=an(r,t==null?void 0:t.in),o=a.getDay(),u=(o<n?-7:0)+6-(o-n);return a.setDate(a.getDate()+u),a.setHours(23,59,59,999),a}const d4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},m4=(r,t,n)=>{let a;const o=d4[r];return typeof o=="string"?a=o:t===1?a=o.one:a=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function ao(r){return(t={})=>{const n=t.width?String(t.width):r.defaultWidth;return r.formats[n]||r.formats[r.defaultWidth]}}const g4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},p4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},y4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_4={date:ao({formats:g4,defaultWidth:"full"}),time:ao({formats:p4,defaultWidth:"full"}),dateTime:ao({formats:y4,defaultWidth:"full"})},v4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},E4=(r,t,n,a)=>v4[r];function Ii(r){return(t,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let o;if(a==="formatting"&&r.formattingValues){const d=r.defaultFormattingWidth||r.defaultWidth,y=n!=null&&n.width?String(n.width):d;o=r.formattingValues[y]||r.formattingValues[d]}else{const d=r.defaultWidth,y=n!=null&&n.width?String(n.width):r.defaultWidth;o=r.values[y]||r.values[d]}const u=r.argumentCallback?r.argumentCallback(t):t;return o[u]}}const T4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},S4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},A4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},b4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},w4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},R4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},C4=(r,t)=>{const n=Number(r),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},I4={ordinalNumber:C4,era:Ii({values:T4,defaultWidth:"wide"}),quarter:Ii({values:S4,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Ii({values:A4,defaultWidth:"wide"}),day:Ii({values:b4,defaultWidth:"wide"}),dayPeriod:Ii({values:w4,defaultWidth:"wide",formattingValues:R4,defaultFormattingWidth:"wide"})};function Di(r){return(t,n={})=>{const a=n.width,o=a&&r.matchPatterns[a]||r.matchPatterns[r.defaultMatchWidth],u=t.match(o);if(!u)return null;const d=u[0],y=a&&r.parsePatterns[a]||r.parsePatterns[r.defaultParseWidth],m=Array.isArray(y)?M4(y,T=>T.test(d)):D4(y,T=>T.test(d));let g;g=r.valueCallback?r.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const E=t.slice(d.length);return{value:g,rest:E}}}function D4(r,t){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&t(r[n]))return n}function M4(r,t){for(let n=0;n<r.length;n++)if(t(r[n]))return n}function nT(r){return(t,n={})=>{const a=t.match(r.matchPattern);if(!a)return null;const o=a[0],u=t.match(r.parsePattern);if(!u)return null;let d=r.valueCallback?r.valueCallback(u[0]):u[0];d=n.valueCallback?n.valueCallback(d):d;const y=t.slice(o.length);return{value:d,rest:y}}}const N4=/^(\d+)(th|st|nd|rd)?/i,O4=/\d+/i,V4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},k4={any:[/^b/i,/^(a|c)/i]},P4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},x4={any:[/1/i,/2/i,/3/i,/4/i]},L4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},U4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},z4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},B4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},q4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},H4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},j4={ordinalNumber:nT({matchPattern:N4,parsePattern:O4,valueCallback:r=>parseInt(r,10)}),era:Di({matchPatterns:V4,defaultMatchWidth:"wide",parsePatterns:k4,defaultParseWidth:"any"}),quarter:Di({matchPatterns:P4,defaultMatchWidth:"wide",parsePatterns:x4,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Di({matchPatterns:L4,defaultMatchWidth:"wide",parsePatterns:U4,defaultParseWidth:"any"}),day:Di({matchPatterns:z4,defaultMatchWidth:"wide",parsePatterns:B4,defaultParseWidth:"any"}),dayPeriod:Di({matchPatterns:q4,defaultMatchWidth:"any",parsePatterns:H4,defaultParseWidth:"any"})},F4={code:"en-US",formatDistance:m4,formatLong:_4,formatRelative:E4,localize:I4,match:j4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function G4(r,t){const n=an(r,t==null?void 0:t.in);return a4(n,f4(n))+1}function Y4(r,t){const n=an(r,t==null?void 0:t.in),a=+gh(n)-+s4(n);return Math.round(a/tT)+1}function iT(r,t){var E,T,b,k;const n=an(r,t==null?void 0:t.in),a=n.getFullYear(),o=zh(),u=(t==null?void 0:t.firstWeekContainsDate)??((T=(E=t==null?void 0:t.locale)==null?void 0:E.options)==null?void 0:T.firstWeekContainsDate)??o.firstWeekContainsDate??((k=(b=o.locale)==null?void 0:b.options)==null?void 0:k.firstWeekContainsDate)??1,d=Rn((t==null?void 0:t.in)||r,0);d.setFullYear(a+1,0,u),d.setHours(0,0,0,0);const y=Ql(d,t),m=Rn((t==null?void 0:t.in)||r,0);m.setFullYear(a,0,u),m.setHours(0,0,0,0);const g=Ql(m,t);return+n>=+y?a+1:+n>=+g?a:a-1}function Q4(r,t){var y,m,g,E;const n=zh(),a=(t==null?void 0:t.firstWeekContainsDate)??((m=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((E=(g=n.locale)==null?void 0:g.options)==null?void 0:E.firstWeekContainsDate)??1,o=iT(r,t),u=Rn((t==null?void 0:t.in)||r,0);return u.setFullYear(o,0,a),u.setHours(0,0,0,0),Ql(u,t)}function K4(r,t){const n=an(r,t==null?void 0:t.in),a=+Ql(n,t)-+Q4(n,t);return Math.round(a/tT)+1}function Wt(r,t){const n=r<0?"-":"",a=Math.abs(r).toString().padStart(t,"0");return n+a}const Fr={y(r,t){const n=r.getFullYear(),a=n>0?n:1-n;return Wt(t==="yy"?a%100:a,t.length)},M(r,t){const n=r.getMonth();return t==="M"?String(n+1):Wt(n+1,2)},d(r,t){return Wt(r.getDate(),t.length)},a(r,t){const n=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(r,t){return Wt(r.getHours()%12||12,t.length)},H(r,t){return Wt(r.getHours(),t.length)},m(r,t){return Wt(r.getMinutes(),t.length)},s(r,t){return Wt(r.getSeconds(),t.length)},S(r,t){const n=t.length,a=r.getMilliseconds(),o=Math.trunc(a*Math.pow(10,n-3));return Wt(o,t.length)}},Ys={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},w0={G:function(r,t,n){const a=r.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(r,t,n){if(t==="yo"){const a=r.getFullYear(),o=a>0?a:1-a;return n.ordinalNumber(o,{unit:"year"})}return Fr.y(r,t)},Y:function(r,t,n,a){const o=iT(r,a),u=o>0?o:1-o;if(t==="YY"){const d=u%100;return Wt(d,2)}return t==="Yo"?n.ordinalNumber(u,{unit:"year"}):Wt(u,t.length)},R:function(r,t){const n=eT(r);return Wt(n,t.length)},u:function(r,t){const n=r.getFullYear();return Wt(n,t.length)},Q:function(r,t,n){const a=Math.ceil((r.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Wt(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(r,t,n){const a=Math.ceil((r.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Wt(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(r,t,n){const a=r.getMonth();switch(t){case"M":case"MM":return Fr.M(r,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(r,t,n){const a=r.getMonth();switch(t){case"L":return String(a+1);case"LL":return Wt(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(r,t,n,a){const o=K4(r,a);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):Wt(o,t.length)},I:function(r,t,n){const a=Y4(r);return t==="Io"?n.ordinalNumber(a,{unit:"week"}):Wt(a,t.length)},d:function(r,t,n){return t==="do"?n.ordinalNumber(r.getDate(),{unit:"date"}):Fr.d(r,t)},D:function(r,t,n){const a=G4(r);return t==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Wt(a,t.length)},E:function(r,t,n){const a=r.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(r,t,n,a){const o=r.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Wt(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(r,t,n,a){const o=r.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Wt(u,t.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(r,t,n){const a=r.getDay(),o=a===0?7:a;switch(t){case"i":return String(o);case"ii":return Wt(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(r,t,n){const o=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,t,n){const a=r.getHours();let o;switch(a===12?o=Ys.noon:a===0?o=Ys.midnight:o=a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,t,n){const a=r.getHours();let o;switch(a>=17?o=Ys.evening:a>=12?o=Ys.afternoon:a>=4?o=Ys.morning:o=Ys.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,t,n){if(t==="ho"){let a=r.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Fr.h(r,t)},H:function(r,t,n){return t==="Ho"?n.ordinalNumber(r.getHours(),{unit:"hour"}):Fr.H(r,t)},K:function(r,t,n){const a=r.getHours()%12;return t==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Wt(a,t.length)},k:function(r,t,n){let a=r.getHours();return a===0&&(a=24),t==="ko"?n.ordinalNumber(a,{unit:"hour"}):Wt(a,t.length)},m:function(r,t,n){return t==="mo"?n.ordinalNumber(r.getMinutes(),{unit:"minute"}):Fr.m(r,t)},s:function(r,t,n){return t==="so"?n.ordinalNumber(r.getSeconds(),{unit:"second"}):Fr.s(r,t)},S:function(r,t){return Fr.S(r,t)},X:function(r,t,n){const a=r.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return C0(a);case"XXXX":case"XX":return qa(a);case"XXXXX":case"XXX":default:return qa(a,":")}},x:function(r,t,n){const a=r.getTimezoneOffset();switch(t){case"x":return C0(a);case"xxxx":case"xx":return qa(a);case"xxxxx":case"xxx":default:return qa(a,":")}},O:function(r,t,n){const a=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+R0(a,":");case"OOOO":default:return"GMT"+qa(a,":")}},z:function(r,t,n){const a=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+R0(a,":");case"zzzz":default:return"GMT"+qa(a,":")}},t:function(r,t,n){const a=Math.trunc(+r/1e3);return Wt(a,t.length)},T:function(r,t,n){return Wt(+r,t.length)}};function R0(r,t=""){const n=r>0?"-":"+",a=Math.abs(r),o=Math.trunc(a/60),u=a%60;return u===0?n+String(o):n+String(o)+t+Wt(u,2)}function C0(r,t){return r%60===0?(r>0?"-":"+")+Wt(Math.abs(r)/60,2):qa(r,t)}function qa(r,t=""){const n=r>0?"-":"+",a=Math.abs(r),o=Wt(Math.trunc(a/60),2),u=Wt(a%60,2);return n+o+t+u}const I0=(r,t)=>{switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},rT=(r,t)=>{switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},X4=(r,t)=>{const n=r.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return I0(r,t);let u;switch(a){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",I0(a,t)).replace("{{time}}",rT(o,t))},$4={p:rT,P:X4},W4=/^D+$/,J4=/^Y+$/,Z4=["D","DD","YY","YYYY"];function tD(r){return W4.test(r)}function eD(r){return J4.test(r)}function nD(r,t,n){const a=iD(r,t,n);if(console.warn(a),Z4.includes(r))throw new RangeError(a)}function iD(r,t,n){const a=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${t}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const rD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sD=/^'([^]*?)'?$/,oD=/''/g,lD=/[a-zA-Z]/;function cN(r,t,n){var E,T,b,k,q,$,Y,ot;const a=zh(),o=(n==null?void 0:n.locale)??a.locale??F4,u=(n==null?void 0:n.firstWeekContainsDate)??((T=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:T.firstWeekContainsDate)??a.firstWeekContainsDate??((k=(b=a.locale)==null?void 0:b.options)==null?void 0:k.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??(($=(q=n==null?void 0:n.locale)==null?void 0:q.options)==null?void 0:$.weekStartsOn)??a.weekStartsOn??((ot=(Y=a.locale)==null?void 0:Y.options)==null?void 0:ot.weekStartsOn)??0,y=an(r,n==null?void 0:n.in);if(!c4(y))throw new RangeError("Invalid time value");let m=t.match(aD).map(it=>{const Z=it[0];if(Z==="p"||Z==="P"){const dt=$4[Z];return dt(it,o.formatLong)}return it}).join("").match(rD).map(it=>{if(it==="''")return{isToken:!1,value:"'"};const Z=it[0];if(Z==="'")return{isToken:!1,value:uD(it)};if(w0[Z])return{isToken:!0,value:it};if(Z.match(lD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Z+"`");return{isToken:!1,value:it}});o.localize.preprocessor&&(m=o.localize.preprocessor(y,m));const g={firstWeekContainsDate:u,weekStartsOn:d,locale:o};return m.map(it=>{if(!it.isToken)return it.value;const Z=it.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&eD(Z)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&tD(Z))&&nD(Z,t,String(r));const dt=w0[Z[0]];return dt(y,Z,o.localize,g)}).join("")}function uD(r){const t=r.match(sD);return t?t[1].replace(oD,"'"):r}function hN(r,t){return an(r,t==null?void 0:t.in).getDay()}function fN(r,t,n){const[a,o]=Bh(n==null?void 0:n.in,r,t);return a.getFullYear()===o.getFullYear()&&a.getMonth()===o.getMonth()}function dN(r,t){return l4(Rn(r,r),o4(r))}const cD={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},hD=(r,t,n)=>{let a;const o=cD[r];return typeof o=="string"?a=o:t===1?a=o.one:a=o.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?a+"":a+"":a},fD={full:"y''M''d'' EEEE",long:"y''M''d''",medium:"yyyy-MM-dd",short:"yy-MM-dd"},dD={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},mD={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},gD={date:ao({formats:fD,defaultWidth:"full"}),time:ao({formats:dD,defaultWidth:"full"}),dateTime:ao({formats:mD,defaultWidth:"full"})},pD={lastWeek:"''eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"''eeee p",other:"P"},yD=(r,t,n,a)=>pD[r],_D={narrow:["",""],abbreviated:["",""],wide:["",""]},vD={narrow:["1","2","3","4"],abbreviated:["","","",""],wide:["","","",""]},ED={narrow:["","","","","","","","","","","",""],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["","","","","","","","","","","",""]},TD={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},SD={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},AD={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},bD=(r,t)=>{const n=Number(r);switch(t==null?void 0:t.unit){case"date":return n+"";case"hour":return n+"";case"minute":return n+"";case"second":return n+"";default:return" "+n}},wD={ordinalNumber:bD,era:Ii({values:_D,defaultWidth:"wide"}),quarter:Ii({values:vD,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Ii({values:ED,defaultWidth:"wide"}),day:Ii({values:TD,defaultWidth:"wide"}),dayPeriod:Ii({values:SD,defaultWidth:"wide",formattingValues:AD,defaultFormattingWidth:"wide"})},RD=/^(\s*)?\d+(|||)?/i,CD=/\d+/i,ID={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},DD={any:[/^()/i,/^()/i]},MD={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},ND={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},OD={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},VD={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},kD={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},PD={any:[//i,//i,//i,//i,//i,//i,//i]},xD={any:/^(?|?||[]|?||?|)/i},LD={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},UD={ordinalNumber:nT({matchPattern:RD,parsePattern:CD,valueCallback:r=>parseInt(r,10)}),era:Di({matchPatterns:ID,defaultMatchWidth:"wide",parsePatterns:DD,defaultParseWidth:"any"}),quarter:Di({matchPatterns:MD,defaultMatchWidth:"wide",parsePatterns:ND,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Di({matchPatterns:OD,defaultMatchWidth:"wide",parsePatterns:VD,defaultParseWidth:"any"}),day:Di({matchPatterns:kD,defaultMatchWidth:"wide",parsePatterns:PD,defaultParseWidth:"any"}),dayPeriod:Di({matchPatterns:xD,defaultMatchWidth:"any",parsePatterns:LD,defaultParseWidth:"any"})},mN={code:"zh-TW",formatDistance:hD,formatLong:gD,formatRelative:yD,localize:wD,match:UD,options:{weekStartsOn:1,firstWeekContainsDate:4}};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=(...r)=>r.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=r=>{const t=BD(r);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=Js.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:d,...y},m)=>Js.createElement("svg",{ref:m,...qD,width:t,height:t,stroke:r,strokeWidth:a?Number(n)*24/Number(t):n,className:aT("lucide",o),...!u&&!HD(y)&&{"aria-hidden":"true"},...y},[...d.map(([g,E])=>Js.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=(r,t)=>{const n=Js.forwardRef(({className:a,...o},u)=>Js.createElement(jD,{ref:u,iconNode:t,className:aT(`lucide-${zD(D0(r))}`,`lucide-${r}`,a),...o}));return n.displayName=D0(r),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],gN=yt("arrow-right",FD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pN=yt("ban",GD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],yN=yt("book-open",YD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],_N=yt("building-2",QD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vN=yt("calendar",KD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],EN=yt("check",XD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],TN=yt("chevron-left",$D);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],SN=yt("chevron-right",WD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],AN=yt("circle-alert",JD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],bN=yt("circle-check",ZD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],wN=yt("circle-user",tM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],RN=yt("clock",eM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],CN=yt("cloud-sun",nM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],IN=yt("coffee",iM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],DN=yt("copy",rM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],MN=yt("database",aM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],NN=yt("external-link",sM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ON=yt("eye-off",oM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],VN=yt("eye",lM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],kN=yt("globe",uM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],PN=yt("history",cM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],xN=yt("info",hM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],LN=yt("layout-grid",fM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],UN=yt("list",dM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],zN=yt("lock",mM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],BN=yt("log-out",gM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],qN=yt("mail",pM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],HN=yt("megaphone",yM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],jN=yt("menu",_M);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],FN=yt("monitor",vM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],GN=yt("pen",EM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],YN=yt("plus",TM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],QN=yt("qr-code",SM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],KN=yt("settings-2",AM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],XN=yt("settings",bM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],$N=yt("shield-alert",wM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],WN=yt("shield-check",RM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],JN=yt("smartphone",CM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ZN=yt("sparkles",IM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],tO=yt("sun",DM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],eO=yt("toggle-left",MM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],nO=yt("toggle-right",NM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],iO=yt("trash-2",OM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rO=yt("users",VM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],aO=yt("wifi",kM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sO=yt("x",PM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],oO=yt("zap",xM);var LM=Object.defineProperty,yh=Object.getOwnPropertySymbols,sT=Object.prototype.hasOwnProperty,oT=Object.prototype.propertyIsEnumerable,M0=(r,t,n)=>t in r?LM(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n,Im=(r,t)=>{for(var n in t||(t={}))sT.call(t,n)&&M0(r,n,t[n]);if(yh)for(var n of yh(t))oT.call(t,n)&&M0(r,n,t[n]);return r},Dm=(r,t)=>{var n={};for(var a in r)sT.call(r,a)&&t.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&yh)for(var a of yh(r))t.indexOf(a)<0&&oT.call(r,a)&&(n[a]=r[a]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ja;(r=>{const t=class Dt{constructor(m,g,E,T){if(this.version=m,this.errorCorrectionLevel=g,this.modules=[],this.isFunction=[],m<Dt.MIN_VERSION||m>Dt.MAX_VERSION)throw new RangeError("Version value out of range");if(T<-1||T>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let b=[];for(let q=0;q<this.size;q++)b.push(!1);for(let q=0;q<this.size;q++)this.modules.push(b.slice()),this.isFunction.push(b.slice());this.drawFunctionPatterns();const k=this.addEccAndInterleave(E);if(this.drawCodewords(k),T==-1){let q=1e9;for(let $=0;$<8;$++){this.applyMask($),this.drawFormatBits($);const Y=this.getPenaltyScore();Y<q&&(T=$,q=Y),this.applyMask($)}}o(0<=T&&T<=7),this.mask=T,this.applyMask(T),this.drawFormatBits(T),this.isFunction=[]}static encodeText(m,g){const E=r.QrSegment.makeSegments(m);return Dt.encodeSegments(E,g)}static encodeBinary(m,g){const E=r.QrSegment.makeBytes(m);return Dt.encodeSegments([E],g)}static encodeSegments(m,g,E=1,T=40,b=-1,k=!0){if(!(Dt.MIN_VERSION<=E&&E<=T&&T<=Dt.MAX_VERSION)||b<-1||b>7)throw new RangeError("Invalid value");let q,$;for(q=E;;q++){const Z=Dt.getNumDataCodewords(q,g)*8,dt=d.getTotalBits(m,q);if(dt<=Z){$=dt;break}if(q>=T)throw new RangeError("Data too long")}for(const Z of[Dt.Ecc.MEDIUM,Dt.Ecc.QUARTILE,Dt.Ecc.HIGH])k&&$<=Dt.getNumDataCodewords(q,Z)*8&&(g=Z);let Y=[];for(const Z of m){n(Z.mode.modeBits,4,Y),n(Z.numChars,Z.mode.numCharCountBits(q),Y);for(const dt of Z.getData())Y.push(dt)}o(Y.length==$);const ot=Dt.getNumDataCodewords(q,g)*8;o(Y.length<=ot),n(0,Math.min(4,ot-Y.length),Y),n(0,(8-Y.length%8)%8,Y),o(Y.length%8==0);for(let Z=236;Y.length<ot;Z^=253)n(Z,8,Y);let it=[];for(;it.length*8<Y.length;)it.push(0);return Y.forEach((Z,dt)=>it[dt>>>3]|=Z<<7-(dt&7)),new Dt(q,g,it,b)}getModule(m,g){return 0<=m&&m<this.size&&0<=g&&g<this.size&&this.modules[g][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let E=0;E<this.size;E++)this.setFunctionModule(6,E,E%2==0),this.setFunctionModule(E,6,E%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),g=m.length;for(let E=0;E<g;E++)for(let T=0;T<g;T++)E==0&&T==0||E==0&&T==g-1||E==g-1&&T==0||this.drawAlignmentPattern(m[E],m[T]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const g=this.errorCorrectionLevel.formatBits<<3|m;let E=g;for(let b=0;b<10;b++)E=E<<1^(E>>>9)*1335;const T=(g<<10|E)^21522;o(T>>>15==0);for(let b=0;b<=5;b++)this.setFunctionModule(8,b,a(T,b));this.setFunctionModule(8,7,a(T,6)),this.setFunctionModule(8,8,a(T,7)),this.setFunctionModule(7,8,a(T,8));for(let b=9;b<15;b++)this.setFunctionModule(14-b,8,a(T,b));for(let b=0;b<8;b++)this.setFunctionModule(this.size-1-b,8,a(T,b));for(let b=8;b<15;b++)this.setFunctionModule(8,this.size-15+b,a(T,b));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let E=0;E<12;E++)m=m<<1^(m>>>11)*7973;const g=this.version<<12|m;o(g>>>18==0);for(let E=0;E<18;E++){const T=a(g,E),b=this.size-11+E%3,k=Math.floor(E/3);this.setFunctionModule(b,k,T),this.setFunctionModule(k,b,T)}}drawFinderPattern(m,g){for(let E=-4;E<=4;E++)for(let T=-4;T<=4;T++){const b=Math.max(Math.abs(T),Math.abs(E)),k=m+T,q=g+E;0<=k&&k<this.size&&0<=q&&q<this.size&&this.setFunctionModule(k,q,b!=2&&b!=4)}}drawAlignmentPattern(m,g){for(let E=-2;E<=2;E++)for(let T=-2;T<=2;T++)this.setFunctionModule(m+T,g+E,Math.max(Math.abs(T),Math.abs(E))!=1)}setFunctionModule(m,g,E){this.modules[g][m]=E,this.isFunction[g][m]=!0}addEccAndInterleave(m){const g=this.version,E=this.errorCorrectionLevel;if(m.length!=Dt.getNumDataCodewords(g,E))throw new RangeError("Invalid argument");const T=Dt.NUM_ERROR_CORRECTION_BLOCKS[E.ordinal][g],b=Dt.ECC_CODEWORDS_PER_BLOCK[E.ordinal][g],k=Math.floor(Dt.getNumRawDataModules(g)/8),q=T-k%T,$=Math.floor(k/T);let Y=[];const ot=Dt.reedSolomonComputeDivisor(b);for(let Z=0,dt=0;Z<T;Z++){let Rt=m.slice(dt,dt+$-b+(Z<q?0:1));dt+=Rt.length;const Mt=Dt.reedSolomonComputeRemainder(Rt,ot);Z<q&&Rt.push(0),Y.push(Rt.concat(Mt))}let it=[];for(let Z=0;Z<Y[0].length;Z++)Y.forEach((dt,Rt)=>{(Z!=$-b||Rt>=q)&&it.push(dt[Z])});return o(it.length==k),it}drawCodewords(m){if(m.length!=Math.floor(Dt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let g=0;for(let E=this.size-1;E>=1;E-=2){E==6&&(E=5);for(let T=0;T<this.size;T++)for(let b=0;b<2;b++){const k=E-b,$=(E+1&2)==0?this.size-1-T:T;!this.isFunction[$][k]&&g<m.length*8&&(this.modules[$][k]=a(m[g>>>3],7-(g&7)),g++)}}o(g==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let g=0;g<this.size;g++)for(let E=0;E<this.size;E++){let T;switch(m){case 0:T=(E+g)%2==0;break;case 1:T=g%2==0;break;case 2:T=E%3==0;break;case 3:T=(E+g)%3==0;break;case 4:T=(Math.floor(E/3)+Math.floor(g/2))%2==0;break;case 5:T=E*g%2+E*g%3==0;break;case 6:T=(E*g%2+E*g%3)%2==0;break;case 7:T=((E+g)%2+E*g%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[g][E]&&T&&(this.modules[g][E]=!this.modules[g][E])}}getPenaltyScore(){let m=0;for(let b=0;b<this.size;b++){let k=!1,q=0,$=[0,0,0,0,0,0,0];for(let Y=0;Y<this.size;Y++)this.modules[b][Y]==k?(q++,q==5?m+=Dt.PENALTY_N1:q>5&&m++):(this.finderPenaltyAddHistory(q,$),k||(m+=this.finderPenaltyCountPatterns($)*Dt.PENALTY_N3),k=this.modules[b][Y],q=1);m+=this.finderPenaltyTerminateAndCount(k,q,$)*Dt.PENALTY_N3}for(let b=0;b<this.size;b++){let k=!1,q=0,$=[0,0,0,0,0,0,0];for(let Y=0;Y<this.size;Y++)this.modules[Y][b]==k?(q++,q==5?m+=Dt.PENALTY_N1:q>5&&m++):(this.finderPenaltyAddHistory(q,$),k||(m+=this.finderPenaltyCountPatterns($)*Dt.PENALTY_N3),k=this.modules[Y][b],q=1);m+=this.finderPenaltyTerminateAndCount(k,q,$)*Dt.PENALTY_N3}for(let b=0;b<this.size-1;b++)for(let k=0;k<this.size-1;k++){const q=this.modules[b][k];q==this.modules[b][k+1]&&q==this.modules[b+1][k]&&q==this.modules[b+1][k+1]&&(m+=Dt.PENALTY_N2)}let g=0;for(const b of this.modules)g=b.reduce((k,q)=>k+(q?1:0),g);const E=this.size*this.size,T=Math.ceil(Math.abs(g*20-E*10)/E)-1;return o(0<=T&&T<=9),m+=T*Dt.PENALTY_N4,o(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,g=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let E=[6];for(let T=this.size-7;E.length<m;T-=g)E.splice(1,0,T);return E}}static getNumRawDataModules(m){if(m<Dt.MIN_VERSION||m>Dt.MAX_VERSION)throw new RangeError("Version number out of range");let g=(16*m+128)*m+64;if(m>=2){const E=Math.floor(m/7)+2;g-=(25*E-10)*E-55,m>=7&&(g-=36)}return o(208<=g&&g<=29648),g}static getNumDataCodewords(m,g){return Math.floor(Dt.getNumRawDataModules(m)/8)-Dt.ECC_CODEWORDS_PER_BLOCK[g.ordinal][m]*Dt.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let g=[];for(let T=0;T<m-1;T++)g.push(0);g.push(1);let E=1;for(let T=0;T<m;T++){for(let b=0;b<g.length;b++)g[b]=Dt.reedSolomonMultiply(g[b],E),b+1<g.length&&(g[b]^=g[b+1]);E=Dt.reedSolomonMultiply(E,2)}return g}static reedSolomonComputeRemainder(m,g){let E=g.map(T=>0);for(const T of m){const b=T^E.shift();E.push(0),g.forEach((k,q)=>E[q]^=Dt.reedSolomonMultiply(k,b))}return E}static reedSolomonMultiply(m,g){if(m>>>8||g>>>8)throw new RangeError("Byte out of range");let E=0;for(let T=7;T>=0;T--)E=E<<1^(E>>>7)*285,E^=(g>>>T&1)*m;return o(E>>>8==0),E}finderPenaltyCountPatterns(m){const g=m[1];o(g<=this.size*3);const E=g>0&&m[2]==g&&m[3]==g*3&&m[4]==g&&m[5]==g;return(E&&m[0]>=g*4&&m[6]>=g?1:0)+(E&&m[6]>=g*4&&m[0]>=g?1:0)}finderPenaltyTerminateAndCount(m,g,E){return m&&(this.finderPenaltyAddHistory(g,E),g=0),g+=this.size,this.finderPenaltyAddHistory(g,E),this.finderPenaltyCountPatterns(E)}finderPenaltyAddHistory(m,g){g[0]==0&&(m+=this.size),g.pop(),g.unshift(m)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=t;function n(y,m,g){if(m<0||m>31||y>>>m)throw new RangeError("Value out of range");for(let E=m-1;E>=0;E--)g.push(y>>>E&1)}function a(y,m){return(y>>>m&1)!=0}function o(y){if(!y)throw new Error("Assertion error")}const u=class de{constructor(m,g,E){if(this.mode=m,this.numChars=g,this.bitData=E,g<0)throw new RangeError("Invalid argument");this.bitData=E.slice()}static makeBytes(m){let g=[];for(const E of m)n(E,8,g);return new de(de.Mode.BYTE,m.length,g)}static makeNumeric(m){if(!de.isNumeric(m))throw new RangeError("String contains non-numeric characters");let g=[];for(let E=0;E<m.length;){const T=Math.min(m.length-E,3);n(parseInt(m.substring(E,E+T),10),T*3+1,g),E+=T}return new de(de.Mode.NUMERIC,m.length,g)}static makeAlphanumeric(m){if(!de.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let g=[],E;for(E=0;E+2<=m.length;E+=2){let T=de.ALPHANUMERIC_CHARSET.indexOf(m.charAt(E))*45;T+=de.ALPHANUMERIC_CHARSET.indexOf(m.charAt(E+1)),n(T,11,g)}return E<m.length&&n(de.ALPHANUMERIC_CHARSET.indexOf(m.charAt(E)),6,g),new de(de.Mode.ALPHANUMERIC,m.length,g)}static makeSegments(m){return m==""?[]:de.isNumeric(m)?[de.makeNumeric(m)]:de.isAlphanumeric(m)?[de.makeAlphanumeric(m)]:[de.makeBytes(de.toUtf8ByteArray(m))]}static makeEci(m){let g=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)n(m,8,g);else if(m<16384)n(2,2,g),n(m,14,g);else if(m<1e6)n(6,3,g),n(m,21,g);else throw new RangeError("ECI assignment value out of range");return new de(de.Mode.ECI,0,g)}static isNumeric(m){return de.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return de.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,g){let E=0;for(const T of m){const b=T.mode.numCharCountBits(g);if(T.numChars>=1<<b)return 1/0;E+=4+b+T.bitData.length}return E}static toUtf8ByteArray(m){m=encodeURI(m);let g=[];for(let E=0;E<m.length;E++)m.charAt(E)!="%"?g.push(m.charCodeAt(E)):(g.push(parseInt(m.substring(E+1,E+3),16)),E+=2);return g}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let d=u;r.QrSegment=u})(Ja||(Ja={}));(r=>{(t=>{const n=class{constructor(o,u){this.ordinal=o,this.formatBits=u}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(r.QrCode||(r.QrCode={}))})(Ja||(Ja={}));(r=>{(t=>{const n=class{constructor(o,u){this.modeBits=o,this.numBitsCharCount=u}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(r.QrSegment||(r.QrSegment={}))})(Ja||(Ja={}));var Ws=Ja;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var UM={L:Ws.QrCode.Ecc.LOW,M:Ws.QrCode.Ecc.MEDIUM,Q:Ws.QrCode.Ecc.QUARTILE,H:Ws.QrCode.Ecc.HIGH},lT=128,uT="L",cT="#FFFFFF",hT="#000000",fT=!1,dT=1,zM=4,BM=0,qM=.1;function mT(r,t=0){const n=[];return r.forEach(function(a,o){let u=null;a.forEach(function(d,y){if(!d&&u!==null){n.push(`M${u+t} ${o+t}h${y-u}v1H${u+t}z`),u=null;return}if(y===a.length-1){if(!d)return;u===null?n.push(`M${y+t},${o+t} h1v1H${y+t}z`):n.push(`M${u+t},${o+t} h${y+1-u}v1H${u+t}z`);return}d&&u===null&&(u=y)})}),n.join("")}function gT(r,t){return r.slice().map((n,a)=>a<t.y||a>=t.y+t.h?n:n.map((o,u)=>u<t.x||u>=t.x+t.w?o:!1))}function HM(r,t,n,a){if(a==null)return null;const o=r.length+n*2,u=Math.floor(t*qM),d=o/t,y=(a.width||u)*d,m=(a.height||u)*d,g=a.x==null?r.length/2-y/2:a.x*d,E=a.y==null?r.length/2-m/2:a.y*d,T=a.opacity==null?1:a.opacity;let b=null;if(a.excavate){let q=Math.floor(g),$=Math.floor(E),Y=Math.ceil(y+g-q),ot=Math.ceil(m+E-$);b={x:q,y:$,w:Y,h:ot}}const k=a.crossOrigin;return{x:g,y:E,h:m,w:y,excavation:b,opacity:T,crossOrigin:k}}function jM(r,t){return t!=null?Math.max(Math.floor(t),0):r?zM:BM}function pT({value:r,level:t,minVersion:n,includeMargin:a,marginSize:o,imageSettings:u,size:d,boostLevel:y}){let m=ke.useMemo(()=>{const q=(Array.isArray(r)?r:[r]).reduce(($,Y)=>($.push(...Ws.QrSegment.makeSegments(Y)),$),[]);return Ws.QrCode.encodeSegments(q,UM[t],n,void 0,void 0,y)},[r,t,n,y]);const{cells:g,margin:E,numCells:T,calculatedImageSettings:b}=ke.useMemo(()=>{let k=m.getModules();const q=jM(a,o),$=k.length+q*2,Y=HM(k,d,q,u);return{cells:k,margin:q,numCells:$,calculatedImageSettings:Y}},[m,d,u,a,o]);return{qrcode:m,margin:E,cells:g,numCells:T,calculatedImageSettings:b}}var FM=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),GM=ke.forwardRef(function(t,n){const a=t,{value:o,size:u=lT,level:d=uT,bgColor:y=cT,fgColor:m=hT,includeMargin:g=fT,minVersion:E=dT,boostLevel:T,marginSize:b,imageSettings:k}=a,$=Dm(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:Y}=$,ot=Dm($,["style"]),it=k==null?void 0:k.src,Z=ke.useRef(null),dt=ke.useRef(null),Rt=ke.useCallback(Bt=>{Z.current=Bt,typeof n=="function"?n(Bt):n&&(n.current=Bt)},[n]),[Mt,D]=ke.useState(!1),{margin:w,cells:I,numCells:V,calculatedImageSettings:M}=pT({value:o,level:d,minVersion:E,boostLevel:T,includeMargin:g,marginSize:b,imageSettings:k,size:u});ke.useEffect(()=>{if(Z.current!=null){const Bt=Z.current,Qt=Bt.getContext("2d");if(!Qt)return;let F=I;const et=dt.current,ct=M!=null&&et!==null&&et.complete&&et.naturalHeight!==0&&et.naturalWidth!==0;ct&&M.excavation!=null&&(F=gT(I,M.excavation));const Nt=window.devicePixelRatio||1;Bt.height=Bt.width=u*Nt;const qt=u/V*Nt;Qt.scale(qt,qt),Qt.fillStyle=y,Qt.fillRect(0,0,V,V),Qt.fillStyle=m,FM?Qt.fill(new Path2D(mT(F,w))):I.forEach(function(O,K){O.forEach(function(nt,rt){nt&&Qt.fillRect(rt+w,K+w,1,1)})}),M&&(Qt.globalAlpha=M.opacity),ct&&Qt.drawImage(et,M.x+w,M.y+w,M.w,M.h)}}),ke.useEffect(()=>{D(!1)},[it]);const x=Im({height:u,width:u},Y);let R=null;return it!=null&&(R=ke.createElement("img",{src:it,key:it,style:{display:"none"},onLoad:()=>{D(!0)},ref:dt,crossOrigin:M==null?void 0:M.crossOrigin})),ke.createElement(ke.Fragment,null,ke.createElement("canvas",Im({style:x,height:u,width:u,ref:Rt,role:"img"},ot)),R)});GM.displayName="QRCodeCanvas";var YM=ke.forwardRef(function(t,n){const a=t,{value:o,size:u=lT,level:d=uT,bgColor:y=cT,fgColor:m=hT,includeMargin:g=fT,minVersion:E=dT,boostLevel:T,title:b,marginSize:k,imageSettings:q}=a,$=Dm(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:Y,cells:ot,numCells:it,calculatedImageSettings:Z}=pT({value:o,level:d,minVersion:E,boostLevel:T,includeMargin:g,marginSize:k,imageSettings:q,size:u});let dt=ot,Rt=null;q!=null&&Z!=null&&(Z.excavation!=null&&(dt=gT(ot,Z.excavation)),Rt=ke.createElement("image",{href:q.src,height:Z.h,width:Z.w,x:Z.x+Y,y:Z.y+Y,preserveAspectRatio:"none",opacity:Z.opacity,crossOrigin:Z.crossOrigin}));const Mt=mT(dt,Y);return ke.createElement("svg",Im({height:u,width:u,viewBox:`0 0 ${it} ${it}`,ref:n,role:"img"},$),!!b&&ke.createElement("title",null,b),ke.createElement("path",{fill:y,d:`M0,0 h${it}v${it}H0z`,shapeRendering:"crispEdges"}),ke.createElement("path",{fill:m,d:Mt,shapeRendering:"crispEdges"}),Rt)});YM.displayName="QRCodeSVG";export{QN as $,AN as A,pN as B,TN as C,bN as D,wN as E,vN as F,tO as G,CN as H,XN as I,NN as J,$N as K,BN as L,qN as M,HN as N,FN as O,yN as P,PN as Q,kN as R,WN as S,DN as T,rO as U,KN as V,MN as W,sO as X,aO as Y,oO as Z,zN as _,aN as a,nO as a0,eO as a1,JN as a2,gN as a3,UN as a4,LN as a5,YN as a6,GN as a7,iO as a8,_N as a9,jN as aa,ZN as ab,xN as ac,GM as ad,ON as ae,VN as af,EN as ag,Yr as ah,rN as ai,KM as aj,ke as ak,nN as b,iN as c,QR as d,$M as e,ZM as f,WM as g,JM as h,M2 as i,QM as j,oN as k,hN as l,uN as m,lN as n,cN as o,SN as p,fN as q,Js as r,tN as s,l4 as t,eN as u,dN as v,RN as w,IN as x,sN as y,mN as z};
